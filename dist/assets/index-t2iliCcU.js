(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function i(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(r){if(r.ep)return;r.ep=!0;const l=i(r);fetch(r.href,l)}})();function Sf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function cb(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var i=function o(){return this instanceof o?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};i.prototype=e.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(t).forEach(function(o){var r=Object.getOwnPropertyDescriptor(t,o);Object.defineProperty(i,o,r.get?r:{enumerable:!0,get:function(){return t[o]}})}),i}var Td={exports:{}},Br={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hg;function db(){if(hg)return Br;hg=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(o,r,l){var c=null;if(l!==void 0&&(c=""+l),r.key!==void 0&&(c=""+r.key),"key"in r){l={};for(var h in r)h!=="key"&&(l[h]=r[h])}else l=r;return r=l.ref,{$$typeof:t,type:o,key:c,ref:r!==void 0?r:null,props:l}}return Br.Fragment=e,Br.jsx=i,Br.jsxs=i,Br}var pg;function fb(){return pg||(pg=1,Td.exports=db()),Td.exports}var _=fb(),xd={exports:{}},Se={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mg;function hb(){if(mg)return Se;mg=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),b=Symbol.iterator;function x(M){return M===null||typeof M!="object"?null:(M=b&&M[b]||M["@@iterator"],typeof M=="function"?M:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,R={};function k(M,J,Z){this.props=M,this.context=J,this.refs=R,this.updater=Z||A}k.prototype.isReactComponent={},k.prototype.setState=function(M,J){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,J,"setState")},k.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function z(){}z.prototype=k.prototype;function U(M,J,Z){this.props=M,this.context=J,this.refs=R,this.updater=Z||A}var H=U.prototype=new z;H.constructor=U,C(H,k.prototype),H.isPureReactComponent=!0;var Y=Array.isArray;function B(){}var K={H:null,A:null,T:null,S:null},fe=Object.prototype.hasOwnProperty;function te(M,J,Z){var se=Z.ref;return{$$typeof:t,type:M,key:J,ref:se!==void 0?se:null,props:Z}}function be(M,J){return te(M.type,J,M.props)}function pe(M){return typeof M=="object"&&M!==null&&M.$$typeof===t}function ke(M){var J={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(Z){return J[Z]})}var He=/\/+/g;function Ge(M,J){return typeof M=="object"&&M!==null&&M.key!=null?ke(""+M.key):J.toString(36)}function ze(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(B,B):(M.status="pending",M.then(function(J){M.status==="pending"&&(M.status="fulfilled",M.value=J)},function(J){M.status==="pending"&&(M.status="rejected",M.reason=J)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function V(M,J,Z,se,ye){var we=typeof M;(we==="undefined"||we==="boolean")&&(M=null);var Ue=!1;if(M===null)Ue=!0;else switch(we){case"bigint":case"string":case"number":Ue=!0;break;case"object":switch(M.$$typeof){case t:case e:Ue=!0;break;case v:return Ue=M._init,V(Ue(M._payload),J,Z,se,ye)}}if(Ue)return ye=ye(M),Ue=se===""?"."+Ge(M,0):se,Y(ye)?(Z="",Ue!=null&&(Z=Ue.replace(He,"$&/")+"/"),V(ye,J,Z,"",function(In){return In})):ye!=null&&(pe(ye)&&(ye=be(ye,Z+(ye.key==null||M&&M.key===ye.key?"":(""+ye.key).replace(He,"$&/")+"/")+Ue)),J.push(ye)),1;Ue=0;var Xe=se===""?".":se+":";if(Y(M))for(var Oe=0;Oe<M.length;Oe++)se=M[Oe],we=Xe+Ge(se,Oe),Ue+=V(se,J,Z,we,ye);else if(Oe=x(M),typeof Oe=="function")for(M=Oe.call(M),Oe=0;!(se=M.next()).done;)se=se.value,we=Xe+Ge(se,Oe++),Ue+=V(se,J,Z,we,ye);else if(we==="object"){if(typeof M.then=="function")return V(ze(M),J,Z,se,ye);throw J=String(M),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return Ue}function Q(M,J,Z){if(M==null)return M;var se=[],ye=0;return V(M,se,"","",function(we){return J.call(Z,we,ye++)}),se}function le(M){if(M._status===-1){var J=M._result;J=J(),J.then(function(Z){(M._status===0||M._status===-1)&&(M._status=1,M._result=Z)},function(Z){(M._status===0||M._status===-1)&&(M._status=2,M._result=Z)}),M._status===-1&&(M._status=0,M._result=J)}if(M._status===1)return M._result.default;throw M._result}var Te=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},_e={map:Q,forEach:function(M,J,Z){Q(M,function(){J.apply(this,arguments)},Z)},count:function(M){var J=0;return Q(M,function(){J++}),J},toArray:function(M){return Q(M,function(J){return J})||[]},only:function(M){if(!pe(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Se.Activity=S,Se.Children=_e,Se.Component=k,Se.Fragment=i,Se.Profiler=r,Se.PureComponent=U,Se.StrictMode=o,Se.Suspense=g,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=K,Se.__COMPILER_RUNTIME={__proto__:null,c:function(M){return K.H.useMemoCache(M)}},Se.cache=function(M){return function(){return M.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function(M,J,Z){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var se=C({},M.props),ye=M.key;if(J!=null)for(we in J.key!==void 0&&(ye=""+J.key),J)!fe.call(J,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&J.ref===void 0||(se[we]=J[we]);var we=arguments.length-2;if(we===1)se.children=Z;else if(1<we){for(var Ue=Array(we),Xe=0;Xe<we;Xe++)Ue[Xe]=arguments[Xe+2];se.children=Ue}return te(M.type,ye,se)},Se.createContext=function(M){return M={$$typeof:c,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:l,_context:M},M},Se.createElement=function(M,J,Z){var se,ye={},we=null;if(J!=null)for(se in J.key!==void 0&&(we=""+J.key),J)fe.call(J,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(ye[se]=J[se]);var Ue=arguments.length-2;if(Ue===1)ye.children=Z;else if(1<Ue){for(var Xe=Array(Ue),Oe=0;Oe<Ue;Oe++)Xe[Oe]=arguments[Oe+2];ye.children=Xe}if(M&&M.defaultProps)for(se in Ue=M.defaultProps,Ue)ye[se]===void 0&&(ye[se]=Ue[se]);return te(M,we,ye)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(M){return{$$typeof:h,render:M}},Se.isValidElement=pe,Se.lazy=function(M){return{$$typeof:v,_payload:{_status:-1,_result:M},_init:le}},Se.memo=function(M,J){return{$$typeof:p,type:M,compare:J===void 0?null:J}},Se.startTransition=function(M){var J=K.T,Z={};K.T=Z;try{var se=M(),ye=K.S;ye!==null&&ye(Z,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(B,Te)}catch(we){Te(we)}finally{J!==null&&Z.types!==null&&(J.types=Z.types),K.T=J}},Se.unstable_useCacheRefresh=function(){return K.H.useCacheRefresh()},Se.use=function(M){return K.H.use(M)},Se.useActionState=function(M,J,Z){return K.H.useActionState(M,J,Z)},Se.useCallback=function(M,J){return K.H.useCallback(M,J)},Se.useContext=function(M){return K.H.useContext(M)},Se.useDebugValue=function(){},Se.useDeferredValue=function(M,J){return K.H.useDeferredValue(M,J)},Se.useEffect=function(M,J){return K.H.useEffect(M,J)},Se.useEffectEvent=function(M){return K.H.useEffectEvent(M)},Se.useId=function(){return K.H.useId()},Se.useImperativeHandle=function(M,J,Z){return K.H.useImperativeHandle(M,J,Z)},Se.useInsertionEffect=function(M,J){return K.H.useInsertionEffect(M,J)},Se.useLayoutEffect=function(M,J){return K.H.useLayoutEffect(M,J)},Se.useMemo=function(M,J){return K.H.useMemo(M,J)},Se.useOptimistic=function(M,J){return K.H.useOptimistic(M,J)},Se.useReducer=function(M,J,Z){return K.H.useReducer(M,J,Z)},Se.useRef=function(M){return K.H.useRef(M)},Se.useState=function(M){return K.H.useState(M)},Se.useSyncExternalStore=function(M,J,Z){return K.H.useSyncExternalStore(M,J,Z)},Se.useTransition=function(){return K.H.useTransition()},Se.version="19.2.4",Se}var gg;function bf(){return gg||(gg=1,xd.exports=hb()),xd.exports}var oe=bf();const Fy=Sf(oe);var wd={exports:{}},Gr={},Ad={exports:{}},Cd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yg;function pb(){return yg||(yg=1,(function(t){function e(V,Q){var le=V.length;V.push(Q);e:for(;0<le;){var Te=le-1>>>1,_e=V[Te];if(0<r(_e,Q))V[Te]=Q,V[le]=_e,le=Te;else break e}}function i(V){return V.length===0?null:V[0]}function o(V){if(V.length===0)return null;var Q=V[0],le=V.pop();if(le!==Q){V[0]=le;e:for(var Te=0,_e=V.length,M=_e>>>1;Te<M;){var J=2*(Te+1)-1,Z=V[J],se=J+1,ye=V[se];if(0>r(Z,le))se<_e&&0>r(ye,Z)?(V[Te]=ye,V[se]=le,Te=se):(V[Te]=Z,V[J]=le,Te=J);else if(se<_e&&0>r(ye,le))V[Te]=ye,V[se]=le,Te=se;else break e}}return Q}function r(V,Q){var le=V.sortIndex-Q.sortIndex;return le!==0?le:V.id-Q.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var g=[],p=[],v=1,S=null,b=3,x=!1,A=!1,C=!1,R=!1,k=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function H(V){for(var Q=i(p);Q!==null;){if(Q.callback===null)o(p);else if(Q.startTime<=V)o(p),Q.sortIndex=Q.expirationTime,e(g,Q);else break;Q=i(p)}}function Y(V){if(C=!1,H(V),!A)if(i(g)!==null)A=!0,B||(B=!0,ke());else{var Q=i(p);Q!==null&&ze(Y,Q.startTime-V)}}var B=!1,K=-1,fe=5,te=-1;function be(){return R?!0:!(t.unstable_now()-te<fe)}function pe(){if(R=!1,B){var V=t.unstable_now();te=V;var Q=!0;try{e:{A=!1,C&&(C=!1,z(K),K=-1),x=!0;var le=b;try{t:{for(H(V),S=i(g);S!==null&&!(S.expirationTime>V&&be());){var Te=S.callback;if(typeof Te=="function"){S.callback=null,b=S.priorityLevel;var _e=Te(S.expirationTime<=V);if(V=t.unstable_now(),typeof _e=="function"){S.callback=_e,H(V),Q=!0;break t}S===i(g)&&o(g),H(V)}else o(g);S=i(g)}if(S!==null)Q=!0;else{var M=i(p);M!==null&&ze(Y,M.startTime-V),Q=!1}}break e}finally{S=null,b=le,x=!1}Q=void 0}}finally{Q?ke():B=!1}}}var ke;if(typeof U=="function")ke=function(){U(pe)};else if(typeof MessageChannel<"u"){var He=new MessageChannel,Ge=He.port2;He.port1.onmessage=pe,ke=function(){Ge.postMessage(null)}}else ke=function(){k(pe,0)};function ze(V,Q){K=k(function(){V(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):fe=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(V){switch(b){case 1:case 2:case 3:var Q=3;break;default:Q=b}var le=b;b=Q;try{return V()}finally{b=le}},t.unstable_requestPaint=function(){R=!0},t.unstable_runWithPriority=function(V,Q){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var le=b;b=V;try{return Q()}finally{b=le}},t.unstable_scheduleCallback=function(V,Q,le){var Te=t.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?Te+le:Te):le=Te,V){case 1:var _e=-1;break;case 2:_e=250;break;case 5:_e=1073741823;break;case 4:_e=1e4;break;default:_e=5e3}return _e=le+_e,V={id:v++,callback:Q,priorityLevel:V,startTime:le,expirationTime:_e,sortIndex:-1},le>Te?(V.sortIndex=le,e(p,V),i(g)===null&&V===i(p)&&(C?(z(K),K=-1):C=!0,ze(Y,le-Te))):(V.sortIndex=_e,e(g,V),A||x||(A=!0,B||(B=!0,ke()))),V},t.unstable_shouldYield=be,t.unstable_wrapCallback=function(V){var Q=b;return function(){var le=b;b=Q;try{return V.apply(this,arguments)}finally{b=le}}}})(Cd)),Cd}var vg;function mb(){return vg||(vg=1,Ad.exports=pb()),Ad.exports}var Nd={exports:{}},Mt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _g;function gb(){if(_g)return Mt;_g=1;var t=bf();function e(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var o={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},r=Symbol.for("react.portal");function l(g,p,v){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:S==null?null:""+S,children:g,containerInfo:p,implementation:v}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Mt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,Mt.createPortal=function(g,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(g,p,null,v)},Mt.flushSync=function(g){var p=c.T,v=o.p;try{if(c.T=null,o.p=2,g)return g()}finally{c.T=p,o.p=v,o.d.f()}},Mt.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,o.d.C(g,p))},Mt.prefetchDNS=function(g){typeof g=="string"&&o.d.D(g)},Mt.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var v=p.as,S=h(v,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,x=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?o.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:S,integrity:b,fetchPriority:x}):v==="script"&&o.d.X(g,{crossOrigin:S,integrity:b,fetchPriority:x,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Mt.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=h(p.as,p.crossOrigin);o.d.M(g,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&o.d.M(g)},Mt.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,S=h(v,p.crossOrigin);o.d.L(g,v,{crossOrigin:S,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Mt.preloadModule=function(g,p){if(typeof g=="string")if(p){var v=h(p.as,p.crossOrigin);o.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else o.d.m(g)},Mt.requestFormReset=function(g){o.d.r(g)},Mt.unstable_batchedUpdates=function(g,p){return g(p)},Mt.useFormState=function(g,p,v){return c.H.useFormState(g,p,v)},Mt.useFormStatus=function(){return c.H.useHostTransitionStatus()},Mt.version="19.2.4",Mt}var Sg;function yb(){if(Sg)return Nd.exports;Sg=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Nd.exports=gb(),Nd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bg;function vb(){if(bg)return Gr;bg=1;var t=mb(),e=bf(),i=yb();function o(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var s=n,a=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(a=s.return),n=s.return;while(n)}return s.tag===3?a:null}function c(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function h(n){if(n.tag===31){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function g(n){if(l(n)!==n)throw Error(o(188))}function p(n){var s=n.alternate;if(!s){if(s=l(n),s===null)throw Error(o(188));return s!==n?null:n}for(var a=n,u=s;;){var m=a.return;if(m===null)break;var y=m.alternate;if(y===null){if(u=m.return,u!==null){a=u;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===a)return g(m),n;if(y===u)return g(m),s;y=y.sibling}throw Error(o(188))}if(a.return!==u.return)a=m,u=y;else{for(var E=!1,T=m.child;T;){if(T===a){E=!0,a=m,u=y;break}if(T===u){E=!0,u=m,a=y;break}T=T.sibling}if(!E){for(T=y.child;T;){if(T===a){E=!0,a=y,u=m;break}if(T===u){E=!0,u=y,a=m;break}T=T.sibling}if(!E)throw Error(o(189))}}if(a.alternate!==u)throw Error(o(190))}if(a.tag!==3)throw Error(o(188));return a.stateNode.current===a?n:s}function v(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=v(n),s!==null)return s;n=n.sibling}return null}var S=Object.assign,b=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),z=Symbol.for("react.consumer"),U=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),fe=Symbol.for("react.lazy"),te=Symbol.for("react.activity"),be=Symbol.for("react.memo_cache_sentinel"),pe=Symbol.iterator;function ke(n){return n===null||typeof n!="object"?null:(n=pe&&n[pe]||n["@@iterator"],typeof n=="function"?n:null)}var He=Symbol.for("react.client.reference");function Ge(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===He?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case C:return"Fragment";case k:return"Profiler";case R:return"StrictMode";case Y:return"Suspense";case B:return"SuspenseList";case te:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case A:return"Portal";case U:return n.displayName||"Context";case z:return(n._context.displayName||"Context")+".Consumer";case H:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case K:return s=n.displayName||null,s!==null?s:Ge(n.type)||"Memo";case fe:s=n._payload,n=n._init;try{return Ge(n(s))}catch{}}return null}var ze=Array.isArray,V=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},Te=[],_e=-1;function M(n){return{current:n}}function J(n){0>_e||(n.current=Te[_e],Te[_e]=null,_e--)}function Z(n,s){_e++,Te[_e]=n.current,n.current=s}var se=M(null),ye=M(null),we=M(null),Ue=M(null);function Xe(n,s){switch(Z(we,s),Z(ye,n),Z(se,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?Pm(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=Pm(s),n=Lm(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}J(se),Z(se,n)}function Oe(){J(se),J(ye),J(we)}function In(n){n.memoizedState!==null&&Z(Ue,n);var s=se.current,a=Lm(s,n.type);s!==a&&(Z(ye,n),Z(se,a))}function fi(n){ye.current===n&&(J(se),J(ye)),Ue.current===n&&(J(Ue),Or._currentValue=le)}var hi,Lo;function vn(n){if(hi===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);hi=s&&s[1]||"",Lo=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+hi+n+Lo}var Gn=!1;function pi(n,s){if(!n||Gn)return"";Gn=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var j=function(){throw Error()};if(Object.defineProperty(j.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(j,[])}catch(G){var q=G}Reflect.construct(n,[],j)}else{try{j.call()}catch(G){q=G}n.call(j.prototype)}}else{try{throw Error()}catch(G){q=G}(j=n())&&typeof j.catch=="function"&&j.catch(function(){})}}catch(G){if(G&&q&&typeof G.stack=="string")return[G.stack,q.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),E=y[0],T=y[1];if(E&&T){var N=E.split(`
`),L=T.split(`
`);for(m=u=0;u<N.length&&!N[u].includes("DetermineComponentFrameRoot");)u++;for(;m<L.length&&!L[m].includes("DetermineComponentFrameRoot");)m++;if(u===N.length||m===L.length)for(u=N.length-1,m=L.length-1;1<=u&&0<=m&&N[u]!==L[m];)m--;for(;1<=u&&0<=m;u--,m--)if(N[u]!==L[m]){if(u!==1||m!==1)do if(u--,m--,0>m||N[u]!==L[m]){var F=`
`+N[u].replace(" at new "," at ");return n.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",n.displayName)),F}while(1<=u&&0<=m);break}}}finally{Gn=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?vn(a):""}function ra(n,s){switch(n.tag){case 26:case 27:case 5:return vn(n.type);case 16:return vn("Lazy");case 13:return n.child!==s&&s!==null?vn("Suspense Fallback"):vn("Suspense");case 19:return vn("SuspenseList");case 0:case 15:return pi(n.type,!1);case 11:return pi(n.type.render,!1);case 1:return pi(n.type,!0);case 31:return vn("Activity");default:return""}}function Cs(n){try{var s="",a=null;do s+=ra(n,a),a=n,n=n.return;while(n);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var qo=Object.prototype.hasOwnProperty,Zi=t.unstable_scheduleCallback,Bo=t.unstable_cancelCallback,zn=t.unstable_shouldYield,Go=t.unstable_requestPaint,Ut=t.unstable_now,zo=t.unstable_getCurrentPriorityLevel,Mn=t.unstable_ImmediatePriority,es=t.unstable_UserBlockingPriority,Ot=t.unstable_NormalPriority,aa=t.unstable_LowPriority,mi=t.unstable_IdlePriority,la=t.log,Dn=t.unstable_setDisableYieldValue,gi=null,bt=null;function kn(n){if(typeof la=="function"&&Dn(n),bt&&typeof bt.setStrictMode=="function")try{bt.setStrictMode(gi,n)}catch{}}var Bt=Math.clz32?Math.clz32:Ns,gu=Math.log,yu=Math.LN2;function Ns(n){return n>>>=0,n===0?32:31-(gu(n)/yu|0)|0}var rn=256,Rs=262144,tt=4194304;function Un(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function lt(n,s,a){var u=n.pendingLanes;if(u===0)return 0;var m=0,y=n.suspendedLanes,E=n.pingedLanes;n=n.warmLanes;var T=u&134217727;return T!==0?(u=T&~y,u!==0?m=Un(u):(E&=T,E!==0?m=Un(E):a||(a=T&~n,a!==0&&(m=Un(a))))):(T=u&~y,T!==0?m=Un(T):E!==0?m=Un(E):a||(a=u&~n,a!==0&&(m=Un(a)))),m===0?0:s!==0&&s!==m&&(s&y)===0&&(y=m&-m,a=s&-s,y>=a||y===32&&(a&4194048)!==0)?s:m}function ts(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function Is(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ua(){var n=tt;return tt<<=1,(tt&62914560)===0&&(tt=4194304),n}function Ms(n){for(var s=[],a=0;31>a;a++)s.push(n);return s}function yi(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function ca(n,s,a,u,m,y){var E=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var T=n.entanglements,N=n.expirationTimes,L=n.hiddenUpdates;for(a=E&~a;0<a;){var F=31-Bt(a),j=1<<F;T[F]=0,N[F]=-1;var q=L[F];if(q!==null)for(L[F]=null,F=0;F<q.length;F++){var G=q[F];G!==null&&(G.lane&=-536870913)}a&=~j}u!==0&&Ho(n,u,0),y!==0&&m===0&&n.tag!==0&&(n.suspendedLanes|=y&~(E&~s))}function Ho(n,s,a){n.pendingLanes|=s,n.suspendedLanes&=~s;var u=31-Bt(s);n.entangledLanes|=s,n.entanglements[u]=n.entanglements[u]|1073741824|a&261930}function Vo(n,s){var a=n.entangledLanes|=s;for(n=n.entanglements;a;){var u=31-Bt(a),m=1<<u;m&s|n[u]&s&&(n[u]|=s),a&=~m}}function Fo(n,s){var a=s&-s;return a=(a&42)!==0?1:Rt(a),(a&(n.suspendedLanes|s))!==0?0:a}function Rt(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function vi(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function da(){var n=Q.p;return n!==0?n:(n=window.event,n===void 0?32:rg(n.type))}function _i(n,s){var a=Q.p;try{return Q.p=n,s()}finally{Q.p=a}}var _n=Math.random().toString(36).slice(2),nt="__reactFiber$"+_n,It="__reactProps$"+_n,Si="__reactContainer$"+_n,$o="__reactEvents$"+_n,vu="__reactListeners$"+_n,On="__reactHandles$"+_n,jo="__reactResources$"+_n,an="__reactMarker$"+_n;function Jo(n){delete n[nt],delete n[It],delete n[$o],delete n[vu],delete n[On]}function bi(n){var s=n[nt];if(s)return s;for(var a=n.parentNode;a;){if(s=a[Si]||a[nt]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(n=Fm(n);n!==null;){if(a=n[nt])return a;n=Fm(n)}return s}n=a,a=n.parentNode}return null}function Yt(n){if(n=n[nt]||n[Si]){var s=n.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return n}return null}function Ei(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(o(33))}function Hn(n){var s=n[jo];return s||(s=n[jo]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function ot(n){n[an]=!0}var Ko=new Set,fa={};function ut(n,s){Ti(n,s),Ti(n+"Capture",s)}function Ti(n,s){for(fa[n]=s,n=0;n<s.length;n++)Ko.add(s[n])}var ha=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),pa={},ma={};function _u(n){return qo.call(ma,n)?!0:qo.call(pa,n)?!1:ha.test(n)?ma[n]=!0:(pa[n]=!0,!1)}function Ds(n,s,a){if(_u(s))if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+a)}}function ks(n,s,a){if(a===null)n.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+a)}}function Sn(n,s,a,u){if(u===null)n.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(s,a,""+u)}}function Gt(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function ga(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Su(n,s,a){var u=Object.getOwnPropertyDescriptor(n.constructor.prototype,s);if(!n.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,y=u.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return m.call(this)},set:function(E){a=""+E,y.call(this,E)}}),Object.defineProperty(n,s,{enumerable:u.enumerable}),{getValue:function(){return a},setValue:function(E){a=""+E},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function Yo(n){if(!n._valueTracker){var s=ga(n)?"checked":"value";n._valueTracker=Su(n,s,""+n[s])}}function ya(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var a=s.getValue(),u="";return n&&(u=ga(n)?n.checked?"true":"false":n.value),n=u,n!==a?(s.setValue(n),!0):!1}function Us(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var bu=/[\n"\\]/g;function zt(n){return n.replace(bu,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Xo(n,s,a,u,m,y,E,T){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),s!=null?E==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+Gt(s)):n.value!==""+Gt(s)&&(n.value=""+Gt(s)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),s!=null?Qo(n,E,Gt(s)):a!=null?Qo(n,E,Gt(a)):u!=null&&n.removeAttribute("value"),m==null&&y!=null&&(n.defaultChecked=!!y),m!=null&&(n.checked=m&&typeof m!="function"&&typeof m!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.name=""+Gt(T):n.removeAttribute("name")}function va(n,s,a,u,m,y,E,T){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(n.type=y),s!=null||a!=null){if(!(y!=="submit"&&y!=="reset"||s!=null)){Yo(n);return}a=a!=null?""+Gt(a):"",s=s!=null?""+Gt(s):a,T||s===n.value||(n.value=s),n.defaultValue=s}u=u??m,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=T?n.checked:!!u,n.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E),Yo(n)}function Qo(n,s,a){s==="number"&&Us(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function xi(n,s,a,u){if(n=n.options,s){s={};for(var m=0;m<a.length;m++)s["$"+a[m]]=!0;for(a=0;a<n.length;a++)m=s.hasOwnProperty("$"+n[a].value),n[a].selected!==m&&(n[a].selected=m),m&&u&&(n[a].defaultSelected=!0)}else{for(a=""+Gt(a),s=null,m=0;m<n.length;m++){if(n[m].value===a){n[m].selected=!0,u&&(n[m].defaultSelected=!0);return}s!==null||n[m].disabled||(s=n[m])}s!==null&&(s.selected=!0)}}function _a(n,s,a){if(s!=null&&(s=""+Gt(s),s!==n.value&&(n.value=s),a==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=a!=null?""+Gt(a):""}function Sa(n,s,a,u){if(s==null){if(u!=null){if(a!=null)throw Error(o(92));if(ze(u)){if(1<u.length)throw Error(o(93));u=u[0]}a=u}a==null&&(a=""),s=a}a=Gt(s),n.defaultValue=a,u=n.textContent,u===a&&u!==""&&u!==null&&(n.value=u),Yo(n)}function wi(n,s){if(s){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=s;return}}n.textContent=s}var Eu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function w(n,s,a){var u=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?u?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":u?n.setProperty(s,a):typeof a!="number"||a===0||Eu.has(s)?s==="float"?n.cssFloat=a:n[s]=(""+a).trim():n[s]=a+"px"}function O(n,s,a){if(s!=null&&typeof s!="object")throw Error(o(62));if(n=n.style,a!=null){for(var u in a)!a.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var m in s)u=s[m],s.hasOwnProperty(m)&&a[m]!==u&&w(n,m,u)}else for(var y in s)s.hasOwnProperty(y)&&w(n,y,s[y])}function X(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ie=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),W=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ce(n){return W.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function Ve(){}var ee=null;function Ae(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Et=null,ct=null;function ns(n){var s=Yt(n);if(s&&(n=s.stateNode)){var a=n[It]||null;e:switch(n=s.stateNode,s.type){case"input":if(Xo(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+zt(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var u=a[s];if(u!==n&&u.form===n.form){var m=u[It]||null;if(!m)throw Error(o(90));Xo(u,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(s=0;s<a.length;s++)u=a[s],u.form===n.form&&ya(u)}break e;case"textarea":_a(n,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&xi(n,!!a.multiple,s,!1)}}}var Ht=!1;function Pf(n,s,a){if(Ht)return n(s,a);Ht=!0;try{var u=n(s);return u}finally{if(Ht=!1,(Et!==null||ct!==null)&&(al(),Et&&(s=Et,n=ct,ct=Et=null,ns(s),n)))for(s=0;s<n.length;s++)ns(n[s])}}function Wo(n,s){var a=n.stateNode;if(a===null)return null;var u=a[It]||null;if(u===null)return null;a=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(o(231,s,typeof a));return a}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tu=!1;if(Vn)try{var Zo={};Object.defineProperty(Zo,"passive",{get:function(){Tu=!0}}),window.addEventListener("test",Zo,Zo),window.removeEventListener("test",Zo,Zo)}catch{Tu=!1}var Ai=null,xu=null,ba=null;function Lf(){if(ba)return ba;var n,s=xu,a=s.length,u,m="value"in Ai?Ai.value:Ai.textContent,y=m.length;for(n=0;n<a&&s[n]===m[n];n++);var E=a-n;for(u=1;u<=E&&s[a-u]===m[y-u];u++);return ba=m.slice(n,1<u?1-u:void 0)}function Ea(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function Ta(){return!0}function qf(){return!1}function Vt(n){function s(a,u,m,y,E){this._reactName=a,this._targetInst=m,this.type=u,this.nativeEvent=y,this.target=E,this.currentTarget=null;for(var T in n)n.hasOwnProperty(T)&&(a=n[T],this[T]=a?a(y):y[T]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Ta:qf,this.isPropagationStopped=qf,this}return S(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ta)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ta)},persist:function(){},isPersistent:Ta}),s}var is={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xa=Vt(is),er=S({},is,{view:0,detail:0}),l_=Vt(er),wu,Au,tr,wa=S({},er,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nu,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==tr&&(tr&&n.type==="mousemove"?(wu=n.screenX-tr.screenX,Au=n.screenY-tr.screenY):Au=wu=0,tr=n),wu)},movementY:function(n){return"movementY"in n?n.movementY:Au}}),Bf=Vt(wa),u_=S({},wa,{dataTransfer:0}),c_=Vt(u_),d_=S({},er,{relatedTarget:0}),Cu=Vt(d_),f_=S({},is,{animationName:0,elapsedTime:0,pseudoElement:0}),h_=Vt(f_),p_=S({},is,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),m_=Vt(p_),g_=S({},is,{data:0}),Gf=Vt(g_),y_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},v_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},__={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function S_(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=__[n])?!!s[n]:!1}function Nu(){return S_}var b_=S({},er,{key:function(n){if(n.key){var s=y_[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=Ea(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?v_[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nu,charCode:function(n){return n.type==="keypress"?Ea(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Ea(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),E_=Vt(b_),T_=S({},wa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zf=Vt(T_),x_=S({},er,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nu}),w_=Vt(x_),A_=S({},is,{propertyName:0,elapsedTime:0,pseudoElement:0}),C_=Vt(A_),N_=S({},wa,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),R_=Vt(N_),I_=S({},is,{newState:0,oldState:0}),M_=Vt(I_),D_=[9,13,27,32],Ru=Vn&&"CompositionEvent"in window,nr=null;Vn&&"documentMode"in document&&(nr=document.documentMode);var k_=Vn&&"TextEvent"in window&&!nr,Hf=Vn&&(!Ru||nr&&8<nr&&11>=nr),Vf=" ",Ff=!1;function $f(n,s){switch(n){case"keyup":return D_.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jf(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Os=!1;function U_(n,s){switch(n){case"compositionend":return jf(s);case"keypress":return s.which!==32?null:(Ff=!0,Vf);case"textInput":return n=s.data,n===Vf&&Ff?null:n;default:return null}}function O_(n,s){if(Os)return n==="compositionend"||!Ru&&$f(n,s)?(n=Lf(),ba=xu=Ai=null,Os=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Hf&&s.locale!=="ko"?null:s.data;default:return null}}var P_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jf(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!P_[n.type]:s==="textarea"}function Kf(n,s,a,u){Et?ct?ct.push(u):ct=[u]:Et=u,s=pl(s,"onChange"),0<s.length&&(a=new xa("onChange","change",null,a,u),n.push({event:a,listeners:s}))}var ir=null,sr=null;function L_(n){Im(n,0)}function Aa(n){var s=Ei(n);if(ya(s))return n}function Yf(n,s){if(n==="change")return s}var Xf=!1;if(Vn){var Iu;if(Vn){var Mu="oninput"in document;if(!Mu){var Qf=document.createElement("div");Qf.setAttribute("oninput","return;"),Mu=typeof Qf.oninput=="function"}Iu=Mu}else Iu=!1;Xf=Iu&&(!document.documentMode||9<document.documentMode)}function Wf(){ir&&(ir.detachEvent("onpropertychange",Zf),sr=ir=null)}function Zf(n){if(n.propertyName==="value"&&Aa(sr)){var s=[];Kf(s,sr,n,Ae(n)),Pf(L_,s)}}function q_(n,s,a){n==="focusin"?(Wf(),ir=s,sr=a,ir.attachEvent("onpropertychange",Zf)):n==="focusout"&&Wf()}function B_(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Aa(sr)}function G_(n,s){if(n==="click")return Aa(s)}function z_(n,s){if(n==="input"||n==="change")return Aa(s)}function H_(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var Xt=typeof Object.is=="function"?Object.is:H_;function or(n,s){if(Xt(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var a=Object.keys(n),u=Object.keys(s);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var m=a[u];if(!qo.call(s,m)||!Xt(n[m],s[m]))return!1}return!0}function eh(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function th(n,s){var a=eh(n);n=0;for(var u;a;){if(a.nodeType===3){if(u=n+a.textContent.length,n<=s&&u>=s)return{node:a,offset:s-n};n=u}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=eh(a)}}function nh(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?nh(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function ih(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=Us(n.document);s instanceof n.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)n=s.contentWindow;else break;s=Us(n.document)}return s}function Du(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var V_=Vn&&"documentMode"in document&&11>=document.documentMode,Ps=null,ku=null,rr=null,Uu=!1;function sh(n,s,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Uu||Ps==null||Ps!==Us(u)||(u=Ps,"selectionStart"in u&&Du(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),rr&&or(rr,u)||(rr=u,u=pl(ku,"onSelect"),0<u.length&&(s=new xa("onSelect","select",null,s,a),n.push({event:s,listeners:u}),s.target=Ps)))}function ss(n,s){var a={};return a[n.toLowerCase()]=s.toLowerCase(),a["Webkit"+n]="webkit"+s,a["Moz"+n]="moz"+s,a}var Ls={animationend:ss("Animation","AnimationEnd"),animationiteration:ss("Animation","AnimationIteration"),animationstart:ss("Animation","AnimationStart"),transitionrun:ss("Transition","TransitionRun"),transitionstart:ss("Transition","TransitionStart"),transitioncancel:ss("Transition","TransitionCancel"),transitionend:ss("Transition","TransitionEnd")},Ou={},oh={};Vn&&(oh=document.createElement("div").style,"AnimationEvent"in window||(delete Ls.animationend.animation,delete Ls.animationiteration.animation,delete Ls.animationstart.animation),"TransitionEvent"in window||delete Ls.transitionend.transition);function os(n){if(Ou[n])return Ou[n];if(!Ls[n])return n;var s=Ls[n],a;for(a in s)if(s.hasOwnProperty(a)&&a in oh)return Ou[n]=s[a];return n}var rh=os("animationend"),ah=os("animationiteration"),lh=os("animationstart"),F_=os("transitionrun"),$_=os("transitionstart"),j_=os("transitioncancel"),uh=os("transitionend"),ch=new Map,Pu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Pu.push("scrollEnd");function bn(n,s){ch.set(n,s),ut(s,[n])}var Ca=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},ln=[],qs=0,Lu=0;function Na(){for(var n=qs,s=Lu=qs=0;s<n;){var a=ln[s];ln[s++]=null;var u=ln[s];ln[s++]=null;var m=ln[s];ln[s++]=null;var y=ln[s];if(ln[s++]=null,u!==null&&m!==null){var E=u.pending;E===null?m.next=m:(m.next=E.next,E.next=m),u.pending=m}y!==0&&dh(a,m,y)}}function Ra(n,s,a,u){ln[qs++]=n,ln[qs++]=s,ln[qs++]=a,ln[qs++]=u,Lu|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function qu(n,s,a,u){return Ra(n,s,a,u),Ia(n)}function rs(n,s){return Ra(n,null,null,s),Ia(n)}function dh(n,s,a){n.lanes|=a;var u=n.alternate;u!==null&&(u.lanes|=a);for(var m=!1,y=n.return;y!==null;)y.childLanes|=a,u=y.alternate,u!==null&&(u.childLanes|=a),y.tag===22&&(n=y.stateNode,n===null||n._visibility&1||(m=!0)),n=y,y=y.return;return n.tag===3?(y=n.stateNode,m&&s!==null&&(m=31-Bt(a),n=y.hiddenUpdates,u=n[m],u===null?n[m]=[s]:u.push(s),s.lane=a|536870912),y):null}function Ia(n){if(50<Nr)throw Nr=0,Jc=null,Error(o(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var Bs={};function J_(n,s,a,u){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qt(n,s,a,u){return new J_(n,s,a,u)}function Bu(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Fn(n,s){var a=n.alternate;return a===null?(a=Qt(n.tag,s,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=s,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,s=n.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function fh(n,s){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,s=a.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function Ma(n,s,a,u,m,y){var E=0;if(u=n,typeof n=="function")Bu(n)&&(E=1);else if(typeof n=="string")E=WS(n,a,se.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case te:return n=Qt(31,a,s,m),n.elementType=te,n.lanes=y,n;case C:return as(a.children,m,y,s);case R:E=8,m|=24;break;case k:return n=Qt(12,a,s,m|2),n.elementType=k,n.lanes=y,n;case Y:return n=Qt(13,a,s,m),n.elementType=Y,n.lanes=y,n;case B:return n=Qt(19,a,s,m),n.elementType=B,n.lanes=y,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case U:E=10;break e;case z:E=9;break e;case H:E=11;break e;case K:E=14;break e;case fe:E=16,u=null;break e}E=29,a=Error(o(130,n===null?"null":typeof n,"")),u=null}return s=Qt(E,a,s,m),s.elementType=n,s.type=u,s.lanes=y,s}function as(n,s,a,u){return n=Qt(7,n,u,s),n.lanes=a,n}function Gu(n,s,a){return n=Qt(6,n,null,s),n.lanes=a,n}function hh(n){var s=Qt(18,null,null,0);return s.stateNode=n,s}function zu(n,s,a){return s=Qt(4,n.children!==null?n.children:[],n.key,s),s.lanes=a,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var ph=new WeakMap;function un(n,s){if(typeof n=="object"&&n!==null){var a=ph.get(n);return a!==void 0?a:(s={value:n,source:s,stack:Cs(s)},ph.set(n,s),s)}return{value:n,source:s,stack:Cs(s)}}var Gs=[],zs=0,Da=null,ar=0,cn=[],dn=0,Ci=null,Pn=1,Ln="";function $n(n,s){Gs[zs++]=ar,Gs[zs++]=Da,Da=n,ar=s}function mh(n,s,a){cn[dn++]=Pn,cn[dn++]=Ln,cn[dn++]=Ci,Ci=n;var u=Pn;n=Ln;var m=32-Bt(u)-1;u&=~(1<<m),a+=1;var y=32-Bt(s)+m;if(30<y){var E=m-m%5;y=(u&(1<<E)-1).toString(32),u>>=E,m-=E,Pn=1<<32-Bt(s)+m|a<<m|u,Ln=y+n}else Pn=1<<y|a<<m|u,Ln=n}function Hu(n){n.return!==null&&($n(n,1),mh(n,1,0))}function Vu(n){for(;n===Da;)Da=Gs[--zs],Gs[zs]=null,ar=Gs[--zs],Gs[zs]=null;for(;n===Ci;)Ci=cn[--dn],cn[dn]=null,Ln=cn[--dn],cn[dn]=null,Pn=cn[--dn],cn[dn]=null}function gh(n,s){cn[dn++]=Pn,cn[dn++]=Ln,cn[dn++]=Ci,Pn=s.id,Ln=s.overflow,Ci=n}var Tt=null,We=null,De=!1,Ni=null,fn=!1,Fu=Error(o(519));function Ri(n){var s=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw lr(un(s,n)),Fu}function yh(n){var s=n.stateNode,a=n.type,u=n.memoizedProps;switch(s[nt]=n,s[It]=u,a){case"dialog":Re("cancel",s),Re("close",s);break;case"iframe":case"object":case"embed":Re("load",s);break;case"video":case"audio":for(a=0;a<Ir.length;a++)Re(Ir[a],s);break;case"source":Re("error",s);break;case"img":case"image":case"link":Re("error",s),Re("load",s);break;case"details":Re("toggle",s);break;case"input":Re("invalid",s),va(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Re("invalid",s);break;case"textarea":Re("invalid",s),Sa(s,u.value,u.defaultValue,u.children)}a=u.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||u.suppressHydrationWarning===!0||Um(s.textContent,a)?(u.popover!=null&&(Re("beforetoggle",s),Re("toggle",s)),u.onScroll!=null&&Re("scroll",s),u.onScrollEnd!=null&&Re("scrollend",s),u.onClick!=null&&(s.onclick=Ve),s=!0):s=!1,s||Ri(n,!0)}function vh(n){for(Tt=n.return;Tt;)switch(Tt.tag){case 5:case 31:case 13:fn=!1;return;case 27:case 3:fn=!0;return;default:Tt=Tt.return}}function Hs(n){if(n!==Tt)return!1;if(!De)return vh(n),De=!0,!1;var s=n.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||ld(n.type,n.memoizedProps)),a=!a),a&&We&&Ri(n),vh(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(o(317));We=Vm(n)}else if(s===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(o(317));We=Vm(n)}else s===27?(s=We,Vi(n.type)?(n=hd,hd=null,We=n):We=s):We=Tt?pn(n.stateNode.nextSibling):null;return!0}function ls(){We=Tt=null,De=!1}function $u(){var n=Ni;return n!==null&&(Jt===null?Jt=n:Jt.push.apply(Jt,n),Ni=null),n}function lr(n){Ni===null?Ni=[n]:Ni.push(n)}var ju=M(null),us=null,jn=null;function Ii(n,s,a){Z(ju,s._currentValue),s._currentValue=a}function Jn(n){n._currentValue=ju.current,J(ju)}function Ju(n,s,a){for(;n!==null;){var u=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),n===a)break;n=n.return}}function Ku(n,s,a,u){var m=n.child;for(m!==null&&(m.return=n);m!==null;){var y=m.dependencies;if(y!==null){var E=m.child;y=y.firstContext;e:for(;y!==null;){var T=y;y=m;for(var N=0;N<s.length;N++)if(T.context===s[N]){y.lanes|=a,T=y.alternate,T!==null&&(T.lanes|=a),Ju(y.return,a,n),u||(E=null);break e}y=T.next}}else if(m.tag===18){if(E=m.return,E===null)throw Error(o(341));E.lanes|=a,y=E.alternate,y!==null&&(y.lanes|=a),Ju(E,a,n),E=null}else E=m.child;if(E!==null)E.return=m;else for(E=m;E!==null;){if(E===n){E=null;break}if(m=E.sibling,m!==null){m.return=E.return,E=m;break}E=E.return}m=E}}function Vs(n,s,a,u){n=null;for(var m=s,y=!1;m!==null;){if(!y){if((m.flags&524288)!==0)y=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var E=m.alternate;if(E===null)throw Error(o(387));if(E=E.memoizedProps,E!==null){var T=m.type;Xt(m.pendingProps.value,E.value)||(n!==null?n.push(T):n=[T])}}else if(m===Ue.current){if(E=m.alternate,E===null)throw Error(o(387));E.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(n!==null?n.push(Or):n=[Or])}m=m.return}n!==null&&Ku(s,n,a,u),s.flags|=262144}function ka(n){for(n=n.firstContext;n!==null;){if(!Xt(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function cs(n){us=n,jn=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function xt(n){return _h(us,n)}function Ua(n,s){return us===null&&cs(n),_h(n,s)}function _h(n,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},jn===null){if(n===null)throw Error(o(308));jn=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else jn=jn.next=s;return a}var K_=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(a,u){n.push(u)}};this.abort=function(){s.aborted=!0,n.forEach(function(a){return a()})}},Y_=t.unstable_scheduleCallback,X_=t.unstable_NormalPriority,dt={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Yu(){return{controller:new K_,data:new Map,refCount:0}}function ur(n){n.refCount--,n.refCount===0&&Y_(X_,function(){n.controller.abort()})}var cr=null,Xu=0,Fs=0,$s=null;function Q_(n,s){if(cr===null){var a=cr=[];Xu=0,Fs=Zc(),$s={status:"pending",value:void 0,then:function(u){a.push(u)}}}return Xu++,s.then(Sh,Sh),s}function Sh(){if(--Xu===0&&cr!==null){$s!==null&&($s.status="fulfilled");var n=cr;cr=null,Fs=0,$s=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function W_(n,s){var a=[],u={status:"pending",value:null,reason:null,then:function(m){a.push(m)}};return n.then(function(){u.status="fulfilled",u.value=s;for(var m=0;m<a.length;m++)(0,a[m])(s)},function(m){for(u.status="rejected",u.reason=m,m=0;m<a.length;m++)(0,a[m])(void 0)}),u}var bh=V.S;V.S=function(n,s){sm=Ut(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&Q_(n,s),bh!==null&&bh(n,s)};var ds=M(null);function Qu(){var n=ds.current;return n!==null?n:Ye.pooledCache}function Oa(n,s){s===null?Z(ds,ds.current):Z(ds,s.pool)}function Eh(){var n=Qu();return n===null?null:{parent:dt._currentValue,pool:n}}var js=Error(o(460)),Wu=Error(o(474)),Pa=Error(o(542)),La={then:function(){}};function Th(n){return n=n.status,n==="fulfilled"||n==="rejected"}function xh(n,s,a){switch(a=n[a],a===void 0?n.push(s):a!==s&&(s.then(Ve,Ve),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,Ah(n),n;default:if(typeof s.status=="string")s.then(Ve,Ve);else{if(n=Ye,n!==null&&100<n.shellSuspendCounter)throw Error(o(482));n=s,n.status="pending",n.then(function(u){if(s.status==="pending"){var m=s;m.status="fulfilled",m.value=u}},function(u){if(s.status==="pending"){var m=s;m.status="rejected",m.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,Ah(n),n}throw hs=s,js}}function fs(n){try{var s=n._init;return s(n._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(hs=a,js):a}}var hs=null;function wh(){if(hs===null)throw Error(o(459));var n=hs;return hs=null,n}function Ah(n){if(n===js||n===Pa)throw Error(o(483))}var Js=null,dr=0;function qa(n){var s=dr;return dr+=1,Js===null&&(Js=[]),xh(Js,n,s)}function fr(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function Ba(n,s){throw s.$$typeof===b?Error(o(525)):(n=Object.prototype.toString.call(s),Error(o(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function Ch(n){function s(D,I){if(n){var P=D.deletions;P===null?(D.deletions=[I],D.flags|=16):P.push(I)}}function a(D,I){if(!n)return null;for(;I!==null;)s(D,I),I=I.sibling;return null}function u(D){for(var I=new Map;D!==null;)D.key!==null?I.set(D.key,D):I.set(D.index,D),D=D.sibling;return I}function m(D,I){return D=Fn(D,I),D.index=0,D.sibling=null,D}function y(D,I,P){return D.index=P,n?(P=D.alternate,P!==null?(P=P.index,P<I?(D.flags|=67108866,I):P):(D.flags|=67108866,I)):(D.flags|=1048576,I)}function E(D){return n&&D.alternate===null&&(D.flags|=67108866),D}function T(D,I,P,$){return I===null||I.tag!==6?(I=Gu(P,D.mode,$),I.return=D,I):(I=m(I,P),I.return=D,I)}function N(D,I,P,$){var de=P.type;return de===C?F(D,I,P.props.children,$,P.key):I!==null&&(I.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===fe&&fs(de)===I.type)?(I=m(I,P.props),fr(I,P),I.return=D,I):(I=Ma(P.type,P.key,P.props,null,D.mode,$),fr(I,P),I.return=D,I)}function L(D,I,P,$){return I===null||I.tag!==4||I.stateNode.containerInfo!==P.containerInfo||I.stateNode.implementation!==P.implementation?(I=zu(P,D.mode,$),I.return=D,I):(I=m(I,P.children||[]),I.return=D,I)}function F(D,I,P,$,de){return I===null||I.tag!==7?(I=as(P,D.mode,$,de),I.return=D,I):(I=m(I,P),I.return=D,I)}function j(D,I,P){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=Gu(""+I,D.mode,P),I.return=D,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case x:return P=Ma(I.type,I.key,I.props,null,D.mode,P),fr(P,I),P.return=D,P;case A:return I=zu(I,D.mode,P),I.return=D,I;case fe:return I=fs(I),j(D,I,P)}if(ze(I)||ke(I))return I=as(I,D.mode,P,null),I.return=D,I;if(typeof I.then=="function")return j(D,qa(I),P);if(I.$$typeof===U)return j(D,Ua(D,I),P);Ba(D,I)}return null}function q(D,I,P,$){var de=I!==null?I.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return de!==null?null:T(D,I,""+P,$);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case x:return P.key===de?N(D,I,P,$):null;case A:return P.key===de?L(D,I,P,$):null;case fe:return P=fs(P),q(D,I,P,$)}if(ze(P)||ke(P))return de!==null?null:F(D,I,P,$,null);if(typeof P.then=="function")return q(D,I,qa(P),$);if(P.$$typeof===U)return q(D,I,Ua(D,P),$);Ba(D,P)}return null}function G(D,I,P,$,de){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return D=D.get(P)||null,T(I,D,""+$,de);if(typeof $=="object"&&$!==null){switch($.$$typeof){case x:return D=D.get($.key===null?P:$.key)||null,N(I,D,$,de);case A:return D=D.get($.key===null?P:$.key)||null,L(I,D,$,de);case fe:return $=fs($),G(D,I,P,$,de)}if(ze($)||ke($))return D=D.get(P)||null,F(I,D,$,de,null);if(typeof $.then=="function")return G(D,I,P,qa($),de);if($.$$typeof===U)return G(D,I,P,Ua(I,$),de);Ba(I,$)}return null}function re(D,I,P,$){for(var de=null,Pe=null,ae=I,xe=I=0,Me=null;ae!==null&&xe<P.length;xe++){ae.index>xe?(Me=ae,ae=null):Me=ae.sibling;var Le=q(D,ae,P[xe],$);if(Le===null){ae===null&&(ae=Me);break}n&&ae&&Le.alternate===null&&s(D,ae),I=y(Le,I,xe),Pe===null?de=Le:Pe.sibling=Le,Pe=Le,ae=Me}if(xe===P.length)return a(D,ae),De&&$n(D,xe),de;if(ae===null){for(;xe<P.length;xe++)ae=j(D,P[xe],$),ae!==null&&(I=y(ae,I,xe),Pe===null?de=ae:Pe.sibling=ae,Pe=ae);return De&&$n(D,xe),de}for(ae=u(ae);xe<P.length;xe++)Me=G(ae,D,xe,P[xe],$),Me!==null&&(n&&Me.alternate!==null&&ae.delete(Me.key===null?xe:Me.key),I=y(Me,I,xe),Pe===null?de=Me:Pe.sibling=Me,Pe=Me);return n&&ae.forEach(function(Ki){return s(D,Ki)}),De&&$n(D,xe),de}function he(D,I,P,$){if(P==null)throw Error(o(151));for(var de=null,Pe=null,ae=I,xe=I=0,Me=null,Le=P.next();ae!==null&&!Le.done;xe++,Le=P.next()){ae.index>xe?(Me=ae,ae=null):Me=ae.sibling;var Ki=q(D,ae,Le.value,$);if(Ki===null){ae===null&&(ae=Me);break}n&&ae&&Ki.alternate===null&&s(D,ae),I=y(Ki,I,xe),Pe===null?de=Ki:Pe.sibling=Ki,Pe=Ki,ae=Me}if(Le.done)return a(D,ae),De&&$n(D,xe),de;if(ae===null){for(;!Le.done;xe++,Le=P.next())Le=j(D,Le.value,$),Le!==null&&(I=y(Le,I,xe),Pe===null?de=Le:Pe.sibling=Le,Pe=Le);return De&&$n(D,xe),de}for(ae=u(ae);!Le.done;xe++,Le=P.next())Le=G(ae,D,xe,Le.value,$),Le!==null&&(n&&Le.alternate!==null&&ae.delete(Le.key===null?xe:Le.key),I=y(Le,I,xe),Pe===null?de=Le:Pe.sibling=Le,Pe=Le);return n&&ae.forEach(function(ub){return s(D,ub)}),De&&$n(D,xe),de}function Ke(D,I,P,$){if(typeof P=="object"&&P!==null&&P.type===C&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case x:e:{for(var de=P.key;I!==null;){if(I.key===de){if(de=P.type,de===C){if(I.tag===7){a(D,I.sibling),$=m(I,P.props.children),$.return=D,D=$;break e}}else if(I.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===fe&&fs(de)===I.type){a(D,I.sibling),$=m(I,P.props),fr($,P),$.return=D,D=$;break e}a(D,I);break}else s(D,I);I=I.sibling}P.type===C?($=as(P.props.children,D.mode,$,P.key),$.return=D,D=$):($=Ma(P.type,P.key,P.props,null,D.mode,$),fr($,P),$.return=D,D=$)}return E(D);case A:e:{for(de=P.key;I!==null;){if(I.key===de)if(I.tag===4&&I.stateNode.containerInfo===P.containerInfo&&I.stateNode.implementation===P.implementation){a(D,I.sibling),$=m(I,P.children||[]),$.return=D,D=$;break e}else{a(D,I);break}else s(D,I);I=I.sibling}$=zu(P,D.mode,$),$.return=D,D=$}return E(D);case fe:return P=fs(P),Ke(D,I,P,$)}if(ze(P))return re(D,I,P,$);if(ke(P)){if(de=ke(P),typeof de!="function")throw Error(o(150));return P=de.call(P),he(D,I,P,$)}if(typeof P.then=="function")return Ke(D,I,qa(P),$);if(P.$$typeof===U)return Ke(D,I,Ua(D,P),$);Ba(D,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,I!==null&&I.tag===6?(a(D,I.sibling),$=m(I,P),$.return=D,D=$):(a(D,I),$=Gu(P,D.mode,$),$.return=D,D=$),E(D)):a(D,I)}return function(D,I,P,$){try{dr=0;var de=Ke(D,I,P,$);return Js=null,de}catch(ae){if(ae===js||ae===Pa)throw ae;var Pe=Qt(29,ae,null,D.mode);return Pe.lanes=$,Pe.return=D,Pe}finally{}}}var ps=Ch(!0),Nh=Ch(!1),Mi=!1;function Zu(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ec(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Di(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function ki(n,s,a){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(Be&2)!==0){var m=u.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),u.pending=s,s=Ia(n),dh(n,null,a),s}return Ra(n,u,s,a),Ia(n)}function hr(n,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var u=s.lanes;u&=n.pendingLanes,a|=u,s.lanes=a,Vo(n,a)}}function tc(n,s){var a=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var m=null,y=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};y===null?m=y=E:y=y.next=E,a=a.next}while(a!==null);y===null?m=y=s:y=y.next=s}else m=y=s;a={baseState:u.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=s:n.next=s,a.lastBaseUpdate=s}var nc=!1;function pr(){if(nc){var n=$s;if(n!==null)throw n}}function mr(n,s,a,u){nc=!1;var m=n.updateQueue;Mi=!1;var y=m.firstBaseUpdate,E=m.lastBaseUpdate,T=m.shared.pending;if(T!==null){m.shared.pending=null;var N=T,L=N.next;N.next=null,E===null?y=L:E.next=L,E=N;var F=n.alternate;F!==null&&(F=F.updateQueue,T=F.lastBaseUpdate,T!==E&&(T===null?F.firstBaseUpdate=L:T.next=L,F.lastBaseUpdate=N))}if(y!==null){var j=m.baseState;E=0,F=L=N=null,T=y;do{var q=T.lane&-536870913,G=q!==T.lane;if(G?(Ie&q)===q:(u&q)===q){q!==0&&q===Fs&&(nc=!0),F!==null&&(F=F.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var re=n,he=T;q=s;var Ke=a;switch(he.tag){case 1:if(re=he.payload,typeof re=="function"){j=re.call(Ke,j,q);break e}j=re;break e;case 3:re.flags=re.flags&-65537|128;case 0:if(re=he.payload,q=typeof re=="function"?re.call(Ke,j,q):re,q==null)break e;j=S({},j,q);break e;case 2:Mi=!0}}q=T.callback,q!==null&&(n.flags|=64,G&&(n.flags|=8192),G=m.callbacks,G===null?m.callbacks=[q]:G.push(q))}else G={lane:q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},F===null?(L=F=G,N=j):F=F.next=G,E|=q;if(T=T.next,T===null){if(T=m.shared.pending,T===null)break;G=T,T=G.next,G.next=null,m.lastBaseUpdate=G,m.shared.pending=null}}while(!0);F===null&&(N=j),m.baseState=N,m.firstBaseUpdate=L,m.lastBaseUpdate=F,y===null&&(m.shared.lanes=0),qi|=E,n.lanes=E,n.memoizedState=j}}function Rh(n,s){if(typeof n!="function")throw Error(o(191,n));n.call(s)}function Ih(n,s){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)Rh(a[n],s)}var Ks=M(null),Ga=M(0);function Mh(n,s){n=ni,Z(Ga,n),Z(Ks,s),ni=n|s.baseLanes}function ic(){Z(Ga,ni),Z(Ks,Ks.current)}function sc(){ni=Ga.current,J(Ks),J(Ga)}var Wt=M(null),hn=null;function Ui(n){var s=n.alternate;Z(rt,rt.current&1),Z(Wt,n),hn===null&&(s===null||Ks.current!==null||s.memoizedState!==null)&&(hn=n)}function oc(n){Z(rt,rt.current),Z(Wt,n),hn===null&&(hn=n)}function Dh(n){n.tag===22?(Z(rt,rt.current),Z(Wt,n),hn===null&&(hn=n)):Oi()}function Oi(){Z(rt,rt.current),Z(Wt,Wt.current)}function Zt(n){J(Wt),hn===n&&(hn=null),J(rt)}var rt=M(0);function za(n){for(var s=n;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||dd(a)||fd(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Kn=0,Ee=null,je=null,ft=null,Ha=!1,Ys=!1,ms=!1,Va=0,gr=0,Xs=null,Z_=0;function it(){throw Error(o(321))}function rc(n,s){if(s===null)return!1;for(var a=0;a<s.length&&a<n.length;a++)if(!Xt(n[a],s[a]))return!1;return!0}function ac(n,s,a,u,m,y){return Kn=y,Ee=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,V.H=n===null||n.memoizedState===null?mp:Ec,ms=!1,y=a(u,m),ms=!1,Ys&&(y=Uh(s,a,u,m)),kh(n),y}function kh(n){V.H=_r;var s=je!==null&&je.next!==null;if(Kn=0,ft=je=Ee=null,Ha=!1,gr=0,Xs=null,s)throw Error(o(300));n===null||ht||(n=n.dependencies,n!==null&&ka(n)&&(ht=!0))}function Uh(n,s,a,u){Ee=n;var m=0;do{if(Ys&&(Xs=null),gr=0,Ys=!1,25<=m)throw Error(o(301));if(m+=1,ft=je=null,n.updateQueue!=null){var y=n.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}V.H=gp,y=s(a,u)}while(Ys);return y}function eS(){var n=V.H,s=n.useState()[0];return s=typeof s.then=="function"?yr(s):s,n=n.useState()[0],(je!==null?je.memoizedState:null)!==n&&(Ee.flags|=1024),s}function lc(){var n=Va!==0;return Va=0,n}function uc(n,s,a){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~a}function cc(n){if(Ha){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Ha=!1}Kn=0,ft=je=Ee=null,Ys=!1,gr=Va=0,Xs=null}function Pt(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ft===null?Ee.memoizedState=ft=n:ft=ft.next=n,ft}function at(){if(je===null){var n=Ee.alternate;n=n!==null?n.memoizedState:null}else n=je.next;var s=ft===null?Ee.memoizedState:ft.next;if(s!==null)ft=s,je=n;else{if(n===null)throw Ee.alternate===null?Error(o(467)):Error(o(310));je=n,n={memoizedState:je.memoizedState,baseState:je.baseState,baseQueue:je.baseQueue,queue:je.queue,next:null},ft===null?Ee.memoizedState=ft=n:ft=ft.next=n}return ft}function Fa(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function yr(n){var s=gr;return gr+=1,Xs===null&&(Xs=[]),n=xh(Xs,n,s),s=Ee,(ft===null?s.memoizedState:ft.next)===null&&(s=s.alternate,V.H=s===null||s.memoizedState===null?mp:Ec),n}function $a(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return yr(n);if(n.$$typeof===U)return xt(n)}throw Error(o(438,String(n)))}function dc(n){var s=null,a=Ee.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var u=Ee.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(m){return m.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=Fa(),Ee.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(n),u=0;u<n;u++)a[u]=be;return s.index++,a}function Yn(n,s){return typeof s=="function"?s(n):s}function ja(n){var s=at();return fc(s,je,n)}function fc(n,s,a){var u=n.queue;if(u===null)throw Error(o(311));u.lastRenderedReducer=a;var m=n.baseQueue,y=u.pending;if(y!==null){if(m!==null){var E=m.next;m.next=y.next,y.next=E}s.baseQueue=m=y,u.pending=null}if(y=n.baseState,m===null)n.memoizedState=y;else{s=m.next;var T=E=null,N=null,L=s,F=!1;do{var j=L.lane&-536870913;if(j!==L.lane?(Ie&j)===j:(Kn&j)===j){var q=L.revertLane;if(q===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),j===Fs&&(F=!0);else if((Kn&q)===q){L=L.next,q===Fs&&(F=!0);continue}else j={lane:0,revertLane:L.revertLane,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},N===null?(T=N=j,E=y):N=N.next=j,Ee.lanes|=q,qi|=q;j=L.action,ms&&a(y,j),y=L.hasEagerState?L.eagerState:a(y,j)}else q={lane:j,revertLane:L.revertLane,gesture:L.gesture,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},N===null?(T=N=q,E=y):N=N.next=q,Ee.lanes|=j,qi|=j;L=L.next}while(L!==null&&L!==s);if(N===null?E=y:N.next=T,!Xt(y,n.memoizedState)&&(ht=!0,F&&(a=$s,a!==null)))throw a;n.memoizedState=y,n.baseState=E,n.baseQueue=N,u.lastRenderedState=y}return m===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function hc(n){var s=at(),a=s.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=n;var u=a.dispatch,m=a.pending,y=s.memoizedState;if(m!==null){a.pending=null;var E=m=m.next;do y=n(y,E.action),E=E.next;while(E!==m);Xt(y,s.memoizedState)||(ht=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),a.lastRenderedState=y}return[y,u]}function Oh(n,s,a){var u=Ee,m=at(),y=De;if(y){if(a===void 0)throw Error(o(407));a=a()}else a=s();var E=!Xt((je||m).memoizedState,a);if(E&&(m.memoizedState=a,ht=!0),m=m.queue,gc(qh.bind(null,u,m,n),[n]),m.getSnapshot!==s||E||ft!==null&&ft.memoizedState.tag&1){if(u.flags|=2048,Qs(9,{destroy:void 0},Lh.bind(null,u,m,a,s),null),Ye===null)throw Error(o(349));y||(Kn&127)!==0||Ph(u,s,a)}return a}function Ph(n,s,a){n.flags|=16384,n={getSnapshot:s,value:a},s=Ee.updateQueue,s===null?(s=Fa(),Ee.updateQueue=s,s.stores=[n]):(a=s.stores,a===null?s.stores=[n]:a.push(n))}function Lh(n,s,a,u){s.value=a,s.getSnapshot=u,Bh(s)&&Gh(n)}function qh(n,s,a){return a(function(){Bh(s)&&Gh(n)})}function Bh(n){var s=n.getSnapshot;n=n.value;try{var a=s();return!Xt(n,a)}catch{return!0}}function Gh(n){var s=rs(n,2);s!==null&&Kt(s,n,2)}function pc(n){var s=Pt();if(typeof n=="function"){var a=n;if(n=a(),ms){kn(!0);try{a()}finally{kn(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yn,lastRenderedState:n},s}function zh(n,s,a,u){return n.baseState=a,fc(n,je,typeof u=="function"?u:Yn)}function tS(n,s,a,u,m){if(Ya(n))throw Error(o(485));if(n=s.action,n!==null){var y={payload:m,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){y.listeners.push(E)}};V.T!==null?a(!0):y.isTransition=!1,u(y),a=s.pending,a===null?(y.next=s.pending=y,Hh(s,y)):(y.next=a.next,s.pending=a.next=y)}}function Hh(n,s){var a=s.action,u=s.payload,m=n.state;if(s.isTransition){var y=V.T,E={};V.T=E;try{var T=a(m,u),N=V.S;N!==null&&N(E,T),Vh(n,s,T)}catch(L){mc(n,s,L)}finally{y!==null&&E.types!==null&&(y.types=E.types),V.T=y}}else try{y=a(m,u),Vh(n,s,y)}catch(L){mc(n,s,L)}}function Vh(n,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(u){Fh(n,s,u)},function(u){return mc(n,s,u)}):Fh(n,s,a)}function Fh(n,s,a){s.status="fulfilled",s.value=a,$h(s),n.state=a,s=n.pending,s!==null&&(a=s.next,a===s?n.pending=null:(a=a.next,s.next=a,Hh(n,a)))}function mc(n,s,a){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=a,$h(s),s=s.next;while(s!==u)}n.action=null}function $h(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function jh(n,s){return s}function Jh(n,s){if(De){var a=Ye.formState;if(a!==null){e:{var u=Ee;if(De){if(We){t:{for(var m=We,y=fn;m.nodeType!==8;){if(!y){m=null;break t}if(m=pn(m.nextSibling),m===null){m=null;break t}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){We=pn(m.nextSibling),u=m.data==="F!";break e}}Ri(u)}u=!1}u&&(s=a[0])}}return a=Pt(),a.memoizedState=a.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jh,lastRenderedState:s},a.queue=u,a=fp.bind(null,Ee,u),u.dispatch=a,u=pc(!1),y=bc.bind(null,Ee,!1,u.queue),u=Pt(),m={state:s,dispatch:null,action:n,pending:null},u.queue=m,a=tS.bind(null,Ee,m,y,a),m.dispatch=a,u.memoizedState=n,[s,a,!1]}function Kh(n){var s=at();return Yh(s,je,n)}function Yh(n,s,a){if(s=fc(n,s,jh)[0],n=ja(Yn)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=yr(s)}catch(E){throw E===js?Pa:E}else u=s;s=at();var m=s.queue,y=m.dispatch;return a!==s.memoizedState&&(Ee.flags|=2048,Qs(9,{destroy:void 0},nS.bind(null,m,a),null)),[u,y,n]}function nS(n,s){n.action=s}function Xh(n){var s=at(),a=je;if(a!==null)return Yh(s,a,n);at(),s=s.memoizedState,a=at();var u=a.queue.dispatch;return a.memoizedState=n,[s,u,!1]}function Qs(n,s,a,u){return n={tag:n,create:a,deps:u,inst:s,next:null},s=Ee.updateQueue,s===null&&(s=Fa(),Ee.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=n.next=n:(u=a.next,a.next=n,n.next=u,s.lastEffect=n),n}function Qh(){return at().memoizedState}function Ja(n,s,a,u){var m=Pt();Ee.flags|=n,m.memoizedState=Qs(1|s,{destroy:void 0},a,u===void 0?null:u)}function Ka(n,s,a,u){var m=at();u=u===void 0?null:u;var y=m.memoizedState.inst;je!==null&&u!==null&&rc(u,je.memoizedState.deps)?m.memoizedState=Qs(s,y,a,u):(Ee.flags|=n,m.memoizedState=Qs(1|s,y,a,u))}function Wh(n,s){Ja(8390656,8,n,s)}function gc(n,s){Ka(2048,8,n,s)}function iS(n){Ee.flags|=4;var s=Ee.updateQueue;if(s===null)s=Fa(),Ee.updateQueue=s,s.events=[n];else{var a=s.events;a===null?s.events=[n]:a.push(n)}}function Zh(n){var s=at().memoizedState;return iS({ref:s,nextImpl:n}),function(){if((Be&2)!==0)throw Error(o(440));return s.impl.apply(void 0,arguments)}}function ep(n,s){return Ka(4,2,n,s)}function tp(n,s){return Ka(4,4,n,s)}function np(n,s){if(typeof s=="function"){n=n();var a=s(n);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function ip(n,s,a){a=a!=null?a.concat([n]):null,Ka(4,4,np.bind(null,s,n),a)}function yc(){}function sp(n,s){var a=at();s=s===void 0?null:s;var u=a.memoizedState;return s!==null&&rc(s,u[1])?u[0]:(a.memoizedState=[n,s],n)}function op(n,s){var a=at();s=s===void 0?null:s;var u=a.memoizedState;if(s!==null&&rc(s,u[1]))return u[0];if(u=n(),ms){kn(!0);try{n()}finally{kn(!1)}}return a.memoizedState=[u,s],u}function vc(n,s,a){return a===void 0||(Kn&1073741824)!==0&&(Ie&261930)===0?n.memoizedState=s:(n.memoizedState=a,n=rm(),Ee.lanes|=n,qi|=n,a)}function rp(n,s,a,u){return Xt(a,s)?a:Ks.current!==null?(n=vc(n,a,u),Xt(n,s)||(ht=!0),n):(Kn&42)===0||(Kn&1073741824)!==0&&(Ie&261930)===0?(ht=!0,n.memoizedState=a):(n=rm(),Ee.lanes|=n,qi|=n,s)}function ap(n,s,a,u,m){var y=Q.p;Q.p=y!==0&&8>y?y:8;var E=V.T,T={};V.T=T,bc(n,!1,s,a);try{var N=m(),L=V.S;if(L!==null&&L(T,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var F=W_(N,u);vr(n,s,F,nn(n))}else vr(n,s,u,nn(n))}catch(j){vr(n,s,{then:function(){},status:"rejected",reason:j},nn())}finally{Q.p=y,E!==null&&T.types!==null&&(E.types=T.types),V.T=E}}function sS(){}function _c(n,s,a,u){if(n.tag!==5)throw Error(o(476));var m=lp(n).queue;ap(n,m,s,le,a===null?sS:function(){return up(n),a(u)})}function lp(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yn,lastRenderedState:le},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yn,lastRenderedState:a},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function up(n){var s=lp(n);s.next===null&&(s=n.alternate.memoizedState),vr(n,s.next.queue,{},nn())}function Sc(){return xt(Or)}function cp(){return at().memoizedState}function dp(){return at().memoizedState}function oS(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var a=nn();n=Di(a);var u=ki(s,n,a);u!==null&&(Kt(u,s,a),hr(u,s,a)),s={cache:Yu()},n.payload=s;return}s=s.return}}function rS(n,s,a){var u=nn();a={lane:u,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ya(n)?hp(s,a):(a=qu(n,s,a,u),a!==null&&(Kt(a,n,u),pp(a,s,u)))}function fp(n,s,a){var u=nn();vr(n,s,a,u)}function vr(n,s,a,u){var m={lane:u,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ya(n))hp(s,m);else{var y=n.alternate;if(n.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var E=s.lastRenderedState,T=y(E,a);if(m.hasEagerState=!0,m.eagerState=T,Xt(T,E))return Ra(n,s,m,0),Ye===null&&Na(),!1}catch{}finally{}if(a=qu(n,s,m,u),a!==null)return Kt(a,n,u),pp(a,s,u),!0}return!1}function bc(n,s,a,u){if(u={lane:2,revertLane:Zc(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Ya(n)){if(s)throw Error(o(479))}else s=qu(n,a,u,2),s!==null&&Kt(s,n,2)}function Ya(n){var s=n.alternate;return n===Ee||s!==null&&s===Ee}function hp(n,s){Ys=Ha=!0;var a=n.pending;a===null?s.next=s:(s.next=a.next,a.next=s),n.pending=s}function pp(n,s,a){if((a&4194048)!==0){var u=s.lanes;u&=n.pendingLanes,a|=u,s.lanes=a,Vo(n,a)}}var _r={readContext:xt,use:$a,useCallback:it,useContext:it,useEffect:it,useImperativeHandle:it,useLayoutEffect:it,useInsertionEffect:it,useMemo:it,useReducer:it,useRef:it,useState:it,useDebugValue:it,useDeferredValue:it,useTransition:it,useSyncExternalStore:it,useId:it,useHostTransitionStatus:it,useFormState:it,useActionState:it,useOptimistic:it,useMemoCache:it,useCacheRefresh:it};_r.useEffectEvent=it;var mp={readContext:xt,use:$a,useCallback:function(n,s){return Pt().memoizedState=[n,s===void 0?null:s],n},useContext:xt,useEffect:Wh,useImperativeHandle:function(n,s,a){a=a!=null?a.concat([n]):null,Ja(4194308,4,np.bind(null,s,n),a)},useLayoutEffect:function(n,s){return Ja(4194308,4,n,s)},useInsertionEffect:function(n,s){Ja(4,2,n,s)},useMemo:function(n,s){var a=Pt();s=s===void 0?null:s;var u=n();if(ms){kn(!0);try{n()}finally{kn(!1)}}return a.memoizedState=[u,s],u},useReducer:function(n,s,a){var u=Pt();if(a!==void 0){var m=a(s);if(ms){kn(!0);try{a(s)}finally{kn(!1)}}}else m=s;return u.memoizedState=u.baseState=m,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:m},u.queue=n,n=n.dispatch=rS.bind(null,Ee,n),[u.memoizedState,n]},useRef:function(n){var s=Pt();return n={current:n},s.memoizedState=n},useState:function(n){n=pc(n);var s=n.queue,a=fp.bind(null,Ee,s);return s.dispatch=a,[n.memoizedState,a]},useDebugValue:yc,useDeferredValue:function(n,s){var a=Pt();return vc(a,n,s)},useTransition:function(){var n=pc(!1);return n=ap.bind(null,Ee,n.queue,!0,!1),Pt().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,a){var u=Ee,m=Pt();if(De){if(a===void 0)throw Error(o(407));a=a()}else{if(a=s(),Ye===null)throw Error(o(349));(Ie&127)!==0||Ph(u,s,a)}m.memoizedState=a;var y={value:a,getSnapshot:s};return m.queue=y,Wh(qh.bind(null,u,y,n),[n]),u.flags|=2048,Qs(9,{destroy:void 0},Lh.bind(null,u,y,a,s),null),a},useId:function(){var n=Pt(),s=Ye.identifierPrefix;if(De){var a=Ln,u=Pn;a=(u&~(1<<32-Bt(u)-1)).toString(32)+a,s="_"+s+"R_"+a,a=Va++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=Z_++,s="_"+s+"r_"+a.toString(32)+"_";return n.memoizedState=s},useHostTransitionStatus:Sc,useFormState:Jh,useActionState:Jh,useOptimistic:function(n){var s=Pt();s.memoizedState=s.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=bc.bind(null,Ee,!0,a),a.dispatch=s,[n,s]},useMemoCache:dc,useCacheRefresh:function(){return Pt().memoizedState=oS.bind(null,Ee)},useEffectEvent:function(n){var s=Pt(),a={impl:n};return s.memoizedState=a,function(){if((Be&2)!==0)throw Error(o(440));return a.impl.apply(void 0,arguments)}}},Ec={readContext:xt,use:$a,useCallback:sp,useContext:xt,useEffect:gc,useImperativeHandle:ip,useInsertionEffect:ep,useLayoutEffect:tp,useMemo:op,useReducer:ja,useRef:Qh,useState:function(){return ja(Yn)},useDebugValue:yc,useDeferredValue:function(n,s){var a=at();return rp(a,je.memoizedState,n,s)},useTransition:function(){var n=ja(Yn)[0],s=at().memoizedState;return[typeof n=="boolean"?n:yr(n),s]},useSyncExternalStore:Oh,useId:cp,useHostTransitionStatus:Sc,useFormState:Kh,useActionState:Kh,useOptimistic:function(n,s){var a=at();return zh(a,je,n,s)},useMemoCache:dc,useCacheRefresh:dp};Ec.useEffectEvent=Zh;var gp={readContext:xt,use:$a,useCallback:sp,useContext:xt,useEffect:gc,useImperativeHandle:ip,useInsertionEffect:ep,useLayoutEffect:tp,useMemo:op,useReducer:hc,useRef:Qh,useState:function(){return hc(Yn)},useDebugValue:yc,useDeferredValue:function(n,s){var a=at();return je===null?vc(a,n,s):rp(a,je.memoizedState,n,s)},useTransition:function(){var n=hc(Yn)[0],s=at().memoizedState;return[typeof n=="boolean"?n:yr(n),s]},useSyncExternalStore:Oh,useId:cp,useHostTransitionStatus:Sc,useFormState:Xh,useActionState:Xh,useOptimistic:function(n,s){var a=at();return je!==null?zh(a,je,n,s):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:dc,useCacheRefresh:dp};gp.useEffectEvent=Zh;function Tc(n,s,a,u){s=n.memoizedState,a=a(u,s),a=a==null?s:S({},s,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var xc={enqueueSetState:function(n,s,a){n=n._reactInternals;var u=nn(),m=Di(u);m.payload=s,a!=null&&(m.callback=a),s=ki(n,m,u),s!==null&&(Kt(s,n,u),hr(s,n,u))},enqueueReplaceState:function(n,s,a){n=n._reactInternals;var u=nn(),m=Di(u);m.tag=1,m.payload=s,a!=null&&(m.callback=a),s=ki(n,m,u),s!==null&&(Kt(s,n,u),hr(s,n,u))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var a=nn(),u=Di(a);u.tag=2,s!=null&&(u.callback=s),s=ki(n,u,a),s!==null&&(Kt(s,n,a),hr(s,n,a))}};function yp(n,s,a,u,m,y,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,y,E):s.prototype&&s.prototype.isPureReactComponent?!or(a,u)||!or(m,y):!0}function vp(n,s,a,u){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,u),s.state!==n&&xc.enqueueReplaceState(s,s.state,null)}function gs(n,s){var a=s;if("ref"in s){a={};for(var u in s)u!=="ref"&&(a[u]=s[u])}if(n=n.defaultProps){a===s&&(a=S({},a));for(var m in n)a[m]===void 0&&(a[m]=n[m])}return a}function _p(n){Ca(n)}function Sp(n){console.error(n)}function bp(n){Ca(n)}function Xa(n,s){try{var a=n.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function Ep(n,s,a){try{var u=n.onCaughtError;u(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function wc(n,s,a){return a=Di(a),a.tag=3,a.payload={element:null},a.callback=function(){Xa(n,s)},a}function Tp(n){return n=Di(n),n.tag=3,n}function xp(n,s,a,u){var m=a.type.getDerivedStateFromError;if(typeof m=="function"){var y=u.value;n.payload=function(){return m(y)},n.callback=function(){Ep(s,a,u)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){Ep(s,a,u),typeof m!="function"&&(Bi===null?Bi=new Set([this]):Bi.add(this));var T=u.stack;this.componentDidCatch(u.value,{componentStack:T!==null?T:""})})}function aS(n,s,a,u,m){if(a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=a.alternate,s!==null&&Vs(s,a,m,!0),a=Wt.current,a!==null){switch(a.tag){case 31:case 13:return hn===null?ll():a.alternate===null&&st===0&&(st=3),a.flags&=-257,a.flags|=65536,a.lanes=m,u===La?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([u]):s.add(u),Xc(n,u,m)),!1;case 22:return a.flags|=65536,u===La?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([u]):a.add(u)),Xc(n,u,m)),!1}throw Error(o(435,a.tag))}return Xc(n,u,m),ll(),!1}if(De)return s=Wt.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=m,u!==Fu&&(n=Error(o(422),{cause:u}),lr(un(n,a)))):(u!==Fu&&(s=Error(o(423),{cause:u}),lr(un(s,a))),n=n.current.alternate,n.flags|=65536,m&=-m,n.lanes|=m,u=un(u,a),m=wc(n.stateNode,u,m),tc(n,m),st!==4&&(st=2)),!1;var y=Error(o(520),{cause:u});if(y=un(y,a),Cr===null?Cr=[y]:Cr.push(y),st!==4&&(st=2),s===null)return!0;u=un(u,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,n=m&-m,a.lanes|=n,n=wc(a.stateNode,u,n),tc(a,n),!1;case 1:if(s=a.type,y=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Bi===null||!Bi.has(y))))return a.flags|=65536,m&=-m,a.lanes|=m,m=Tp(m),xp(m,n,a,u),tc(a,m),!1}a=a.return}while(a!==null);return!1}var Ac=Error(o(461)),ht=!1;function wt(n,s,a,u){s.child=n===null?Nh(s,null,a,u):ps(s,n.child,a,u)}function wp(n,s,a,u,m){a=a.render;var y=s.ref;if("ref"in u){var E={};for(var T in u)T!=="ref"&&(E[T]=u[T])}else E=u;return cs(s),u=ac(n,s,a,E,y,m),T=lc(),n!==null&&!ht?(uc(n,s,m),Xn(n,s,m)):(De&&T&&Hu(s),s.flags|=1,wt(n,s,u,m),s.child)}function Ap(n,s,a,u,m){if(n===null){var y=a.type;return typeof y=="function"&&!Bu(y)&&y.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=y,Cp(n,s,y,u,m)):(n=Ma(a.type,null,u,s,s.mode,m),n.ref=s.ref,n.return=s,s.child=n)}if(y=n.child,!Uc(n,m)){var E=y.memoizedProps;if(a=a.compare,a=a!==null?a:or,a(E,u)&&n.ref===s.ref)return Xn(n,s,m)}return s.flags|=1,n=Fn(y,u),n.ref=s.ref,n.return=s,s.child=n}function Cp(n,s,a,u,m){if(n!==null){var y=n.memoizedProps;if(or(y,u)&&n.ref===s.ref)if(ht=!1,s.pendingProps=u=y,Uc(n,m))(n.flags&131072)!==0&&(ht=!0);else return s.lanes=n.lanes,Xn(n,s,m)}return Cc(n,s,a,u,m)}function Np(n,s,a,u){var m=u.children,y=n!==null?n.memoizedState:null;if(n===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((s.flags&128)!==0){if(y=y!==null?y.baseLanes|a:a,n!==null){for(u=s.child=n.child,m=0;u!==null;)m=m|u.lanes|u.childLanes,u=u.sibling;u=m&~y}else u=0,s.child=null;return Rp(n,s,y,a,u)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&Oa(s,y!==null?y.cachePool:null),y!==null?Mh(s,y):ic(),Dh(s);else return u=s.lanes=536870912,Rp(n,s,y!==null?y.baseLanes|a:a,a,u)}else y!==null?(Oa(s,y.cachePool),Mh(s,y),Oi(),s.memoizedState=null):(n!==null&&Oa(s,null),ic(),Oi());return wt(n,s,m,a),s.child}function Sr(n,s){return n!==null&&n.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Rp(n,s,a,u,m){var y=Qu();return y=y===null?null:{parent:dt._currentValue,pool:y},s.memoizedState={baseLanes:a,cachePool:y},n!==null&&Oa(s,null),ic(),Dh(s),n!==null&&Vs(n,s,u,!0),s.childLanes=m,null}function Qa(n,s){return s=Za({mode:s.mode,children:s.children},n.mode),s.ref=n.ref,n.child=s,s.return=n,s}function Ip(n,s,a){return ps(s,n.child,null,a),n=Qa(s,s.pendingProps),n.flags|=2,Zt(s),s.memoizedState=null,n}function lS(n,s,a){var u=s.pendingProps,m=(s.flags&128)!==0;if(s.flags&=-129,n===null){if(De){if(u.mode==="hidden")return n=Qa(s,u),s.lanes=536870912,Sr(null,n);if(oc(s),(n=We)?(n=Hm(n,fn),n=n!==null&&n.data==="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:Ci!==null?{id:Pn,overflow:Ln}:null,retryLane:536870912,hydrationErrors:null},a=hh(n),a.return=s,s.child=a,Tt=s,We=null)):n=null,n===null)throw Ri(s);return s.lanes=536870912,null}return Qa(s,u)}var y=n.memoizedState;if(y!==null){var E=y.dehydrated;if(oc(s),m)if(s.flags&256)s.flags&=-257,s=Ip(n,s,a);else if(s.memoizedState!==null)s.child=n.child,s.flags|=128,s=null;else throw Error(o(558));else if(ht||Vs(n,s,a,!1),m=(a&n.childLanes)!==0,ht||m){if(u=Ye,u!==null&&(E=Fo(u,a),E!==0&&E!==y.retryLane))throw y.retryLane=E,rs(n,E),Kt(u,n,E),Ac;ll(),s=Ip(n,s,a)}else n=y.treeContext,We=pn(E.nextSibling),Tt=s,De=!0,Ni=null,fn=!1,n!==null&&gh(s,n),s=Qa(s,u),s.flags|=4096;return s}return n=Fn(n.child,{mode:u.mode,children:u.children}),n.ref=s.ref,s.child=n,n.return=s,n}function Wa(n,s){var a=s.ref;if(a===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(o(284));(n===null||n.ref!==a)&&(s.flags|=4194816)}}function Cc(n,s,a,u,m){return cs(s),a=ac(n,s,a,u,void 0,m),u=lc(),n!==null&&!ht?(uc(n,s,m),Xn(n,s,m)):(De&&u&&Hu(s),s.flags|=1,wt(n,s,a,m),s.child)}function Mp(n,s,a,u,m,y){return cs(s),s.updateQueue=null,a=Uh(s,u,a,m),kh(n),u=lc(),n!==null&&!ht?(uc(n,s,y),Xn(n,s,y)):(De&&u&&Hu(s),s.flags|=1,wt(n,s,a,y),s.child)}function Dp(n,s,a,u,m){if(cs(s),s.stateNode===null){var y=Bs,E=a.contextType;typeof E=="object"&&E!==null&&(y=xt(E)),y=new a(u,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=xc,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=u,y.state=s.memoizedState,y.refs={},Zu(s),E=a.contextType,y.context=typeof E=="object"&&E!==null?xt(E):Bs,y.state=s.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(Tc(s,a,E,u),y.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(E=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),E!==y.state&&xc.enqueueReplaceState(y,y.state,null),mr(s,u,y,m),pr(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(n===null){y=s.stateNode;var T=s.memoizedProps,N=gs(a,T);y.props=N;var L=y.context,F=a.contextType;E=Bs,typeof F=="object"&&F!==null&&(E=xt(F));var j=a.getDerivedStateFromProps;F=typeof j=="function"||typeof y.getSnapshotBeforeUpdate=="function",T=s.pendingProps!==T,F||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(T||L!==E)&&vp(s,y,u,E),Mi=!1;var q=s.memoizedState;y.state=q,mr(s,u,y,m),pr(),L=s.memoizedState,T||q!==L||Mi?(typeof j=="function"&&(Tc(s,a,j,u),L=s.memoizedState),(N=Mi||yp(s,a,N,u,q,L,E))?(F||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=L),y.props=u,y.state=L,y.context=E,u=N):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{y=s.stateNode,ec(n,s),E=s.memoizedProps,F=gs(a,E),y.props=F,j=s.pendingProps,q=y.context,L=a.contextType,N=Bs,typeof L=="object"&&L!==null&&(N=xt(L)),T=a.getDerivedStateFromProps,(L=typeof T=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(E!==j||q!==N)&&vp(s,y,u,N),Mi=!1,q=s.memoizedState,y.state=q,mr(s,u,y,m),pr();var G=s.memoizedState;E!==j||q!==G||Mi||n!==null&&n.dependencies!==null&&ka(n.dependencies)?(typeof T=="function"&&(Tc(s,a,T,u),G=s.memoizedState),(F=Mi||yp(s,a,F,u,q,G,N)||n!==null&&n.dependencies!==null&&ka(n.dependencies))?(L||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,G,N),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,G,N)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||E===n.memoizedProps&&q===n.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&q===n.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=G),y.props=u,y.state=G,y.context=N,u=F):(typeof y.componentDidUpdate!="function"||E===n.memoizedProps&&q===n.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&q===n.memoizedState||(s.flags|=1024),u=!1)}return y=u,Wa(n,s),u=(s.flags&128)!==0,y||u?(y=s.stateNode,a=u&&typeof a.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,n!==null&&u?(s.child=ps(s,n.child,null,m),s.child=ps(s,null,a,m)):wt(n,s,a,m),s.memoizedState=y.state,n=s.child):n=Xn(n,s,m),n}function kp(n,s,a,u){return ls(),s.flags|=256,wt(n,s,a,u),s.child}var Nc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Rc(n){return{baseLanes:n,cachePool:Eh()}}function Ic(n,s,a){return n=n!==null?n.childLanes&~a:0,s&&(n|=tn),n}function Up(n,s,a){var u=s.pendingProps,m=!1,y=(s.flags&128)!==0,E;if((E=y)||(E=n!==null&&n.memoizedState===null?!1:(rt.current&2)!==0),E&&(m=!0,s.flags&=-129),E=(s.flags&32)!==0,s.flags&=-33,n===null){if(De){if(m?Ui(s):Oi(),(n=We)?(n=Hm(n,fn),n=n!==null&&n.data!=="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:Ci!==null?{id:Pn,overflow:Ln}:null,retryLane:536870912,hydrationErrors:null},a=hh(n),a.return=s,s.child=a,Tt=s,We=null)):n=null,n===null)throw Ri(s);return fd(n)?s.lanes=32:s.lanes=536870912,null}var T=u.children;return u=u.fallback,m?(Oi(),m=s.mode,T=Za({mode:"hidden",children:T},m),u=as(u,m,a,null),T.return=s,u.return=s,T.sibling=u,s.child=T,u=s.child,u.memoizedState=Rc(a),u.childLanes=Ic(n,E,a),s.memoizedState=Nc,Sr(null,u)):(Ui(s),Mc(s,T))}var N=n.memoizedState;if(N!==null&&(T=N.dehydrated,T!==null)){if(y)s.flags&256?(Ui(s),s.flags&=-257,s=Dc(n,s,a)):s.memoizedState!==null?(Oi(),s.child=n.child,s.flags|=128,s=null):(Oi(),T=u.fallback,m=s.mode,u=Za({mode:"visible",children:u.children},m),T=as(T,m,a,null),T.flags|=2,u.return=s,T.return=s,u.sibling=T,s.child=u,ps(s,n.child,null,a),u=s.child,u.memoizedState=Rc(a),u.childLanes=Ic(n,E,a),s.memoizedState=Nc,s=Sr(null,u));else if(Ui(s),fd(T)){if(E=T.nextSibling&&T.nextSibling.dataset,E)var L=E.dgst;E=L,u=Error(o(419)),u.stack="",u.digest=E,lr({value:u,source:null,stack:null}),s=Dc(n,s,a)}else if(ht||Vs(n,s,a,!1),E=(a&n.childLanes)!==0,ht||E){if(E=Ye,E!==null&&(u=Fo(E,a),u!==0&&u!==N.retryLane))throw N.retryLane=u,rs(n,u),Kt(E,n,u),Ac;dd(T)||ll(),s=Dc(n,s,a)}else dd(T)?(s.flags|=192,s.child=n.child,s=null):(n=N.treeContext,We=pn(T.nextSibling),Tt=s,De=!0,Ni=null,fn=!1,n!==null&&gh(s,n),s=Mc(s,u.children),s.flags|=4096);return s}return m?(Oi(),T=u.fallback,m=s.mode,N=n.child,L=N.sibling,u=Fn(N,{mode:"hidden",children:u.children}),u.subtreeFlags=N.subtreeFlags&65011712,L!==null?T=Fn(L,T):(T=as(T,m,a,null),T.flags|=2),T.return=s,u.return=s,u.sibling=T,s.child=u,Sr(null,u),u=s.child,T=n.child.memoizedState,T===null?T=Rc(a):(m=T.cachePool,m!==null?(N=dt._currentValue,m=m.parent!==N?{parent:N,pool:N}:m):m=Eh(),T={baseLanes:T.baseLanes|a,cachePool:m}),u.memoizedState=T,u.childLanes=Ic(n,E,a),s.memoizedState=Nc,Sr(n.child,u)):(Ui(s),a=n.child,n=a.sibling,a=Fn(a,{mode:"visible",children:u.children}),a.return=s,a.sibling=null,n!==null&&(E=s.deletions,E===null?(s.deletions=[n],s.flags|=16):E.push(n)),s.child=a,s.memoizedState=null,a)}function Mc(n,s){return s=Za({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function Za(n,s){return n=Qt(22,n,null,s),n.lanes=0,n}function Dc(n,s,a){return ps(s,n.child,null,a),n=Mc(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function Op(n,s,a){n.lanes|=s;var u=n.alternate;u!==null&&(u.lanes|=s),Ju(n.return,s,a)}function kc(n,s,a,u,m,y){var E=n.memoizedState;E===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:m,treeForkCount:y}:(E.isBackwards=s,E.rendering=null,E.renderingStartTime=0,E.last=u,E.tail=a,E.tailMode=m,E.treeForkCount=y)}function Pp(n,s,a){var u=s.pendingProps,m=u.revealOrder,y=u.tail;u=u.children;var E=rt.current,T=(E&2)!==0;if(T?(E=E&1|2,s.flags|=128):E&=1,Z(rt,E),wt(n,s,u,a),u=De?ar:0,!T&&n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Op(n,a,s);else if(n.tag===19)Op(n,a,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(m){case"forwards":for(a=s.child,m=null;a!==null;)n=a.alternate,n!==null&&za(n)===null&&(m=a),a=a.sibling;a=m,a===null?(m=s.child,s.child=null):(m=a.sibling,a.sibling=null),kc(s,!1,m,a,y,u);break;case"backwards":case"unstable_legacy-backwards":for(a=null,m=s.child,s.child=null;m!==null;){if(n=m.alternate,n!==null&&za(n)===null){s.child=m;break}n=m.sibling,m.sibling=a,a=m,m=n}kc(s,!0,a,null,y,u);break;case"together":kc(s,!1,null,null,void 0,u);break;default:s.memoizedState=null}return s.child}function Xn(n,s,a){if(n!==null&&(s.dependencies=n.dependencies),qi|=s.lanes,(a&s.childLanes)===0)if(n!==null){if(Vs(n,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(o(153));if(s.child!==null){for(n=s.child,a=Fn(n,n.pendingProps),s.child=a,a.return=s;n.sibling!==null;)n=n.sibling,a=a.sibling=Fn(n,n.pendingProps),a.return=s;a.sibling=null}return s.child}function Uc(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&ka(n)))}function uS(n,s,a){switch(s.tag){case 3:Xe(s,s.stateNode.containerInfo),Ii(s,dt,n.memoizedState.cache),ls();break;case 27:case 5:In(s);break;case 4:Xe(s,s.stateNode.containerInfo);break;case 10:Ii(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,oc(s),null;break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(Ui(s),s.flags|=128,null):(a&s.child.childLanes)!==0?Up(n,s,a):(Ui(s),n=Xn(n,s,a),n!==null?n.sibling:null);Ui(s);break;case 19:var m=(n.flags&128)!==0;if(u=(a&s.childLanes)!==0,u||(Vs(n,s,a,!1),u=(a&s.childLanes)!==0),m){if(u)return Pp(n,s,a);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Z(rt,rt.current),u)break;return null;case 22:return s.lanes=0,Np(n,s,a,s.pendingProps);case 24:Ii(s,dt,n.memoizedState.cache)}return Xn(n,s,a)}function Lp(n,s,a){if(n!==null)if(n.memoizedProps!==s.pendingProps)ht=!0;else{if(!Uc(n,a)&&(s.flags&128)===0)return ht=!1,uS(n,s,a);ht=(n.flags&131072)!==0}else ht=!1,De&&(s.flags&1048576)!==0&&mh(s,ar,s.index);switch(s.lanes=0,s.tag){case 16:e:{var u=s.pendingProps;if(n=fs(s.elementType),s.type=n,typeof n=="function")Bu(n)?(u=gs(n,u),s.tag=1,s=Dp(null,s,n,u,a)):(s.tag=0,s=Cc(null,s,n,u,a));else{if(n!=null){var m=n.$$typeof;if(m===H){s.tag=11,s=wp(null,s,n,u,a);break e}else if(m===K){s.tag=14,s=Ap(null,s,n,u,a);break e}}throw s=Ge(n)||n,Error(o(306,s,""))}}return s;case 0:return Cc(n,s,s.type,s.pendingProps,a);case 1:return u=s.type,m=gs(u,s.pendingProps),Dp(n,s,u,m,a);case 3:e:{if(Xe(s,s.stateNode.containerInfo),n===null)throw Error(o(387));u=s.pendingProps;var y=s.memoizedState;m=y.element,ec(n,s),mr(s,u,null,a);var E=s.memoizedState;if(u=E.cache,Ii(s,dt,u),u!==y.cache&&Ku(s,[dt],a,!0),pr(),u=E.element,y.isDehydrated)if(y={element:u,isDehydrated:!1,cache:E.cache},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){s=kp(n,s,u,a);break e}else if(u!==m){m=un(Error(o(424)),s),lr(m),s=kp(n,s,u,a);break e}else{switch(n=s.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(We=pn(n.firstChild),Tt=s,De=!0,Ni=null,fn=!0,a=Nh(s,null,u,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ls(),u===m){s=Xn(n,s,a);break e}wt(n,s,u,a)}s=s.child}return s;case 26:return Wa(n,s),n===null?(a=Km(s.type,null,s.pendingProps,null))?s.memoizedState=a:De||(a=s.type,n=s.pendingProps,u=ml(we.current).createElement(a),u[nt]=s,u[It]=n,At(u,a,n),ot(u),s.stateNode=u):s.memoizedState=Km(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return In(s),n===null&&De&&(u=s.stateNode=$m(s.type,s.pendingProps,we.current),Tt=s,fn=!0,m=We,Vi(s.type)?(hd=m,We=pn(u.firstChild)):We=m),wt(n,s,s.pendingProps.children,a),Wa(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&De&&((m=u=We)&&(u=BS(u,s.type,s.pendingProps,fn),u!==null?(s.stateNode=u,Tt=s,We=pn(u.firstChild),fn=!1,m=!0):m=!1),m||Ri(s)),In(s),m=s.type,y=s.pendingProps,E=n!==null?n.memoizedProps:null,u=y.children,ld(m,y)?u=null:E!==null&&ld(m,E)&&(s.flags|=32),s.memoizedState!==null&&(m=ac(n,s,eS,null,null,a),Or._currentValue=m),Wa(n,s),wt(n,s,u,a),s.child;case 6:return n===null&&De&&((n=a=We)&&(a=GS(a,s.pendingProps,fn),a!==null?(s.stateNode=a,Tt=s,We=null,n=!0):n=!1),n||Ri(s)),null;case 13:return Up(n,s,a);case 4:return Xe(s,s.stateNode.containerInfo),u=s.pendingProps,n===null?s.child=ps(s,null,u,a):wt(n,s,u,a),s.child;case 11:return wp(n,s,s.type,s.pendingProps,a);case 7:return wt(n,s,s.pendingProps,a),s.child;case 8:return wt(n,s,s.pendingProps.children,a),s.child;case 12:return wt(n,s,s.pendingProps.children,a),s.child;case 10:return u=s.pendingProps,Ii(s,s.type,u.value),wt(n,s,u.children,a),s.child;case 9:return m=s.type._context,u=s.pendingProps.children,cs(s),m=xt(m),u=u(m),s.flags|=1,wt(n,s,u,a),s.child;case 14:return Ap(n,s,s.type,s.pendingProps,a);case 15:return Cp(n,s,s.type,s.pendingProps,a);case 19:return Pp(n,s,a);case 31:return lS(n,s,a);case 22:return Np(n,s,a,s.pendingProps);case 24:return cs(s),u=xt(dt),n===null?(m=Qu(),m===null&&(m=Ye,y=Yu(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=a),m=y),s.memoizedState={parent:u,cache:m},Zu(s),Ii(s,dt,m)):((n.lanes&a)!==0&&(ec(n,s),mr(s,null,null,a),pr()),m=n.memoizedState,y=s.memoizedState,m.parent!==u?(m={parent:u,cache:u},s.memoizedState=m,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=m),Ii(s,dt,u)):(u=y.cache,Ii(s,dt,u),u!==m.cache&&Ku(s,[dt],a,!0))),wt(n,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(o(156,s.tag))}function Qn(n){n.flags|=4}function Oc(n,s,a,u,m){if((s=(n.mode&32)!==0)&&(s=!1),s){if(n.flags|=16777216,(m&335544128)===m)if(n.stateNode.complete)n.flags|=8192;else if(cm())n.flags|=8192;else throw hs=La,Wu}else n.flags&=-16777217}function qp(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Zm(s))if(cm())n.flags|=8192;else throw hs=La,Wu}function el(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?ua():536870912,n.lanes|=s,to|=s)}function br(n,s){if(!De)switch(n.tailMode){case"hidden":s=n.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function Ze(n){var s=n.alternate!==null&&n.alternate.child===n.child,a=0,u=0;if(s)for(var m=n.child;m!==null;)a|=m.lanes|m.childLanes,u|=m.subtreeFlags&65011712,u|=m.flags&65011712,m.return=n,m=m.sibling;else for(m=n.child;m!==null;)a|=m.lanes|m.childLanes,u|=m.subtreeFlags,u|=m.flags,m.return=n,m=m.sibling;return n.subtreeFlags|=u,n.childLanes=a,s}function cS(n,s,a){var u=s.pendingProps;switch(Vu(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ze(s),null;case 1:return Ze(s),null;case 3:return a=s.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Jn(dt),Oe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(Hs(s)?Qn(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,$u())),Ze(s),null;case 26:var m=s.type,y=s.memoizedState;return n===null?(Qn(s),y!==null?(Ze(s),qp(s,y)):(Ze(s),Oc(s,m,null,u,a))):y?y!==n.memoizedState?(Qn(s),Ze(s),qp(s,y)):(Ze(s),s.flags&=-16777217):(n=n.memoizedProps,n!==u&&Qn(s),Ze(s),Oc(s,m,n,u,a)),null;case 27:if(fi(s),a=we.current,m=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&Qn(s);else{if(!u){if(s.stateNode===null)throw Error(o(166));return Ze(s),null}n=se.current,Hs(s)?yh(s):(n=$m(m,u,a),s.stateNode=n,Qn(s))}return Ze(s),null;case 5:if(fi(s),m=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&Qn(s);else{if(!u){if(s.stateNode===null)throw Error(o(166));return Ze(s),null}if(y=se.current,Hs(s))yh(s);else{var E=ml(we.current);switch(y){case 1:y=E.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:y=E.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":y=E.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":y=E.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":y=E.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof u.is=="string"?E.createElement("select",{is:u.is}):E.createElement("select"),u.multiple?y.multiple=!0:u.size&&(y.size=u.size);break;default:y=typeof u.is=="string"?E.createElement(m,{is:u.is}):E.createElement(m)}}y[nt]=s,y[It]=u;e:for(E=s.child;E!==null;){if(E.tag===5||E.tag===6)y.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===s)break e;for(;E.sibling===null;){if(E.return===null||E.return===s)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}s.stateNode=y;e:switch(At(y,m,u),m){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Qn(s)}}return Ze(s),Oc(s,s.type,n===null?null:n.memoizedProps,s.pendingProps,a),null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==u&&Qn(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(o(166));if(n=we.current,Hs(s)){if(n=s.stateNode,a=s.memoizedProps,u=null,m=Tt,m!==null)switch(m.tag){case 27:case 5:u=m.memoizedProps}n[nt]=s,n=!!(n.nodeValue===a||u!==null&&u.suppressHydrationWarning===!0||Um(n.nodeValue,a)),n||Ri(s,!0)}else n=ml(n).createTextNode(u),n[nt]=s,s.stateNode=n}return Ze(s),null;case 31:if(a=s.memoizedState,n===null||n.memoizedState!==null){if(u=Hs(s),a!==null){if(n===null){if(!u)throw Error(o(318));if(n=s.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(o(557));n[nt]=s}else ls(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ze(s),n=!1}else a=$u(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=a),n=!0;if(!n)return s.flags&256?(Zt(s),s):(Zt(s),null);if((s.flags&128)!==0)throw Error(o(558))}return Ze(s),null;case 13:if(u=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(m=Hs(s),u!==null&&u.dehydrated!==null){if(n===null){if(!m)throw Error(o(318));if(m=s.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(o(317));m[nt]=s}else ls(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ze(s),m=!1}else m=$u(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=m),m=!0;if(!m)return s.flags&256?(Zt(s),s):(Zt(s),null)}return Zt(s),(s.flags&128)!==0?(s.lanes=a,s):(a=u!==null,n=n!==null&&n.memoizedState!==null,a&&(u=s.child,m=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(m=u.alternate.memoizedState.cachePool.pool),y=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==m&&(u.flags|=2048)),a!==n&&a&&(s.child.flags|=8192),el(s,s.updateQueue),Ze(s),null);case 4:return Oe(),n===null&&id(s.stateNode.containerInfo),Ze(s),null;case 10:return Jn(s.type),Ze(s),null;case 19:if(J(rt),u=s.memoizedState,u===null)return Ze(s),null;if(m=(s.flags&128)!==0,y=u.rendering,y===null)if(m)br(u,!1);else{if(st!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(y=za(n),y!==null){for(s.flags|=128,br(u,!1),n=y.updateQueue,s.updateQueue=n,el(s,n),s.subtreeFlags=0,n=a,a=s.child;a!==null;)fh(a,n),a=a.sibling;return Z(rt,rt.current&1|2),De&&$n(s,u.treeForkCount),s.child}n=n.sibling}u.tail!==null&&Ut()>ol&&(s.flags|=128,m=!0,br(u,!1),s.lanes=4194304)}else{if(!m)if(n=za(y),n!==null){if(s.flags|=128,m=!0,n=n.updateQueue,s.updateQueue=n,el(s,n),br(u,!0),u.tail===null&&u.tailMode==="hidden"&&!y.alternate&&!De)return Ze(s),null}else 2*Ut()-u.renderingStartTime>ol&&a!==536870912&&(s.flags|=128,m=!0,br(u,!1),s.lanes=4194304);u.isBackwards?(y.sibling=s.child,s.child=y):(n=u.last,n!==null?n.sibling=y:s.child=y,u.last=y)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=Ut(),n.sibling=null,a=rt.current,Z(rt,m?a&1|2:a&1),De&&$n(s,u.treeForkCount),n):(Ze(s),null);case 22:case 23:return Zt(s),sc(),u=s.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(a&536870912)!==0&&(s.flags&128)===0&&(Ze(s),s.subtreeFlags&6&&(s.flags|=8192)):Ze(s),a=s.updateQueue,a!==null&&el(s,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==a&&(s.flags|=2048),n!==null&&J(ds),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),Jn(dt),Ze(s),null;case 25:return null;case 30:return null}throw Error(o(156,s.tag))}function dS(n,s){switch(Vu(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return Jn(dt),Oe(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return fi(s),null;case 31:if(s.memoizedState!==null){if(Zt(s),s.alternate===null)throw Error(o(340));ls()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 13:if(Zt(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(o(340));ls()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return J(rt),null;case 4:return Oe(),null;case 10:return Jn(s.type),null;case 22:case 23:return Zt(s),sc(),n!==null&&J(ds),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return Jn(dt),null;case 25:return null;default:return null}}function Bp(n,s){switch(Vu(s),s.tag){case 3:Jn(dt),Oe();break;case 26:case 27:case 5:fi(s);break;case 4:Oe();break;case 31:s.memoizedState!==null&&Zt(s);break;case 13:Zt(s);break;case 19:J(rt);break;case 10:Jn(s.type);break;case 22:case 23:Zt(s),sc(),n!==null&&J(ds);break;case 24:Jn(dt)}}function Er(n,s){try{var a=s.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var m=u.next;a=m;do{if((a.tag&n)===n){u=void 0;var y=a.create,E=a.inst;u=y(),E.destroy=u}a=a.next}while(a!==m)}}catch(T){$e(s,s.return,T)}}function Pi(n,s,a){try{var u=s.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var y=m.next;u=y;do{if((u.tag&n)===n){var E=u.inst,T=E.destroy;if(T!==void 0){E.destroy=void 0,m=s;var N=a,L=T;try{L()}catch(F){$e(m,N,F)}}}u=u.next}while(u!==y)}}catch(F){$e(s,s.return,F)}}function Gp(n){var s=n.updateQueue;if(s!==null){var a=n.stateNode;try{Ih(s,a)}catch(u){$e(n,n.return,u)}}}function zp(n,s,a){a.props=gs(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(u){$e(n,s,u)}}function Tr(n,s){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof a=="function"?n.refCleanup=a(u):a.current=u}}catch(m){$e(n,s,m)}}function qn(n,s){var a=n.ref,u=n.refCleanup;if(a!==null)if(typeof u=="function")try{u()}catch(m){$e(n,s,m)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(m){$e(n,s,m)}else a.current=null}function Hp(n){var s=n.type,a=n.memoizedProps,u=n.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&u.focus();break e;case"img":a.src?u.src=a.src:a.srcSet&&(u.srcset=a.srcSet)}}catch(m){$e(n,n.return,m)}}function Pc(n,s,a){try{var u=n.stateNode;kS(u,n.type,a,s),u[It]=s}catch(m){$e(n,n.return,m)}}function Vp(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Vi(n.type)||n.tag===4}function Lc(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Vp(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Vi(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function qc(n,s,a){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(n),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Ve));else if(u!==4&&(u===27&&Vi(n.type)&&(a=n.stateNode,s=null),n=n.child,n!==null))for(qc(n,s,a),n=n.sibling;n!==null;)qc(n,s,a),n=n.sibling}function tl(n,s,a){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?a.insertBefore(n,s):a.appendChild(n);else if(u!==4&&(u===27&&Vi(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(tl(n,s,a),n=n.sibling;n!==null;)tl(n,s,a),n=n.sibling}function Fp(n){var s=n.stateNode,a=n.memoizedProps;try{for(var u=n.type,m=s.attributes;m.length;)s.removeAttributeNode(m[0]);At(s,u,a),s[nt]=n,s[It]=a}catch(y){$e(n,n.return,y)}}var Wn=!1,pt=!1,Bc=!1,$p=typeof WeakSet=="function"?WeakSet:Set,vt=null;function fS(n,s){if(n=n.containerInfo,rd=El,n=ih(n),Du(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var m=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{a.nodeType,y.nodeType}catch{a=null;break e}var E=0,T=-1,N=-1,L=0,F=0,j=n,q=null;t:for(;;){for(var G;j!==a||m!==0&&j.nodeType!==3||(T=E+m),j!==y||u!==0&&j.nodeType!==3||(N=E+u),j.nodeType===3&&(E+=j.nodeValue.length),(G=j.firstChild)!==null;)q=j,j=G;for(;;){if(j===n)break t;if(q===a&&++L===m&&(T=E),q===y&&++F===u&&(N=E),(G=j.nextSibling)!==null)break;j=q,q=j.parentNode}j=G}a=T===-1||N===-1?null:{start:T,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(ad={focusedElem:n,selectionRange:a},El=!1,vt=s;vt!==null;)if(s=vt,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,vt=n;else for(;vt!==null;){switch(s=vt,y=s.alternate,n=s.flags,s.tag){case 0:if((n&4)!==0&&(n=s.updateQueue,n=n!==null?n.events:null,n!==null))for(a=0;a<n.length;a++)m=n[a],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&y!==null){n=void 0,a=s,m=y.memoizedProps,y=y.memoizedState,u=a.stateNode;try{var re=gs(a.type,m);n=u.getSnapshotBeforeUpdate(re,y),u.__reactInternalSnapshotBeforeUpdate=n}catch(he){$e(a,a.return,he)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,a=n.nodeType,a===9)cd(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":cd(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(o(163))}if(n=s.sibling,n!==null){n.return=s.return,vt=n;break}vt=s.return}}function jp(n,s,a){var u=a.flags;switch(a.tag){case 0:case 11:case 15:ei(n,a),u&4&&Er(5,a);break;case 1:if(ei(n,a),u&4)if(n=a.stateNode,s===null)try{n.componentDidMount()}catch(E){$e(a,a.return,E)}else{var m=gs(a.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(m,s,n.__reactInternalSnapshotBeforeUpdate)}catch(E){$e(a,a.return,E)}}u&64&&Gp(a),u&512&&Tr(a,a.return);break;case 3:if(ei(n,a),u&64&&(n=a.updateQueue,n!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{Ih(n,s)}catch(E){$e(a,a.return,E)}}break;case 27:s===null&&u&4&&Fp(a);case 26:case 5:ei(n,a),s===null&&u&4&&Hp(a),u&512&&Tr(a,a.return);break;case 12:ei(n,a);break;case 31:ei(n,a),u&4&&Yp(n,a);break;case 13:ei(n,a),u&4&&Xp(n,a),u&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=bS.bind(null,a),zS(n,a))));break;case 22:if(u=a.memoizedState!==null||Wn,!u){s=s!==null&&s.memoizedState!==null||pt,m=Wn;var y=pt;Wn=u,(pt=s)&&!y?ti(n,a,(a.subtreeFlags&8772)!==0):ei(n,a),Wn=m,pt=y}break;case 30:break;default:ei(n,a)}}function Jp(n){var s=n.alternate;s!==null&&(n.alternate=null,Jp(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&Jo(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var et=null,Ft=!1;function Zn(n,s,a){for(a=a.child;a!==null;)Kp(n,s,a),a=a.sibling}function Kp(n,s,a){if(bt&&typeof bt.onCommitFiberUnmount=="function")try{bt.onCommitFiberUnmount(gi,a)}catch{}switch(a.tag){case 26:pt||qn(a,s),Zn(n,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:pt||qn(a,s);var u=et,m=Ft;Vi(a.type)&&(et=a.stateNode,Ft=!1),Zn(n,s,a),Dr(a.stateNode),et=u,Ft=m;break;case 5:pt||qn(a,s);case 6:if(u=et,m=Ft,et=null,Zn(n,s,a),et=u,Ft=m,et!==null)if(Ft)try{(et.nodeType===9?et.body:et.nodeName==="HTML"?et.ownerDocument.body:et).removeChild(a.stateNode)}catch(y){$e(a,s,y)}else try{et.removeChild(a.stateNode)}catch(y){$e(a,s,y)}break;case 18:et!==null&&(Ft?(n=et,Gm(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),uo(n)):Gm(et,a.stateNode));break;case 4:u=et,m=Ft,et=a.stateNode.containerInfo,Ft=!0,Zn(n,s,a),et=u,Ft=m;break;case 0:case 11:case 14:case 15:Pi(2,a,s),pt||Pi(4,a,s),Zn(n,s,a);break;case 1:pt||(qn(a,s),u=a.stateNode,typeof u.componentWillUnmount=="function"&&zp(a,s,u)),Zn(n,s,a);break;case 21:Zn(n,s,a);break;case 22:pt=(u=pt)||a.memoizedState!==null,Zn(n,s,a),pt=u;break;default:Zn(n,s,a)}}function Yp(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{uo(n)}catch(a){$e(s,s.return,a)}}}function Xp(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{uo(n)}catch(a){$e(s,s.return,a)}}function hS(n){switch(n.tag){case 31:case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new $p),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new $p),s;default:throw Error(o(435,n.tag))}}function nl(n,s){var a=hS(n);s.forEach(function(u){if(!a.has(u)){a.add(u);var m=ES.bind(null,n,u);u.then(m,m)}})}function $t(n,s){var a=s.deletions;if(a!==null)for(var u=0;u<a.length;u++){var m=a[u],y=n,E=s,T=E;e:for(;T!==null;){switch(T.tag){case 27:if(Vi(T.type)){et=T.stateNode,Ft=!1;break e}break;case 5:et=T.stateNode,Ft=!1;break e;case 3:case 4:et=T.stateNode.containerInfo,Ft=!0;break e}T=T.return}if(et===null)throw Error(o(160));Kp(y,E,m),et=null,Ft=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Qp(s,n),s=s.sibling}var En=null;function Qp(n,s){var a=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:$t(s,n),jt(n),u&4&&(Pi(3,n,n.return),Er(3,n),Pi(5,n,n.return));break;case 1:$t(s,n),jt(n),u&512&&(pt||a===null||qn(a,a.return)),u&64&&Wn&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?u:a.concat(u))));break;case 26:var m=En;if($t(s,n),jt(n),u&512&&(pt||a===null||qn(a,a.return)),u&4){var y=a!==null?a.memoizedState:null;if(u=n.memoizedState,a===null)if(u===null)if(n.stateNode===null){e:{u=n.type,a=n.memoizedProps,m=m.ownerDocument||m;t:switch(u){case"title":y=m.getElementsByTagName("title")[0],(!y||y[an]||y[nt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(u),m.head.insertBefore(y,m.querySelector("head > title"))),At(y,u,a),y[nt]=n,ot(y),u=y;break e;case"link":var E=Qm("link","href",m).get(u+(a.href||""));if(E){for(var T=0;T<E.length;T++)if(y=E[T],y.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&y.getAttribute("rel")===(a.rel==null?null:a.rel)&&y.getAttribute("title")===(a.title==null?null:a.title)&&y.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(T,1);break t}}y=m.createElement(u),At(y,u,a),m.head.appendChild(y);break;case"meta":if(E=Qm("meta","content",m).get(u+(a.content||""))){for(T=0;T<E.length;T++)if(y=E[T],y.getAttribute("content")===(a.content==null?null:""+a.content)&&y.getAttribute("name")===(a.name==null?null:a.name)&&y.getAttribute("property")===(a.property==null?null:a.property)&&y.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&y.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(T,1);break t}}y=m.createElement(u),At(y,u,a),m.head.appendChild(y);break;default:throw Error(o(468,u))}y[nt]=n,ot(y),u=y}n.stateNode=u}else Wm(m,n.type,n.stateNode);else n.stateNode=Xm(m,u,n.memoizedProps);else y!==u?(y===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):y.count--,u===null?Wm(m,n.type,n.stateNode):Xm(m,u,n.memoizedProps)):u===null&&n.stateNode!==null&&Pc(n,n.memoizedProps,a.memoizedProps)}break;case 27:$t(s,n),jt(n),u&512&&(pt||a===null||qn(a,a.return)),a!==null&&u&4&&Pc(n,n.memoizedProps,a.memoizedProps);break;case 5:if($t(s,n),jt(n),u&512&&(pt||a===null||qn(a,a.return)),n.flags&32){m=n.stateNode;try{wi(m,"")}catch(re){$e(n,n.return,re)}}u&4&&n.stateNode!=null&&(m=n.memoizedProps,Pc(n,m,a!==null?a.memoizedProps:m)),u&1024&&(Bc=!0);break;case 6:if($t(s,n),jt(n),u&4){if(n.stateNode===null)throw Error(o(162));u=n.memoizedProps,a=n.stateNode;try{a.nodeValue=u}catch(re){$e(n,n.return,re)}}break;case 3:if(vl=null,m=En,En=gl(s.containerInfo),$t(s,n),En=m,jt(n),u&4&&a!==null&&a.memoizedState.isDehydrated)try{uo(s.containerInfo)}catch(re){$e(n,n.return,re)}Bc&&(Bc=!1,Wp(n));break;case 4:u=En,En=gl(n.stateNode.containerInfo),$t(s,n),jt(n),En=u;break;case 12:$t(s,n),jt(n);break;case 31:$t(s,n),jt(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,nl(n,u)));break;case 13:$t(s,n),jt(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(sl=Ut()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,nl(n,u)));break;case 22:m=n.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,L=Wn,F=pt;if(Wn=L||m,pt=F||N,$t(s,n),pt=F,Wn=L,jt(n),u&8192)e:for(s=n.stateNode,s._visibility=m?s._visibility&-2:s._visibility|1,m&&(a===null||N||Wn||pt||ys(n)),a=null,s=n;;){if(s.tag===5||s.tag===26){if(a===null){N=a=s;try{if(y=N.stateNode,m)E=y.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{T=N.stateNode;var j=N.memoizedProps.style,q=j!=null&&j.hasOwnProperty("display")?j.display:null;T.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(re){$e(N,N.return,re)}}}else if(s.tag===6){if(a===null){N=s;try{N.stateNode.nodeValue=m?"":N.memoizedProps}catch(re){$e(N,N.return,re)}}}else if(s.tag===18){if(a===null){N=s;try{var G=N.stateNode;m?zm(G,!0):zm(N.stateNode,!1)}catch(re){$e(N,N.return,re)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=n.updateQueue,u!==null&&(a=u.retryQueue,a!==null&&(u.retryQueue=null,nl(n,a))));break;case 19:$t(s,n),jt(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,nl(n,u)));break;case 30:break;case 21:break;default:$t(s,n),jt(n)}}function jt(n){var s=n.flags;if(s&2){try{for(var a,u=n.return;u!==null;){if(Vp(u)){a=u;break}u=u.return}if(a==null)throw Error(o(160));switch(a.tag){case 27:var m=a.stateNode,y=Lc(n);tl(n,y,m);break;case 5:var E=a.stateNode;a.flags&32&&(wi(E,""),a.flags&=-33);var T=Lc(n);tl(n,T,E);break;case 3:case 4:var N=a.stateNode.containerInfo,L=Lc(n);qc(n,L,N);break;default:throw Error(o(161))}}catch(F){$e(n,n.return,F)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function Wp(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;Wp(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function ei(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)jp(n,s.alternate,s),s=s.sibling}function ys(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:Pi(4,s,s.return),ys(s);break;case 1:qn(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&zp(s,s.return,a),ys(s);break;case 27:Dr(s.stateNode);case 26:case 5:qn(s,s.return),ys(s);break;case 22:s.memoizedState===null&&ys(s);break;case 30:ys(s);break;default:ys(s)}n=n.sibling}}function ti(n,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,m=n,y=s,E=y.flags;switch(y.tag){case 0:case 11:case 15:ti(m,y,a),Er(4,y);break;case 1:if(ti(m,y,a),u=y,m=u.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(L){$e(u,u.return,L)}if(u=y,m=u.updateQueue,m!==null){var T=u.stateNode;try{var N=m.shared.hiddenCallbacks;if(N!==null)for(m.shared.hiddenCallbacks=null,m=0;m<N.length;m++)Rh(N[m],T)}catch(L){$e(u,u.return,L)}}a&&E&64&&Gp(y),Tr(y,y.return);break;case 27:Fp(y);case 26:case 5:ti(m,y,a),a&&u===null&&E&4&&Hp(y),Tr(y,y.return);break;case 12:ti(m,y,a);break;case 31:ti(m,y,a),a&&E&4&&Yp(m,y);break;case 13:ti(m,y,a),a&&E&4&&Xp(m,y);break;case 22:y.memoizedState===null&&ti(m,y,a),Tr(y,y.return);break;case 30:break;default:ti(m,y,a)}s=s.sibling}}function Gc(n,s){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&ur(a))}function zc(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&ur(n))}function Tn(n,s,a,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Zp(n,s,a,u),s=s.sibling}function Zp(n,s,a,u){var m=s.flags;switch(s.tag){case 0:case 11:case 15:Tn(n,s,a,u),m&2048&&Er(9,s);break;case 1:Tn(n,s,a,u);break;case 3:Tn(n,s,a,u),m&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&ur(n)));break;case 12:if(m&2048){Tn(n,s,a,u),n=s.stateNode;try{var y=s.memoizedProps,E=y.id,T=y.onPostCommit;typeof T=="function"&&T(E,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(N){$e(s,s.return,N)}}else Tn(n,s,a,u);break;case 31:Tn(n,s,a,u);break;case 13:Tn(n,s,a,u);break;case 23:break;case 22:y=s.stateNode,E=s.alternate,s.memoizedState!==null?y._visibility&2?Tn(n,s,a,u):xr(n,s):y._visibility&2?Tn(n,s,a,u):(y._visibility|=2,Ws(n,s,a,u,(s.subtreeFlags&10256)!==0||!1)),m&2048&&Gc(E,s);break;case 24:Tn(n,s,a,u),m&2048&&zc(s.alternate,s);break;default:Tn(n,s,a,u)}}function Ws(n,s,a,u,m){for(m=m&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var y=n,E=s,T=a,N=u,L=E.flags;switch(E.tag){case 0:case 11:case 15:Ws(y,E,T,N,m),Er(8,E);break;case 23:break;case 22:var F=E.stateNode;E.memoizedState!==null?F._visibility&2?Ws(y,E,T,N,m):xr(y,E):(F._visibility|=2,Ws(y,E,T,N,m)),m&&L&2048&&Gc(E.alternate,E);break;case 24:Ws(y,E,T,N,m),m&&L&2048&&zc(E.alternate,E);break;default:Ws(y,E,T,N,m)}s=s.sibling}}function xr(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=n,u=s,m=u.flags;switch(u.tag){case 22:xr(a,u),m&2048&&Gc(u.alternate,u);break;case 24:xr(a,u),m&2048&&zc(u.alternate,u);break;default:xr(a,u)}s=s.sibling}}var wr=8192;function Zs(n,s,a){if(n.subtreeFlags&wr)for(n=n.child;n!==null;)em(n,s,a),n=n.sibling}function em(n,s,a){switch(n.tag){case 26:Zs(n,s,a),n.flags&wr&&n.memoizedState!==null&&ZS(a,En,n.memoizedState,n.memoizedProps);break;case 5:Zs(n,s,a);break;case 3:case 4:var u=En;En=gl(n.stateNode.containerInfo),Zs(n,s,a),En=u;break;case 22:n.memoizedState===null&&(u=n.alternate,u!==null&&u.memoizedState!==null?(u=wr,wr=16777216,Zs(n,s,a),wr=u):Zs(n,s,a));break;default:Zs(n,s,a)}}function tm(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function Ar(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var u=s[a];vt=u,im(u,n)}tm(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)nm(n),n=n.sibling}function nm(n){switch(n.tag){case 0:case 11:case 15:Ar(n),n.flags&2048&&Pi(9,n,n.return);break;case 3:Ar(n);break;case 12:Ar(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,il(n)):Ar(n);break;default:Ar(n)}}function il(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var u=s[a];vt=u,im(u,n)}tm(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:Pi(8,s,s.return),il(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,il(s));break;default:il(s)}n=n.sibling}}function im(n,s){for(;vt!==null;){var a=vt;switch(a.tag){case 0:case 11:case 15:Pi(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var u=a.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:ur(a.memoizedState.cache)}if(u=a.child,u!==null)u.return=a,vt=u;else e:for(a=n;vt!==null;){u=vt;var m=u.sibling,y=u.return;if(Jp(u),u===a){vt=null;break e}if(m!==null){m.return=y,vt=m;break e}vt=y}}}var pS={getCacheForType:function(n){var s=xt(dt),a=s.data.get(n);return a===void 0&&(a=n(),s.data.set(n,a)),a},cacheSignal:function(){return xt(dt).controller.signal}},mS=typeof WeakMap=="function"?WeakMap:Map,Be=0,Ye=null,Ne=null,Ie=0,Fe=0,en=null,Li=!1,eo=!1,Hc=!1,ni=0,st=0,qi=0,vs=0,Vc=0,tn=0,to=0,Cr=null,Jt=null,Fc=!1,sl=0,sm=0,ol=1/0,rl=null,Bi=null,gt=0,Gi=null,no=null,ii=0,$c=0,jc=null,om=null,Nr=0,Jc=null;function nn(){return(Be&2)!==0&&Ie!==0?Ie&-Ie:V.T!==null?Zc():da()}function rm(){if(tn===0)if((Ie&536870912)===0||De){var n=Rs;Rs<<=1,(Rs&3932160)===0&&(Rs=262144),tn=n}else tn=536870912;return n=Wt.current,n!==null&&(n.flags|=32),tn}function Kt(n,s,a){(n===Ye&&(Fe===2||Fe===9)||n.cancelPendingCommit!==null)&&(io(n,0),zi(n,Ie,tn,!1)),yi(n,a),((Be&2)===0||n!==Ye)&&(n===Ye&&((Be&2)===0&&(vs|=a),st===4&&zi(n,Ie,tn,!1)),Bn(n))}function am(n,s,a){if((Be&6)!==0)throw Error(o(327));var u=!a&&(s&127)===0&&(s&n.expiredLanes)===0||ts(n,s),m=u?vS(n,s):Yc(n,s,!0),y=u;do{if(m===0){eo&&!u&&zi(n,s,0,!1);break}else{if(a=n.current.alternate,y&&!gS(a)){m=Yc(n,s,!1),y=!1;continue}if(m===2){if(y=s,n.errorRecoveryDisabledLanes&y)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){s=E;e:{var T=n;m=Cr;var N=T.current.memoizedState.isDehydrated;if(N&&(io(T,E).flags|=256),E=Yc(T,E,!1),E!==2){if(Hc&&!N){T.errorRecoveryDisabledLanes|=y,vs|=y,m=4;break e}y=Jt,Jt=m,y!==null&&(Jt===null?Jt=y:Jt.push.apply(Jt,y))}m=E}if(y=!1,m!==2)continue}}if(m===1){io(n,0),zi(n,s,0,!0);break}e:{switch(u=n,y=m,y){case 0:case 1:throw Error(o(345));case 4:if((s&4194048)!==s)break;case 6:zi(u,s,tn,!Li);break e;case 2:Jt=null;break;case 3:case 5:break;default:throw Error(o(329))}if((s&62914560)===s&&(m=sl+300-Ut(),10<m)){if(zi(u,s,tn,!Li),lt(u,0,!0)!==0)break e;ii=s,u.timeoutHandle=qm(lm.bind(null,u,a,Jt,rl,Fc,s,tn,vs,to,Li,y,"Throttled",-0,0),m);break e}lm(u,a,Jt,rl,Fc,s,tn,vs,to,Li,y,null,-0,0)}}break}while(!0);Bn(n)}function lm(n,s,a,u,m,y,E,T,N,L,F,j,q,G){if(n.timeoutHandle=-1,j=s.subtreeFlags,j&8192||(j&16785408)===16785408){j={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ve},em(s,y,j);var re=(y&62914560)===y?sl-Ut():(y&4194048)===y?sm-Ut():0;if(re=eb(j,re),re!==null){ii=y,n.cancelPendingCommit=re(gm.bind(null,n,s,y,a,u,m,E,T,N,F,j,null,q,G)),zi(n,y,E,!L);return}}gm(n,s,y,a,u,m,E,T,N)}function gS(n){for(var s=n;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var u=0;u<a.length;u++){var m=a[u],y=m.getSnapshot;m=m.value;try{if(!Xt(y(),m))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function zi(n,s,a,u){s&=~Vc,s&=~vs,n.suspendedLanes|=s,n.pingedLanes&=~s,u&&(n.warmLanes|=s),u=n.expirationTimes;for(var m=s;0<m;){var y=31-Bt(m),E=1<<y;u[y]=-1,m&=~E}a!==0&&Ho(n,a,s)}function al(){return(Be&6)===0?(Rr(0),!1):!0}function Kc(){if(Ne!==null){if(Fe===0)var n=Ne.return;else n=Ne,jn=us=null,cc(n),Js=null,dr=0,n=Ne;for(;n!==null;)Bp(n.alternate,n),n=n.return;Ne=null}}function io(n,s){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,PS(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),ii=0,Kc(),Ye=n,Ne=a=Fn(n.current,null),Ie=s,Fe=0,en=null,Li=!1,eo=ts(n,s),Hc=!1,to=tn=Vc=vs=qi=st=0,Jt=Cr=null,Fc=!1,(s&8)!==0&&(s|=s&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=s;0<u;){var m=31-Bt(u),y=1<<m;s|=n[m],u&=~y}return ni=s,Na(),a}function um(n,s){Ee=null,V.H=_r,s===js||s===Pa?(s=wh(),Fe=3):s===Wu?(s=wh(),Fe=4):Fe=s===Ac?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,en=s,Ne===null&&(st=1,Xa(n,un(s,n.current)))}function cm(){var n=Wt.current;return n===null?!0:(Ie&4194048)===Ie?hn===null:(Ie&62914560)===Ie||(Ie&536870912)!==0?n===hn:!1}function dm(){var n=V.H;return V.H=_r,n===null?_r:n}function fm(){var n=V.A;return V.A=pS,n}function ll(){st=4,Li||(Ie&4194048)!==Ie&&Wt.current!==null||(eo=!0),(qi&134217727)===0&&(vs&134217727)===0||Ye===null||zi(Ye,Ie,tn,!1)}function Yc(n,s,a){var u=Be;Be|=2;var m=dm(),y=fm();(Ye!==n||Ie!==s)&&(rl=null,io(n,s)),s=!1;var E=st;e:do try{if(Fe!==0&&Ne!==null){var T=Ne,N=en;switch(Fe){case 8:Kc(),E=6;break e;case 3:case 2:case 9:case 6:Wt.current===null&&(s=!0);var L=Fe;if(Fe=0,en=null,so(n,T,N,L),a&&eo){E=0;break e}break;default:L=Fe,Fe=0,en=null,so(n,T,N,L)}}yS(),E=st;break}catch(F){um(n,F)}while(!0);return s&&n.shellSuspendCounter++,jn=us=null,Be=u,V.H=m,V.A=y,Ne===null&&(Ye=null,Ie=0,Na()),E}function yS(){for(;Ne!==null;)hm(Ne)}function vS(n,s){var a=Be;Be|=2;var u=dm(),m=fm();Ye!==n||Ie!==s?(rl=null,ol=Ut()+500,io(n,s)):eo=ts(n,s);e:do try{if(Fe!==0&&Ne!==null){s=Ne;var y=en;t:switch(Fe){case 1:Fe=0,en=null,so(n,s,y,1);break;case 2:case 9:if(Th(y)){Fe=0,en=null,pm(s);break}s=function(){Fe!==2&&Fe!==9||Ye!==n||(Fe=7),Bn(n)},y.then(s,s);break e;case 3:Fe=7;break e;case 4:Fe=5;break e;case 7:Th(y)?(Fe=0,en=null,pm(s)):(Fe=0,en=null,so(n,s,y,7));break;case 5:var E=null;switch(Ne.tag){case 26:E=Ne.memoizedState;case 5:case 27:var T=Ne;if(E?Zm(E):T.stateNode.complete){Fe=0,en=null;var N=T.sibling;if(N!==null)Ne=N;else{var L=T.return;L!==null?(Ne=L,ul(L)):Ne=null}break t}}Fe=0,en=null,so(n,s,y,5);break;case 6:Fe=0,en=null,so(n,s,y,6);break;case 8:Kc(),st=6;break e;default:throw Error(o(462))}}_S();break}catch(F){um(n,F)}while(!0);return jn=us=null,V.H=u,V.A=m,Be=a,Ne!==null?0:(Ye=null,Ie=0,Na(),st)}function _S(){for(;Ne!==null&&!zn();)hm(Ne)}function hm(n){var s=Lp(n.alternate,n,ni);n.memoizedProps=n.pendingProps,s===null?ul(n):Ne=s}function pm(n){var s=n,a=s.alternate;switch(s.tag){case 15:case 0:s=Mp(a,s,s.pendingProps,s.type,void 0,Ie);break;case 11:s=Mp(a,s,s.pendingProps,s.type.render,s.ref,Ie);break;case 5:cc(s);default:Bp(a,s),s=Ne=fh(s,ni),s=Lp(a,s,ni)}n.memoizedProps=n.pendingProps,s===null?ul(n):Ne=s}function so(n,s,a,u){jn=us=null,cc(s),Js=null,dr=0;var m=s.return;try{if(aS(n,m,s,a,Ie)){st=1,Xa(n,un(a,n.current)),Ne=null;return}}catch(y){if(m!==null)throw Ne=m,y;st=1,Xa(n,un(a,n.current)),Ne=null;return}s.flags&32768?(De||u===1?n=!0:eo||(Ie&536870912)!==0?n=!1:(Li=n=!0,(u===2||u===9||u===3||u===6)&&(u=Wt.current,u!==null&&u.tag===13&&(u.flags|=16384))),mm(s,n)):ul(s)}function ul(n){var s=n;do{if((s.flags&32768)!==0){mm(s,Li);return}n=s.return;var a=cS(s.alternate,s,ni);if(a!==null){Ne=a;return}if(s=s.sibling,s!==null){Ne=s;return}Ne=s=n}while(s!==null);st===0&&(st=5)}function mm(n,s){do{var a=dS(n.alternate,n);if(a!==null){a.flags&=32767,Ne=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(n=n.sibling,n!==null)){Ne=n;return}Ne=n=a}while(n!==null);st=6,Ne=null}function gm(n,s,a,u,m,y,E,T,N){n.cancelPendingCommit=null;do cl();while(gt!==0);if((Be&6)!==0)throw Error(o(327));if(s!==null){if(s===n.current)throw Error(o(177));if(y=s.lanes|s.childLanes,y|=Lu,ca(n,a,y,E,T,N),n===Ye&&(Ne=Ye=null,Ie=0),no=s,Gi=n,ii=a,$c=y,jc=m,om=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,TS(Ot,function(){return bm(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=V.T,V.T=null,m=Q.p,Q.p=2,E=Be,Be|=4;try{fS(n,s,a)}finally{Be=E,Q.p=m,V.T=u}}gt=1,ym(),vm(),_m()}}function ym(){if(gt===1){gt=0;var n=Gi,s=no,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=V.T,V.T=null;var u=Q.p;Q.p=2;var m=Be;Be|=4;try{Qp(s,n);var y=ad,E=ih(n.containerInfo),T=y.focusedElem,N=y.selectionRange;if(E!==T&&T&&T.ownerDocument&&nh(T.ownerDocument.documentElement,T)){if(N!==null&&Du(T)){var L=N.start,F=N.end;if(F===void 0&&(F=L),"selectionStart"in T)T.selectionStart=L,T.selectionEnd=Math.min(F,T.value.length);else{var j=T.ownerDocument||document,q=j&&j.defaultView||window;if(q.getSelection){var G=q.getSelection(),re=T.textContent.length,he=Math.min(N.start,re),Ke=N.end===void 0?he:Math.min(N.end,re);!G.extend&&he>Ke&&(E=Ke,Ke=he,he=E);var D=th(T,he),I=th(T,Ke);if(D&&I&&(G.rangeCount!==1||G.anchorNode!==D.node||G.anchorOffset!==D.offset||G.focusNode!==I.node||G.focusOffset!==I.offset)){var P=j.createRange();P.setStart(D.node,D.offset),G.removeAllRanges(),he>Ke?(G.addRange(P),G.extend(I.node,I.offset)):(P.setEnd(I.node,I.offset),G.addRange(P))}}}}for(j=[],G=T;G=G.parentNode;)G.nodeType===1&&j.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<j.length;T++){var $=j[T];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}El=!!rd,ad=rd=null}finally{Be=m,Q.p=u,V.T=a}}n.current=s,gt=2}}function vm(){if(gt===2){gt=0;var n=Gi,s=no,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=V.T,V.T=null;var u=Q.p;Q.p=2;var m=Be;Be|=4;try{jp(n,s.alternate,s)}finally{Be=m,Q.p=u,V.T=a}}gt=3}}function _m(){if(gt===4||gt===3){gt=0,Go();var n=Gi,s=no,a=ii,u=om;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?gt=5:(gt=0,no=Gi=null,Sm(n,n.pendingLanes));var m=n.pendingLanes;if(m===0&&(Bi=null),vi(a),s=s.stateNode,bt&&typeof bt.onCommitFiberRoot=="function")try{bt.onCommitFiberRoot(gi,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=V.T,m=Q.p,Q.p=2,V.T=null;try{for(var y=n.onRecoverableError,E=0;E<u.length;E++){var T=u[E];y(T.value,{componentStack:T.stack})}}finally{V.T=s,Q.p=m}}(ii&3)!==0&&cl(),Bn(n),m=n.pendingLanes,(a&261930)!==0&&(m&42)!==0?n===Jc?Nr++:(Nr=0,Jc=n):Nr=0,Rr(0)}}function Sm(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,ur(s)))}function cl(){return ym(),vm(),_m(),bm()}function bm(){if(gt!==5)return!1;var n=Gi,s=$c;$c=0;var a=vi(ii),u=V.T,m=Q.p;try{Q.p=32>a?32:a,V.T=null,a=jc,jc=null;var y=Gi,E=ii;if(gt=0,no=Gi=null,ii=0,(Be&6)!==0)throw Error(o(331));var T=Be;if(Be|=4,nm(y.current),Zp(y,y.current,E,a),Be=T,Rr(0,!1),bt&&typeof bt.onPostCommitFiberRoot=="function")try{bt.onPostCommitFiberRoot(gi,y)}catch{}return!0}finally{Q.p=m,V.T=u,Sm(n,s)}}function Em(n,s,a){s=un(a,s),s=wc(n.stateNode,s,2),n=ki(n,s,2),n!==null&&(yi(n,2),Bn(n))}function $e(n,s,a){if(n.tag===3)Em(n,n,a);else for(;s!==null;){if(s.tag===3){Em(s,n,a);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Bi===null||!Bi.has(u))){n=un(a,n),a=Tp(2),u=ki(s,a,2),u!==null&&(xp(a,u,s,n),yi(u,2),Bn(u));break}}s=s.return}}function Xc(n,s,a){var u=n.pingCache;if(u===null){u=n.pingCache=new mS;var m=new Set;u.set(s,m)}else m=u.get(s),m===void 0&&(m=new Set,u.set(s,m));m.has(a)||(Hc=!0,m.add(a),n=SS.bind(null,n,s,a),s.then(n,n))}function SS(n,s,a){var u=n.pingCache;u!==null&&u.delete(s),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,Ye===n&&(Ie&a)===a&&(st===4||st===3&&(Ie&62914560)===Ie&&300>Ut()-sl?(Be&2)===0&&io(n,0):Vc|=a,to===Ie&&(to=0)),Bn(n)}function Tm(n,s){s===0&&(s=ua()),n=rs(n,s),n!==null&&(yi(n,s),Bn(n))}function bS(n){var s=n.memoizedState,a=0;s!==null&&(a=s.retryLane),Tm(n,a)}function ES(n,s){var a=0;switch(n.tag){case 31:case 13:var u=n.stateNode,m=n.memoizedState;m!==null&&(a=m.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(o(314))}u!==null&&u.delete(s),Tm(n,a)}function TS(n,s){return Zi(n,s)}var dl=null,oo=null,Qc=!1,fl=!1,Wc=!1,Hi=0;function Bn(n){n!==oo&&n.next===null&&(oo===null?dl=oo=n:oo=oo.next=n),fl=!0,Qc||(Qc=!0,wS())}function Rr(n,s){if(!Wc&&fl){Wc=!0;do for(var a=!1,u=dl;u!==null;){if(n!==0){var m=u.pendingLanes;if(m===0)var y=0;else{var E=u.suspendedLanes,T=u.pingedLanes;y=(1<<31-Bt(42|n)+1)-1,y&=m&~(E&~T),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(a=!0,Cm(u,y))}else y=Ie,y=lt(u,u===Ye?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(y&3)===0||ts(u,y)||(a=!0,Cm(u,y));u=u.next}while(a);Wc=!1}}function xS(){xm()}function xm(){fl=Qc=!1;var n=0;Hi!==0&&OS()&&(n=Hi);for(var s=Ut(),a=null,u=dl;u!==null;){var m=u.next,y=wm(u,s);y===0?(u.next=null,a===null?dl=m:a.next=m,m===null&&(oo=a)):(a=u,(n!==0||(y&3)!==0)&&(fl=!0)),u=m}gt!==0&&gt!==5||Rr(n),Hi!==0&&(Hi=0)}function wm(n,s){for(var a=n.suspendedLanes,u=n.pingedLanes,m=n.expirationTimes,y=n.pendingLanes&-62914561;0<y;){var E=31-Bt(y),T=1<<E,N=m[E];N===-1?((T&a)===0||(T&u)!==0)&&(m[E]=Is(T,s)):N<=s&&(n.expiredLanes|=T),y&=~T}if(s=Ye,a=Ie,a=lt(n,n===s?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,a===0||n===s&&(Fe===2||Fe===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&Bo(u),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||ts(n,a)){if(s=a&-a,s===n.callbackPriority)return s;switch(u!==null&&Bo(u),vi(a)){case 2:case 8:a=es;break;case 32:a=Ot;break;case 268435456:a=mi;break;default:a=Ot}return u=Am.bind(null,n),a=Zi(a,u),n.callbackPriority=s,n.callbackNode=a,s}return u!==null&&u!==null&&Bo(u),n.callbackPriority=2,n.callbackNode=null,2}function Am(n,s){if(gt!==0&&gt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(cl()&&n.callbackNode!==a)return null;var u=Ie;return u=lt(n,n===Ye?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(am(n,u,s),wm(n,Ut()),n.callbackNode!=null&&n.callbackNode===a?Am.bind(null,n):null)}function Cm(n,s){if(cl())return null;am(n,s,!0)}function wS(){LS(function(){(Be&6)!==0?Zi(Mn,xS):xm()})}function Zc(){if(Hi===0){var n=Fs;n===0&&(n=rn,rn<<=1,(rn&261888)===0&&(rn=256)),Hi=n}return Hi}function Nm(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Ce(""+n)}function Rm(n,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,n.id&&a.setAttribute("form",n.id),s.parentNode.insertBefore(a,s),n=new FormData(n),a.parentNode.removeChild(a),n}function AS(n,s,a,u,m){if(s==="submit"&&a&&a.stateNode===m){var y=Nm((m[It]||null).action),E=u.submitter;E&&(s=(s=E[It]||null)?Nm(s.formAction):E.getAttribute("formAction"),s!==null&&(y=s,E=null));var T=new xa("action","action",null,u,m);n.push({event:T,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Hi!==0){var N=E?Rm(m,E):new FormData(m);_c(a,{pending:!0,data:N,method:m.method,action:y},null,N)}}else typeof y=="function"&&(T.preventDefault(),N=E?Rm(m,E):new FormData(m),_c(a,{pending:!0,data:N,method:m.method,action:y},y,N))},currentTarget:m}]})}}for(var ed=0;ed<Pu.length;ed++){var td=Pu[ed],CS=td.toLowerCase(),NS=td[0].toUpperCase()+td.slice(1);bn(CS,"on"+NS)}bn(rh,"onAnimationEnd"),bn(ah,"onAnimationIteration"),bn(lh,"onAnimationStart"),bn("dblclick","onDoubleClick"),bn("focusin","onFocus"),bn("focusout","onBlur"),bn(F_,"onTransitionRun"),bn($_,"onTransitionStart"),bn(j_,"onTransitionCancel"),bn(uh,"onTransitionEnd"),Ti("onMouseEnter",["mouseout","mouseover"]),Ti("onMouseLeave",["mouseout","mouseover"]),Ti("onPointerEnter",["pointerout","pointerover"]),Ti("onPointerLeave",["pointerout","pointerover"]),ut("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ut("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ut("onBeforeInput",["compositionend","keypress","textInput","paste"]),ut("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ut("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ut("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ir="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ir));function Im(n,s){s=(s&4)!==0;for(var a=0;a<n.length;a++){var u=n[a],m=u.event;u=u.listeners;e:{var y=void 0;if(s)for(var E=u.length-1;0<=E;E--){var T=u[E],N=T.instance,L=T.currentTarget;if(T=T.listener,N!==y&&m.isPropagationStopped())break e;y=T,m.currentTarget=L;try{y(m)}catch(F){Ca(F)}m.currentTarget=null,y=N}else for(E=0;E<u.length;E++){if(T=u[E],N=T.instance,L=T.currentTarget,T=T.listener,N!==y&&m.isPropagationStopped())break e;y=T,m.currentTarget=L;try{y(m)}catch(F){Ca(F)}m.currentTarget=null,y=N}}}}function Re(n,s){var a=s[$o];a===void 0&&(a=s[$o]=new Set);var u=n+"__bubble";a.has(u)||(Mm(s,n,2,!1),a.add(u))}function nd(n,s,a){var u=0;s&&(u|=4),Mm(a,n,u,s)}var hl="_reactListening"+Math.random().toString(36).slice(2);function id(n){if(!n[hl]){n[hl]=!0,Ko.forEach(function(a){a!=="selectionchange"&&(RS.has(a)||nd(a,!1,n),nd(a,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[hl]||(s[hl]=!0,nd("selectionchange",!1,s))}}function Mm(n,s,a,u){switch(rg(s)){case 2:var m=ib;break;case 8:m=sb;break;default:m=vd}a=m.bind(null,s,a,n),m=void 0,!Tu||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),u?m!==void 0?n.addEventListener(s,a,{capture:!0,passive:m}):n.addEventListener(s,a,!0):m!==void 0?n.addEventListener(s,a,{passive:m}):n.addEventListener(s,a,!1)}function sd(n,s,a,u,m){var y=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var T=u.stateNode.containerInfo;if(T===m)break;if(E===4)for(E=u.return;E!==null;){var N=E.tag;if((N===3||N===4)&&E.stateNode.containerInfo===m)return;E=E.return}for(;T!==null;){if(E=bi(T),E===null)return;if(N=E.tag,N===5||N===6||N===26||N===27){u=y=E;continue e}T=T.parentNode}}u=u.return}Pf(function(){var L=y,F=Ae(a),j=[];e:{var q=ch.get(n);if(q!==void 0){var G=xa,re=n;switch(n){case"keypress":if(Ea(a)===0)break e;case"keydown":case"keyup":G=E_;break;case"focusin":re="focus",G=Cu;break;case"focusout":re="blur",G=Cu;break;case"beforeblur":case"afterblur":G=Cu;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Bf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=c_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=w_;break;case rh:case ah:case lh:G=h_;break;case uh:G=C_;break;case"scroll":case"scrollend":G=l_;break;case"wheel":G=R_;break;case"copy":case"cut":case"paste":G=m_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=zf;break;case"toggle":case"beforetoggle":G=M_}var he=(s&4)!==0,Ke=!he&&(n==="scroll"||n==="scrollend"),D=he?q!==null?q+"Capture":null:q;he=[];for(var I=L,P;I!==null;){var $=I;if(P=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||P===null||D===null||($=Wo(I,D),$!=null&&he.push(Mr(I,$,P))),Ke)break;I=I.return}0<he.length&&(q=new G(q,re,null,a,F),j.push({event:q,listeners:he}))}}if((s&7)===0){e:{if(q=n==="mouseover"||n==="pointerover",G=n==="mouseout"||n==="pointerout",q&&a!==ee&&(re=a.relatedTarget||a.fromElement)&&(bi(re)||re[Si]))break e;if((G||q)&&(q=F.window===F?F:(q=F.ownerDocument)?q.defaultView||q.parentWindow:window,G?(re=a.relatedTarget||a.toElement,G=L,re=re?bi(re):null,re!==null&&(Ke=l(re),he=re.tag,re!==Ke||he!==5&&he!==27&&he!==6)&&(re=null)):(G=null,re=L),G!==re)){if(he=Bf,$="onMouseLeave",D="onMouseEnter",I="mouse",(n==="pointerout"||n==="pointerover")&&(he=zf,$="onPointerLeave",D="onPointerEnter",I="pointer"),Ke=G==null?q:Ei(G),P=re==null?q:Ei(re),q=new he($,I+"leave",G,a,F),q.target=Ke,q.relatedTarget=P,$=null,bi(F)===L&&(he=new he(D,I+"enter",re,a,F),he.target=P,he.relatedTarget=Ke,$=he),Ke=$,G&&re)t:{for(he=IS,D=G,I=re,P=0,$=D;$;$=he($))P++;$=0;for(var de=I;de;de=he(de))$++;for(;0<P-$;)D=he(D),P--;for(;0<$-P;)I=he(I),$--;for(;P--;){if(D===I||I!==null&&D===I.alternate){he=D;break t}D=he(D),I=he(I)}he=null}else he=null;G!==null&&Dm(j,q,G,he,!1),re!==null&&Ke!==null&&Dm(j,Ke,re,he,!0)}}e:{if(q=L?Ei(L):window,G=q.nodeName&&q.nodeName.toLowerCase(),G==="select"||G==="input"&&q.type==="file")var Pe=Yf;else if(Jf(q))if(Xf)Pe=z_;else{Pe=B_;var ae=q_}else G=q.nodeName,!G||G.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?L&&X(L.elementType)&&(Pe=Yf):Pe=G_;if(Pe&&(Pe=Pe(n,L))){Kf(j,Pe,a,F);break e}ae&&ae(n,q,L),n==="focusout"&&L&&q.type==="number"&&L.memoizedProps.value!=null&&Qo(q,"number",q.value)}switch(ae=L?Ei(L):window,n){case"focusin":(Jf(ae)||ae.contentEditable==="true")&&(Ps=ae,ku=L,rr=null);break;case"focusout":rr=ku=Ps=null;break;case"mousedown":Uu=!0;break;case"contextmenu":case"mouseup":case"dragend":Uu=!1,sh(j,a,F);break;case"selectionchange":if(V_)break;case"keydown":case"keyup":sh(j,a,F)}var xe;if(Ru)e:{switch(n){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else Os?$f(n,a)&&(Me="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Me="onCompositionStart");Me&&(Hf&&a.locale!=="ko"&&(Os||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&Os&&(xe=Lf()):(Ai=F,xu="value"in Ai?Ai.value:Ai.textContent,Os=!0)),ae=pl(L,Me),0<ae.length&&(Me=new Gf(Me,n,null,a,F),j.push({event:Me,listeners:ae}),xe?Me.data=xe:(xe=jf(a),xe!==null&&(Me.data=xe)))),(xe=k_?U_(n,a):O_(n,a))&&(Me=pl(L,"onBeforeInput"),0<Me.length&&(ae=new Gf("onBeforeInput","beforeinput",null,a,F),j.push({event:ae,listeners:Me}),ae.data=xe)),AS(j,n,L,a,F)}Im(j,s)})}function Mr(n,s,a){return{instance:n,listener:s,currentTarget:a}}function pl(n,s){for(var a=s+"Capture",u=[];n!==null;){var m=n,y=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=Wo(n,a),m!=null&&u.unshift(Mr(n,m,y)),m=Wo(n,s),m!=null&&u.push(Mr(n,m,y))),n.tag===3)return u;n=n.return}return[]}function IS(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Dm(n,s,a,u,m){for(var y=s._reactName,E=[];a!==null&&a!==u;){var T=a,N=T.alternate,L=T.stateNode;if(T=T.tag,N!==null&&N===u)break;T!==5&&T!==26&&T!==27||L===null||(N=L,m?(L=Wo(a,y),L!=null&&E.unshift(Mr(a,L,N))):m||(L=Wo(a,y),L!=null&&E.push(Mr(a,L,N)))),a=a.return}E.length!==0&&n.push({event:s,listeners:E})}var MS=/\r\n?/g,DS=/\u0000|\uFFFD/g;function km(n){return(typeof n=="string"?n:""+n).replace(MS,`
`).replace(DS,"")}function Um(n,s){return s=km(s),km(n)===s}function Je(n,s,a,u,m,y){switch(a){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||wi(n,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&wi(n,""+u);break;case"className":ks(n,"class",u);break;case"tabIndex":ks(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":ks(n,a,u);break;case"style":O(n,u,y);break;case"data":if(s!=="object"){ks(n,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||a!=="href")){n.removeAttribute(a);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(a);break}u=Ce(""+u),n.setAttribute(a,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(a==="formAction"?(s!=="input"&&Je(n,s,"name",m.name,m,null),Je(n,s,"formEncType",m.formEncType,m,null),Je(n,s,"formMethod",m.formMethod,m,null),Je(n,s,"formTarget",m.formTarget,m,null)):(Je(n,s,"encType",m.encType,m,null),Je(n,s,"method",m.method,m,null),Je(n,s,"target",m.target,m,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(a);break}u=Ce(""+u),n.setAttribute(a,u);break;case"onClick":u!=null&&(n.onclick=Ve);break;case"onScroll":u!=null&&Re("scroll",n);break;case"onScrollEnd":u!=null&&Re("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(o(61));if(a=u.__html,a!=null){if(m.children!=null)throw Error(o(60));n.innerHTML=a}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}a=Ce(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,""+u):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":u===!0?n.setAttribute(a,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(a,u):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(a,u):n.removeAttribute(a);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(a):n.setAttribute(a,u);break;case"popover":Re("beforetoggle",n),Re("toggle",n),Ds(n,"popover",u);break;case"xlinkActuate":Sn(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Sn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Sn(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Sn(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Sn(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Sn(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Sn(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Sn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Sn(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Ds(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ie.get(a)||a,Ds(n,a,u))}}function od(n,s,a,u,m,y){switch(a){case"style":O(n,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(o(61));if(a=u.__html,a!=null){if(m.children!=null)throw Error(o(60));n.innerHTML=a}}break;case"children":typeof u=="string"?wi(n,u):(typeof u=="number"||typeof u=="bigint")&&wi(n,""+u);break;case"onScroll":u!=null&&Re("scroll",n);break;case"onScrollEnd":u!=null&&Re("scrollend",n);break;case"onClick":u!=null&&(n.onclick=Ve);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!fa.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(m=a.endsWith("Capture"),s=a.slice(2,m?a.length-7:void 0),y=n[It]||null,y=y!=null?y[a]:null,typeof y=="function"&&n.removeEventListener(s,y,m),typeof u=="function")){typeof y!="function"&&y!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(s,u,m);break e}a in n?n[a]=u:u===!0?n.setAttribute(a,""):Ds(n,a,u)}}}function At(n,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Re("error",n),Re("load",n);var u=!1,m=!1,y;for(y in a)if(a.hasOwnProperty(y)){var E=a[y];if(E!=null)switch(y){case"src":u=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,s));default:Je(n,s,y,E,a,null)}}m&&Je(n,s,"srcSet",a.srcSet,a,null),u&&Je(n,s,"src",a.src,a,null);return;case"input":Re("invalid",n);var T=y=E=m=null,N=null,L=null;for(u in a)if(a.hasOwnProperty(u)){var F=a[u];if(F!=null)switch(u){case"name":m=F;break;case"type":E=F;break;case"checked":N=F;break;case"defaultChecked":L=F;break;case"value":y=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(o(137,s));break;default:Je(n,s,u,F,a,null)}}va(n,y,T,N,L,E,m,!1);return;case"select":Re("invalid",n),u=E=y=null;for(m in a)if(a.hasOwnProperty(m)&&(T=a[m],T!=null))switch(m){case"value":y=T;break;case"defaultValue":E=T;break;case"multiple":u=T;default:Je(n,s,m,T,a,null)}s=y,a=E,n.multiple=!!u,s!=null?xi(n,!!u,s,!1):a!=null&&xi(n,!!u,a,!0);return;case"textarea":Re("invalid",n),y=m=u=null;for(E in a)if(a.hasOwnProperty(E)&&(T=a[E],T!=null))switch(E){case"value":u=T;break;case"defaultValue":m=T;break;case"children":y=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(o(91));break;default:Je(n,s,E,T,a,null)}Sa(n,u,m,y);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(u=a[N],u!=null))switch(N){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Je(n,s,N,u,a,null)}return;case"dialog":Re("beforetoggle",n),Re("toggle",n),Re("cancel",n),Re("close",n);break;case"iframe":case"object":Re("load",n);break;case"video":case"audio":for(u=0;u<Ir.length;u++)Re(Ir[u],n);break;case"image":Re("error",n),Re("load",n);break;case"details":Re("toggle",n);break;case"embed":case"source":case"link":Re("error",n),Re("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in a)if(a.hasOwnProperty(L)&&(u=a[L],u!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,s));default:Je(n,s,L,u,a,null)}return;default:if(X(s)){for(F in a)a.hasOwnProperty(F)&&(u=a[F],u!==void 0&&od(n,s,F,u,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(u=a[T],u!=null&&Je(n,s,T,u,a,null))}function kS(n,s,a,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,E=null,T=null,N=null,L=null,F=null;for(G in a){var j=a[G];if(a.hasOwnProperty(G)&&j!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":N=j;default:u.hasOwnProperty(G)||Je(n,s,G,null,u,j)}}for(var q in u){var G=u[q];if(j=a[q],u.hasOwnProperty(q)&&(G!=null||j!=null))switch(q){case"type":y=G;break;case"name":m=G;break;case"checked":L=G;break;case"defaultChecked":F=G;break;case"value":E=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(o(137,s));break;default:G!==j&&Je(n,s,q,G,u,j)}}Xo(n,E,T,N,L,F,y,m);return;case"select":G=E=T=q=null;for(y in a)if(N=a[y],a.hasOwnProperty(y)&&N!=null)switch(y){case"value":break;case"multiple":G=N;default:u.hasOwnProperty(y)||Je(n,s,y,null,u,N)}for(m in u)if(y=u[m],N=a[m],u.hasOwnProperty(m)&&(y!=null||N!=null))switch(m){case"value":q=y;break;case"defaultValue":T=y;break;case"multiple":E=y;default:y!==N&&Je(n,s,m,y,u,N)}s=T,a=E,u=G,q!=null?xi(n,!!a,q,!1):!!u!=!!a&&(s!=null?xi(n,!!a,s,!0):xi(n,!!a,a?[]:"",!1));return;case"textarea":G=q=null;for(T in a)if(m=a[T],a.hasOwnProperty(T)&&m!=null&&!u.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Je(n,s,T,null,u,m)}for(E in u)if(m=u[E],y=a[E],u.hasOwnProperty(E)&&(m!=null||y!=null))switch(E){case"value":q=m;break;case"defaultValue":G=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(o(91));break;default:m!==y&&Je(n,s,E,m,u,y)}_a(n,q,G);return;case"option":for(var re in a)if(q=a[re],a.hasOwnProperty(re)&&q!=null&&!u.hasOwnProperty(re))switch(re){case"selected":n.selected=!1;break;default:Je(n,s,re,null,u,q)}for(N in u)if(q=u[N],G=a[N],u.hasOwnProperty(N)&&q!==G&&(q!=null||G!=null))switch(N){case"selected":n.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Je(n,s,N,q,u,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var he in a)q=a[he],a.hasOwnProperty(he)&&q!=null&&!u.hasOwnProperty(he)&&Je(n,s,he,null,u,q);for(L in u)if(q=u[L],G=a[L],u.hasOwnProperty(L)&&q!==G&&(q!=null||G!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(o(137,s));break;default:Je(n,s,L,q,u,G)}return;default:if(X(s)){for(var Ke in a)q=a[Ke],a.hasOwnProperty(Ke)&&q!==void 0&&!u.hasOwnProperty(Ke)&&od(n,s,Ke,void 0,u,q);for(F in u)q=u[F],G=a[F],!u.hasOwnProperty(F)||q===G||q===void 0&&G===void 0||od(n,s,F,q,u,G);return}}for(var D in a)q=a[D],a.hasOwnProperty(D)&&q!=null&&!u.hasOwnProperty(D)&&Je(n,s,D,null,u,q);for(j in u)q=u[j],G=a[j],!u.hasOwnProperty(j)||q===G||q==null&&G==null||Je(n,s,j,q,u,G)}function Om(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function US(){if(typeof performance.getEntriesByType=="function"){for(var n=0,s=0,a=performance.getEntriesByType("resource"),u=0;u<a.length;u++){var m=a[u],y=m.transferSize,E=m.initiatorType,T=m.duration;if(y&&T&&Om(E)){for(E=0,T=m.responseEnd,u+=1;u<a.length;u++){var N=a[u],L=N.startTime;if(L>T)break;var F=N.transferSize,j=N.initiatorType;F&&Om(j)&&(N=N.responseEnd,E+=F*(N<T?1:(T-L)/(N-L)))}if(--u,s+=8*(y+E)/(m.duration/1e3),n++,10<n)break}}if(0<n)return s/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var rd=null,ad=null;function ml(n){return n.nodeType===9?n:n.ownerDocument}function Pm(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Lm(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function ld(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var ud=null;function OS(){var n=window.event;return n&&n.type==="popstate"?n===ud?!1:(ud=n,!0):(ud=null,!1)}var qm=typeof setTimeout=="function"?setTimeout:void 0,PS=typeof clearTimeout=="function"?clearTimeout:void 0,Bm=typeof Promise=="function"?Promise:void 0,LS=typeof queueMicrotask=="function"?queueMicrotask:typeof Bm<"u"?function(n){return Bm.resolve(null).then(n).catch(qS)}:qm;function qS(n){setTimeout(function(){throw n})}function Vi(n){return n==="head"}function Gm(n,s){var a=s,u=0;do{var m=a.nextSibling;if(n.removeChild(a),m&&m.nodeType===8)if(a=m.data,a==="/$"||a==="/&"){if(u===0){n.removeChild(m),uo(s);return}u--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")u++;else if(a==="html")Dr(n.ownerDocument.documentElement);else if(a==="head"){a=n.ownerDocument.head,Dr(a);for(var y=a.firstChild;y;){var E=y.nextSibling,T=y.nodeName;y[an]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&y.rel.toLowerCase()==="stylesheet"||a.removeChild(y),y=E}}else a==="body"&&Dr(n.ownerDocument.body);a=m}while(a);uo(s)}function zm(n,s){var a=n;n=0;do{var u=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),u&&u.nodeType===8)if(a=u.data,a==="/$"){if(n===0)break;n--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||n++;a=u}while(a)}function cd(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":cd(a),Jo(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function BS(n,s,a,u){for(;n.nodeType===1;){var m=a;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[an])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(y=n.getAttribute("rel"),y==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(y!==m.rel||n.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||n.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||n.getAttribute("title")!==(m.title==null?null:m.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(y=n.getAttribute("src"),(y!==(m.src==null?null:m.src)||n.getAttribute("type")!==(m.type==null?null:m.type)||n.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&n.getAttribute("name")===y)return n}else return n;if(n=pn(n.nextSibling),n===null)break}return null}function GS(n,s,a){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=pn(n.nextSibling),n===null))return null;return n}function Hm(n,s){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=pn(n.nextSibling),n===null))return null;return n}function dd(n){return n.data==="$?"||n.data==="$~"}function fd(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function zS(n,s){var a=n.ownerDocument;if(n.data==="$~")n._reactRetry=s;else if(n.data!=="$?"||a.readyState!=="loading")s();else{var u=function(){s(),a.removeEventListener("DOMContentLoaded",u)};a.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function pn(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return n}var hd=null;function Vm(n){n=n.nextSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"||a==="/&"){if(s===0)return pn(n.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}n=n.nextSibling}return null}function Fm(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return n;s--}else a!=="/$"&&a!=="/&"||s++}n=n.previousSibling}return null}function $m(n,s,a){switch(s=ml(a),n){case"html":if(n=s.documentElement,!n)throw Error(o(452));return n;case"head":if(n=s.head,!n)throw Error(o(453));return n;case"body":if(n=s.body,!n)throw Error(o(454));return n;default:throw Error(o(451))}}function Dr(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);Jo(n)}var mn=new Map,jm=new Set;function gl(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var si=Q.d;Q.d={f:HS,r:VS,D:FS,C:$S,L:jS,m:JS,X:YS,S:KS,M:XS};function HS(){var n=si.f(),s=al();return n||s}function VS(n){var s=Yt(n);s!==null&&s.tag===5&&s.type==="form"?up(s):si.r(n)}var ro=typeof document>"u"?null:document;function Jm(n,s,a){var u=ro;if(u&&typeof s=="string"&&s){var m=zt(s);m='link[rel="'+n+'"][href="'+m+'"]',typeof a=="string"&&(m+='[crossorigin="'+a+'"]'),jm.has(m)||(jm.add(m),n={rel:n,crossOrigin:a,href:s},u.querySelector(m)===null&&(s=u.createElement("link"),At(s,"link",n),ot(s),u.head.appendChild(s)))}}function FS(n){si.D(n),Jm("dns-prefetch",n,null)}function $S(n,s){si.C(n,s),Jm("preconnect",n,s)}function jS(n,s,a){si.L(n,s,a);var u=ro;if(u&&n&&s){var m='link[rel="preload"][as="'+zt(s)+'"]';s==="image"&&a&&a.imageSrcSet?(m+='[imagesrcset="'+zt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(m+='[imagesizes="'+zt(a.imageSizes)+'"]')):m+='[href="'+zt(n)+'"]';var y=m;switch(s){case"style":y=ao(n);break;case"script":y=lo(n)}mn.has(y)||(n=S({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:n,as:s},a),mn.set(y,n),u.querySelector(m)!==null||s==="style"&&u.querySelector(kr(y))||s==="script"&&u.querySelector(Ur(y))||(s=u.createElement("link"),At(s,"link",n),ot(s),u.head.appendChild(s)))}}function JS(n,s){si.m(n,s);var a=ro;if(a&&n){var u=s&&typeof s.as=="string"?s.as:"script",m='link[rel="modulepreload"][as="'+zt(u)+'"][href="'+zt(n)+'"]',y=m;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=lo(n)}if(!mn.has(y)&&(n=S({rel:"modulepreload",href:n},s),mn.set(y,n),a.querySelector(m)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ur(y)))return}u=a.createElement("link"),At(u,"link",n),ot(u),a.head.appendChild(u)}}}function KS(n,s,a){si.S(n,s,a);var u=ro;if(u&&n){var m=Hn(u).hoistableStyles,y=ao(n);s=s||"default";var E=m.get(y);if(!E){var T={loading:0,preload:null};if(E=u.querySelector(kr(y)))T.loading=5;else{n=S({rel:"stylesheet",href:n,"data-precedence":s},a),(a=mn.get(y))&&pd(n,a);var N=E=u.createElement("link");ot(N),At(N,"link",n),N._p=new Promise(function(L,F){N.onload=L,N.onerror=F}),N.addEventListener("load",function(){T.loading|=1}),N.addEventListener("error",function(){T.loading|=2}),T.loading|=4,yl(E,s,u)}E={type:"stylesheet",instance:E,count:1,state:T},m.set(y,E)}}}function YS(n,s){si.X(n,s);var a=ro;if(a&&n){var u=Hn(a).hoistableScripts,m=lo(n),y=u.get(m);y||(y=a.querySelector(Ur(m)),y||(n=S({src:n,async:!0},s),(s=mn.get(m))&&md(n,s),y=a.createElement("script"),ot(y),At(y,"link",n),a.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(m,y))}}function XS(n,s){si.M(n,s);var a=ro;if(a&&n){var u=Hn(a).hoistableScripts,m=lo(n),y=u.get(m);y||(y=a.querySelector(Ur(m)),y||(n=S({src:n,async:!0,type:"module"},s),(s=mn.get(m))&&md(n,s),y=a.createElement("script"),ot(y),At(y,"link",n),a.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(m,y))}}function Km(n,s,a,u){var m=(m=we.current)?gl(m):null;if(!m)throw Error(o(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=ao(a.href),a=Hn(m).hoistableStyles,u=a.get(s),u||(u={type:"style",instance:null,count:0,state:null},a.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=ao(a.href);var y=Hn(m).hoistableStyles,E=y.get(n);if(E||(m=m.ownerDocument||m,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(n,E),(y=m.querySelector(kr(n)))&&!y._p&&(E.instance=y,E.state.loading=5),mn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},mn.set(n,a),y||QS(m,n,a,E.state))),s&&u===null)throw Error(o(528,""));return E}if(s&&u!==null)throw Error(o(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=lo(a),a=Hn(m).hoistableScripts,u=a.get(s),u||(u={type:"script",instance:null,count:0,state:null},a.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,n))}}function ao(n){return'href="'+zt(n)+'"'}function kr(n){return'link[rel="stylesheet"]['+n+"]"}function Ym(n){return S({},n,{"data-precedence":n.precedence,precedence:null})}function QS(n,s,a,u){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=n.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),At(s,"link",a),ot(s),n.head.appendChild(s))}function lo(n){return'[src="'+zt(n)+'"]'}function Ur(n){return"script[async]"+n}function Xm(n,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var u=n.querySelector('style[data-href~="'+zt(a.href)+'"]');if(u)return s.instance=u,ot(u),u;var m=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),ot(u),At(u,"style",m),yl(u,a.precedence,n),s.instance=u;case"stylesheet":m=ao(a.href);var y=n.querySelector(kr(m));if(y)return s.state.loading|=4,s.instance=y,ot(y),y;u=Ym(a),(m=mn.get(m))&&pd(u,m),y=(n.ownerDocument||n).createElement("link"),ot(y);var E=y;return E._p=new Promise(function(T,N){E.onload=T,E.onerror=N}),At(y,"link",u),s.state.loading|=4,yl(y,a.precedence,n),s.instance=y;case"script":return y=lo(a.src),(m=n.querySelector(Ur(y)))?(s.instance=m,ot(m),m):(u=a,(m=mn.get(y))&&(u=S({},a),md(u,m)),n=n.ownerDocument||n,m=n.createElement("script"),ot(m),At(m,"link",u),n.head.appendChild(m),s.instance=m);case"void":return null;default:throw Error(o(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,yl(u,a.precedence,n));return s.instance}function yl(n,s,a){for(var u=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=u.length?u[u.length-1]:null,y=m,E=0;E<u.length;E++){var T=u[E];if(T.dataset.precedence===s)y=T;else if(y!==m)break}y?y.parentNode.insertBefore(n,y.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(n,s.firstChild))}function pd(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function md(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var vl=null;function Qm(n,s,a){if(vl===null){var u=new Map,m=vl=new Map;m.set(a,u)}else m=vl,u=m.get(a),u||(u=new Map,m.set(a,u));if(u.has(n))return u;for(u.set(n,null),a=a.getElementsByTagName(n),m=0;m<a.length;m++){var y=a[m];if(!(y[an]||y[nt]||n==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var E=y.getAttribute(s)||"";E=n+E;var T=u.get(E);T?T.push(y):u.set(E,[y])}}return u}function Wm(n,s,a){n=n.ownerDocument||n,n.head.insertBefore(a,s==="title"?n.querySelector("head > title"):null)}function WS(n,s,a){if(a===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Zm(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function ZS(n,s,a,u){if(a.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var m=ao(u.href),y=s.querySelector(kr(m));if(y){s=y._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(n.count++,n=_l.bind(n),s.then(n,n)),a.state.loading|=4,a.instance=y,ot(y);return}y=s.ownerDocument||s,u=Ym(u),(m=mn.get(m))&&pd(u,m),y=y.createElement("link"),ot(y);var E=y;E._p=new Promise(function(T,N){E.onload=T,E.onerror=N}),At(y,"link",u),a.instance=y}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(n.count++,a=_l.bind(n),s.addEventListener("load",a),s.addEventListener("error",a))}}var gd=0;function eb(n,s){return n.stylesheets&&n.count===0&&bl(n,n.stylesheets),0<n.count||0<n.imgCount?function(a){var u=setTimeout(function(){if(n.stylesheets&&bl(n,n.stylesheets),n.unsuspend){var y=n.unsuspend;n.unsuspend=null,y()}},6e4+s);0<n.imgBytes&&gd===0&&(gd=62500*US());var m=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&bl(n,n.stylesheets),n.unsuspend)){var y=n.unsuspend;n.unsuspend=null,y()}},(n.imgBytes>gd?50:800)+s);return n.unsuspend=a,function(){n.unsuspend=null,clearTimeout(u),clearTimeout(m)}}:null}function _l(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)bl(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Sl=null;function bl(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Sl=new Map,s.forEach(tb,n),Sl=null,_l.call(n))}function tb(n,s){if(!(s.state.loading&4)){var a=Sl.get(n);if(a)var u=a.get(null);else{a=new Map,Sl.set(n,a);for(var m=n.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var E=m[y];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),u=E)}u&&a.set(null,u)}m=s.instance,E=m.getAttribute("data-precedence"),y=a.get(E)||u,y===u&&a.set(null,m),a.set(E,m),this.count++,u=_l.bind(this),m.addEventListener("load",u),m.addEventListener("error",u),y?y.parentNode.insertBefore(m,y.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(m,n.firstChild)),s.state.loading|=4}}var Or={$$typeof:U,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function nb(n,s,a,u,m,y,E,T,N){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ms(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ms(0),this.hiddenUpdates=Ms(null),this.identifierPrefix=u,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function eg(n,s,a,u,m,y,E,T,N,L,F,j){return n=new nb(n,s,a,E,N,L,F,j,T),s=1,y===!0&&(s|=24),y=Qt(3,null,null,s),n.current=y,y.stateNode=n,s=Yu(),s.refCount++,n.pooledCache=s,s.refCount++,y.memoizedState={element:u,isDehydrated:a,cache:s},Zu(y),n}function tg(n){return n?(n=Bs,n):Bs}function ng(n,s,a,u,m,y){m=tg(m),u.context===null?u.context=m:u.pendingContext=m,u=Di(s),u.payload={element:a},y=y===void 0?null:y,y!==null&&(u.callback=y),a=ki(n,u,s),a!==null&&(Kt(a,n,s),hr(a,n,s))}function ig(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<s?a:s}}function yd(n,s){ig(n,s),(n=n.alternate)&&ig(n,s)}function sg(n){if(n.tag===13||n.tag===31){var s=rs(n,67108864);s!==null&&Kt(s,n,67108864),yd(n,67108864)}}function og(n){if(n.tag===13||n.tag===31){var s=nn();s=Rt(s);var a=rs(n,s);a!==null&&Kt(a,n,s),yd(n,s)}}var El=!0;function ib(n,s,a,u){var m=V.T;V.T=null;var y=Q.p;try{Q.p=2,vd(n,s,a,u)}finally{Q.p=y,V.T=m}}function sb(n,s,a,u){var m=V.T;V.T=null;var y=Q.p;try{Q.p=8,vd(n,s,a,u)}finally{Q.p=y,V.T=m}}function vd(n,s,a,u){if(El){var m=_d(u);if(m===null)sd(n,s,u,Tl,a),ag(n,u);else if(rb(m,n,s,a,u))u.stopPropagation();else if(ag(n,u),s&4&&-1<ob.indexOf(n)){for(;m!==null;){var y=Yt(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var E=Un(y.pendingLanes);if(E!==0){var T=y;for(T.pendingLanes|=2,T.entangledLanes|=2;E;){var N=1<<31-Bt(E);T.entanglements[1]|=N,E&=~N}Bn(y),(Be&6)===0&&(ol=Ut()+500,Rr(0))}}break;case 31:case 13:T=rs(y,2),T!==null&&Kt(T,y,2),al(),yd(y,2)}if(y=_d(u),y===null&&sd(n,s,u,Tl,a),y===m)break;m=y}m!==null&&u.stopPropagation()}else sd(n,s,u,null,a)}}function _d(n){return n=Ae(n),Sd(n)}var Tl=null;function Sd(n){if(Tl=null,n=bi(n),n!==null){var s=l(n);if(s===null)n=null;else{var a=s.tag;if(a===13){if(n=c(s),n!==null)return n;n=null}else if(a===31){if(n=h(s),n!==null)return n;n=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return Tl=n,null}function rg(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(zo()){case Mn:return 2;case es:return 8;case Ot:case aa:return 32;case mi:return 268435456;default:return 32}default:return 32}}var bd=!1,Fi=null,$i=null,ji=null,Pr=new Map,Lr=new Map,Ji=[],ob="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ag(n,s){switch(n){case"focusin":case"focusout":Fi=null;break;case"dragenter":case"dragleave":$i=null;break;case"mouseover":case"mouseout":ji=null;break;case"pointerover":case"pointerout":Pr.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lr.delete(s.pointerId)}}function qr(n,s,a,u,m,y){return n===null||n.nativeEvent!==y?(n={blockedOn:s,domEventName:a,eventSystemFlags:u,nativeEvent:y,targetContainers:[m]},s!==null&&(s=Yt(s),s!==null&&sg(s)),n):(n.eventSystemFlags|=u,s=n.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),n)}function rb(n,s,a,u,m){switch(s){case"focusin":return Fi=qr(Fi,n,s,a,u,m),!0;case"dragenter":return $i=qr($i,n,s,a,u,m),!0;case"mouseover":return ji=qr(ji,n,s,a,u,m),!0;case"pointerover":var y=m.pointerId;return Pr.set(y,qr(Pr.get(y)||null,n,s,a,u,m)),!0;case"gotpointercapture":return y=m.pointerId,Lr.set(y,qr(Lr.get(y)||null,n,s,a,u,m)),!0}return!1}function lg(n){var s=bi(n.target);if(s!==null){var a=l(s);if(a!==null){if(s=a.tag,s===13){if(s=c(a),s!==null){n.blockedOn=s,_i(n.priority,function(){og(a)});return}}else if(s===31){if(s=h(a),s!==null){n.blockedOn=s,_i(n.priority,function(){og(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function xl(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var a=_d(n.nativeEvent);if(a===null){a=n.nativeEvent;var u=new a.constructor(a.type,a);ee=u,a.target.dispatchEvent(u),ee=null}else return s=Yt(a),s!==null&&sg(s),n.blockedOn=a,!1;s.shift()}return!0}function ug(n,s,a){xl(n)&&a.delete(s)}function ab(){bd=!1,Fi!==null&&xl(Fi)&&(Fi=null),$i!==null&&xl($i)&&($i=null),ji!==null&&xl(ji)&&(ji=null),Pr.forEach(ug),Lr.forEach(ug)}function wl(n,s){n.blockedOn===s&&(n.blockedOn=null,bd||(bd=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,ab)))}var Al=null;function cg(n){Al!==n&&(Al=n,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Al===n&&(Al=null);for(var s=0;s<n.length;s+=3){var a=n[s],u=n[s+1],m=n[s+2];if(typeof u!="function"){if(Sd(u||a)===null)continue;break}var y=Yt(a);y!==null&&(n.splice(s,3),s-=3,_c(y,{pending:!0,data:m,method:a.method,action:u},u,m))}}))}function uo(n){function s(N){return wl(N,n)}Fi!==null&&wl(Fi,n),$i!==null&&wl($i,n),ji!==null&&wl(ji,n),Pr.forEach(s),Lr.forEach(s);for(var a=0;a<Ji.length;a++){var u=Ji[a];u.blockedOn===n&&(u.blockedOn=null)}for(;0<Ji.length&&(a=Ji[0],a.blockedOn===null);)lg(a),a.blockedOn===null&&Ji.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(u=0;u<a.length;u+=3){var m=a[u],y=a[u+1],E=m[It]||null;if(typeof y=="function")E||cg(a);else if(E){var T=null;if(y&&y.hasAttribute("formAction")){if(m=y,E=y[It]||null)T=E.formAction;else if(Sd(m)!==null)continue}else T=E.action;typeof T=="function"?a[u+1]=T:(a.splice(u,3),u-=3),cg(a)}}}function dg(){function n(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(E){return m=E})},focusReset:"manual",scroll:"manual"})}function s(){m!==null&&(m(),m=null),u||setTimeout(a,20)}function a(){if(!u&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,m=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){u=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),m!==null&&(m(),m=null)}}}function Ed(n){this._internalRoot=n}Cl.prototype.render=Ed.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(o(409));var a=s.current,u=nn();ng(a,u,n,s,null,null)},Cl.prototype.unmount=Ed.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;ng(n.current,2,null,n,null,null),al(),s[Si]=null}};function Cl(n){this._internalRoot=n}Cl.prototype.unstable_scheduleHydration=function(n){if(n){var s=da();n={blockedOn:null,target:n,priority:s};for(var a=0;a<Ji.length&&s!==0&&s<Ji[a].priority;a++);Ji.splice(a,0,n),a===0&&lg(n)}};var fg=e.version;if(fg!=="19.2.4")throw Error(o(527,fg,"19.2.4"));Q.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(o(188)):(n=Object.keys(n).join(","),Error(o(268,n)));return n=p(s),n=n!==null?v(n):null,n=n===null?null:n.stateNode,n};var lb={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:V,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nl.isDisabled&&Nl.supportsFiber)try{gi=Nl.inject(lb),bt=Nl}catch{}}return Gr.createRoot=function(n,s){if(!r(n))throw Error(o(299));var a=!1,u="",m=_p,y=Sp,E=bp;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError)),s=eg(n,1,!1,null,null,a,u,null,m,y,E,dg),n[Si]=s.current,id(n),new Ed(s)},Gr.hydrateRoot=function(n,s,a){if(!r(n))throw Error(o(299));var u=!1,m="",y=_p,E=Sp,T=bp,N=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onUncaughtError!==void 0&&(y=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),s=eg(n,1,!0,s,a??null,u,m,N,y,E,T,dg),s.context=tg(null),a=s.current,u=nn(),u=Rt(u),m=Di(u),m.callback=null,ki(a,m,u),a=u,s.current.lanes=a,yi(s,a),Bn(s),n[Si]=s.current,id(n),new Cl(s)},Gr.version="19.2.4",Gr}var Eg;function _b(){if(Eg)return wd.exports;Eg=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),wd.exports=vb(),wd.exports}var Sb=_b();const bb=Sf(Sb);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $y=(...t)=>t.filter((e,i,o)=>!!e&&e.trim()!==""&&o.indexOf(e)===i).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eb=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tb=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,o)=>o?o.toUpperCase():i.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tg=t=>{const e=Tb(t);return e.charAt(0).toUpperCase()+e.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var xb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wb=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ab=oe.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:r="",children:l,iconNode:c,...h},g)=>oe.createElement("svg",{ref:g,...xb,width:e,height:e,stroke:t,strokeWidth:o?Number(i)*24/Number(e):i,className:$y("lucide",r),...!l&&!wb(h)&&{"aria-hidden":"true"},...h},[...c.map(([p,v])=>oe.createElement(p,v)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=(t,e)=>{const i=oe.forwardRef(({className:o,...r},l)=>oe.createElement(Ab,{ref:l,iconNode:e,className:$y(`lucide-${Eb(Tg(t))}`,`lucide-${t}`,o),...r}));return i.displayName=Tg(t),i};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cb=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],xg=ce("activity",Cb);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nb=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 18V6",key:"zqpxq5"}]],Rd=ce("badge-dollar-sign",Nb);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rb=[["path",{d:"M4.5 3h15",key:"c7n0jr"}],["path",{d:"M6 3v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V3",key:"m1uhx7"}],["path",{d:"M6 14h12",key:"4cwo0f"}]],Id=ce("beaker",Rb);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ib=[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]],Mb=ce("bolt",Ib);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Db=[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]],wg=ce("boxes",Db);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kb=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]],Rl=ce("brain-circuit",kb);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ub=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Ob=ce("briefcase",Ub);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pb=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],Ag=ce("calculator",Pb);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lb=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],qb=ce("chart-column",Lb);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bb=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]],Gb=ce("chart-line",Bb);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zb=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Hb=ce("chevron-down",zb);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vb=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Fb=ce("chevron-right",Vb);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $b=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],zr=ce("circle-alert",$b);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Md=ce("circle-check",jb);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jb=[["path",{d:"m10.852 19.772-.383.924",key:"r7sl7d"}],["path",{d:"m13.148 14.228.383-.923",key:"1d5zpm"}],["path",{d:"M13.148 19.772a3 3 0 1 0-2.296-5.544l-.383-.923",key:"1ydik7"}],["path",{d:"m13.53 20.696-.382-.924a3 3 0 1 1-2.296-5.544",key:"1m1vsf"}],["path",{d:"m14.772 15.852.923-.383",key:"660p6e"}],["path",{d:"m14.772 18.148.923.383",key:"hrcpis"}],["path",{d:"M4.2 15.1a7 7 0 1 1 9.93-9.858A7 7 0 0 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.2",key:"j2q98n"}],["path",{d:"m9.228 15.852-.923-.383",key:"1p9ong"}],["path",{d:"m9.228 18.148-.923.383",key:"6558rz"}]],Kb=ce("cloud-cog",Jb);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yb=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Xb=ce("database",Yb);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qb=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Il=ce("download",Qb);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wb=[["path",{d:"m12.99 6.74 1.93 3.44",key:"iwagvd"}],["path",{d:"M19.136 12a10 10 0 0 1-14.271 0",key:"ppmlo4"}],["path",{d:"m21 21-2.16-3.84",key:"vylbct"}],["path",{d:"m3 21 8.02-14.26",key:"1ssaw4"}],["circle",{cx:"12",cy:"5",r:"2",key:"f1ur92"}]],Cg=ce("drafting-compass",Wb);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zb=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],eE=ce("eye",Zb);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tE=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"M3 19a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8.5a.5.5 0 0 0-.769-.422l-4.462 2.844A.5.5 0 0 1 15 10.5v-2a.5.5 0 0 0-.769-.422L9.77 10.922A.5.5 0 0 1 9 10.5V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2z",key:"1iv0i2"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Ng=ce("factory",tE);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nE=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],iE=ce("file-down",nE);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sE=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],oE=ce("folder-open",sE);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Ml=ce("globe",rE);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aE=[["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"19",cy:"5",r:"1",key:"w8mnmm"}],["circle",{cx:"5",cy:"5",r:"1",key:"lttvr7"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}],["circle",{cx:"19",cy:"19",r:"1",key:"shf9b7"}],["circle",{cx:"5",cy:"19",r:"1",key:"bfqh0e"}]],lE=ce("grip",aE);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uE=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Rg=ce("history",uE);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cE=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Ig=ce("image",cE);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dE=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],fE=ce("key",dE);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hE=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Dd=ce("layout-dashboard",hE);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pE=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],mE=ce("link",pE);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gE=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Dl=ce("loader-circle",gE);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yE=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],vE=ce("menu",yE);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _E=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Mg=ce("message-square",_E);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SE=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M16.95 16.95A7 7 0 0 1 5 12v-2",key:"cqa7eg"}],["path",{d:"M18.89 13.23A7 7 0 0 0 19 12v-2",key:"16hl24"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}]],bE=ce("mic-off",SE);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EE=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],TE=ce("mic",EE);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xE=[["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}],["circle",{cx:"18.5",cy:"15.5",r:"2.5",key:"b5zd12"}],["path",{d:"M20.27 17.27 22 19",key:"1l4muz"}]],kd=ce("package-search",xE);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wE=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],AE=ce("package",wE);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CE=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],NE=ce("paperclip",CE);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RE=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Hr=ce("pen",RE);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IE=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Vr=ce("plus",IE);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ME=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],DE=ce("save",ME);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kE=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],UE=ce("search",kE);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OE=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Dg=ce("send",OE);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PE=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],kg=ce("settings",PE);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LE=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],qE=ce("shield-check",LE);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BE=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],GE=ce("square-check-big",BE);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zE=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],HE=ce("square",zE);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VE=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],FE=ce("star",VE);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $E=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],co=ce("trash-2",$E);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jE=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],kl=ce("triangle-alert",jE);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JE=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Ud=ce("truck",JE);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KE=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Fr=ce("upload",KE);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YE=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Ul=ce("users",YE);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XE=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Od=ce("wallet",XE);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QE=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],WE=ce("wand-sparkles",QE);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZE=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],$r=ce("x",ZE);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Ug=ce("zap",eT),tT=Object.prototype.toString,nT=t=>tT.call(t)==="[object Error]",iT=new Set(["network error","Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed","fetch failed","terminated"," A network error occurred.","Network connection lost"]);function sT(t){if(!(t&&nT(t)&&t.name==="TypeError"&&typeof t.message=="string"))return!1;const{message:i,stack:o}=t;return i==="Load failed"?o===void 0||"__sentry_captured__"in t:i.startsWith("error sending request for url")?!0:iT.has(i)}function oT(t){if(typeof t=="number"){if(t<0)throw new TypeError("Expected `retries` to be a non-negative number.");if(Number.isNaN(t))throw new TypeError("Expected `retries` to be a valid number or Infinity, got NaN.")}else if(t!==void 0)throw new TypeError("Expected `retries` to be a number or Infinity.")}function Ol(t,e,{min:i=0,allowInfinity:o=!1}={}){if(e!==void 0){if(typeof e!="number"||Number.isNaN(e))throw new TypeError(`Expected \`${t}\` to be a number${o?" or Infinity":""}.`);if(!o&&!Number.isFinite(e))throw new TypeError(`Expected \`${t}\` to be a finite number.`);if(e<i)throw new TypeError(`Expected \`${t}\` to be  ${i}.`)}}class jy extends Error{constructor(e){super(),e instanceof Error?(this.originalError=e,{message:e}=e):(this.originalError=new Error(e),this.originalError.stack=this.stack),this.name="AbortError",this.message=e}}function rT(t,e){const i=Math.max(1,t+1),o=e.randomize?Math.random()+1:1;let r=Math.round(o*e.minTimeout*e.factor**(i-1));return r=Math.min(r,e.maxTimeout),r}function Og(t,e){return Number.isFinite(e)?e-(performance.now()-t):e}async function aT({error:t,attemptNumber:e,retriesConsumed:i,startTime:o,options:r}){var x,A,C,R;const l=t instanceof Error?t:new TypeError(`Non-error was thrown: "${t}". You should only throw errors.`);if(l instanceof jy)throw l.originalError;const c=Number.isFinite(r.retries)?Math.max(0,r.retries-i):r.retries,h=r.maxRetryTime??Number.POSITIVE_INFINITY,g=Object.freeze({error:l,attemptNumber:e,retriesLeft:c,retriesConsumed:i});if(await r.onFailedAttempt(g),Og(o,h)<=0)throw l;const p=await r.shouldConsumeRetry(g),v=Og(o,h);if(v<=0||c<=0)throw l;if(l instanceof TypeError&&!sT(l)){if(p)throw l;return(x=r.signal)==null||x.throwIfAborted(),!1}if(!await r.shouldRetry(g))throw l;if(!p)return(A=r.signal)==null||A.throwIfAborted(),!1;const S=rT(i,r),b=Math.min(S,v);return(C=r.signal)==null||C.throwIfAborted(),b>0&&await new Promise((k,z)=>{var Y,B;const U=()=>{var K;clearTimeout(H),(K=r.signal)==null||K.removeEventListener("abort",U),z(r.signal.reason)},H=setTimeout(()=>{var K;(K=r.signal)==null||K.removeEventListener("abort",U),k()},b);r.unref&&((Y=H.unref)==null||Y.call(H)),(B=r.signal)==null||B.addEventListener("abort",U,{once:!0})}),(R=r.signal)==null||R.throwIfAborted(),!0}async function lT(t,e={}){var l,c,h;if(e={...e},oT(e.retries),Object.hasOwn(e,"forever"))throw new Error("The `forever` option is no longer supported. For many use-cases, you can set `retries: Infinity` instead.");e.retries??(e.retries=10),e.factor??(e.factor=2),e.minTimeout??(e.minTimeout=1e3),e.maxTimeout??(e.maxTimeout=Number.POSITIVE_INFINITY),e.maxRetryTime??(e.maxRetryTime=Number.POSITIVE_INFINITY),e.randomize??(e.randomize=!1),e.onFailedAttempt??(e.onFailedAttempt=()=>{}),e.shouldRetry??(e.shouldRetry=()=>!0),e.shouldConsumeRetry??(e.shouldConsumeRetry=()=>!0),Ol("factor",e.factor,{min:0,allowInfinity:!1}),Ol("minTimeout",e.minTimeout,{min:0,allowInfinity:!1}),Ol("maxTimeout",e.maxTimeout,{min:0,allowInfinity:!0}),Ol("maxRetryTime",e.maxRetryTime,{min:0,allowInfinity:!0}),e.factor>0||(e.factor=1),(l=e.signal)==null||l.throwIfAborted();let i=0,o=0;const r=performance.now();for(;!Number.isFinite(e.retries)||o<=e.retries;){i++;try{(c=e.signal)==null||c.throwIfAborted();const g=await t(i);return(h=e.signal)==null||h.throwIfAborted(),g}catch(g){await aT({error:g,attemptNumber:i,retriesConsumed:o,startTime:r,options:e})&&o++}}throw new Error("Retry attempts exhausted without throwing an error.")}var uT={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let cT,dT;function fT(){return{geminiUrl:cT,vertexUrl:dT}}function hT(t,e,i,o){var r,l;if(!(t!=null&&t.baseUrl)){const c=fT();return e?(r=c.vertexUrl)!==null&&r!==void 0?r:i:(l=c.geminiUrl)!==null&&l!==void 0?l:o}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ai{}function ne(t,e){const i=/\{([^}]+)\}/g;return t.replace(i,(o,r)=>{if(Object.prototype.hasOwnProperty.call(e,r)){const l=e[r];return l!=null?String(l):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function f(t,e,i){for(let l=0;l<e.length-1;l++){const c=e[l];if(c.endsWith("[]")){const h=c.slice(0,-2);if(!(h in t))if(Array.isArray(i))t[h]=Array.from({length:i.length},()=>({}));else throw new Error(`Value must be a list given an array path ${c}`);if(Array.isArray(t[h])){const g=t[h];if(Array.isArray(i))for(let p=0;p<g.length;p++){const v=g[p];f(v,e.slice(l+1),i[p])}else for(const p of g)f(p,e.slice(l+1),i)}return}else if(c.endsWith("[0]")){const h=c.slice(0,-3);h in t||(t[h]=[{}]);const g=t[h];f(g[0],e.slice(l+1),i);return}(!t[c]||typeof t[c]!="object")&&(t[c]={}),t=t[c]}const o=e[e.length-1],r=t[o];if(r!==void 0){if(!i||typeof i=="object"&&Object.keys(i).length===0||i===r)return;if(typeof r=="object"&&typeof i=="object"&&r!==null&&i!==null)Object.assign(r,i);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else o==="_self"&&typeof i=="object"&&i!==null&&!Array.isArray(i)?Object.assign(t,i):t[o]=i}function d(t,e,i=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let o=0;o<e.length;o++){if(typeof t!="object"||t===null)return i;const r=e[o];if(r.endsWith("[]")){const l=r.slice(0,-2);if(l in t){const c=t[l];return Array.isArray(c)?c.map(h=>d(h,e.slice(o+1),i)):i}else return i}else t=t[r]}return t}catch(o){if(o instanceof TypeError)return i;throw o}}function pT(t,e){for(const[i,o]of Object.entries(e)){const r=i.split("."),l=o.split("."),c=new Set;let h=-1;for(let g=0;g<r.length;g++)if(r[g]==="*"){h=g;break}if(h!==-1&&l.length>h)for(let g=h;g<l.length;g++){const p=l[g];p!=="*"&&!p.endsWith("[]")&&!p.endsWith("[0]")&&c.add(p)}Jd(t,r,l,0,c)}}function Jd(t,e,i,o,r){if(o>=e.length||typeof t!="object"||t===null)return;const l=e[o];if(l.endsWith("[]")){const c=l.slice(0,-2),h=t;if(c in h&&Array.isArray(h[c]))for(const g of h[c])Jd(g,e,i,o+1,r)}else if(l==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const c=t,h=Object.keys(c).filter(p=>!p.startsWith("_")&&!r.has(p)),g={};for(const p of h)g[p]=c[p];for(const[p,v]of Object.entries(g)){const S=[];for(const b of i.slice(o))b==="*"?S.push(p):S.push(b);f(c,S,v)}for(const p of h)delete c[p]}}else{const c=t;l in c&&Jd(c[l],e,i,o+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ef(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mT(t){const e={},i=d(t,["operationName"]);i!=null&&f(e,["operationName"],i);const o=d(t,["resourceName"]);return o!=null&&f(e,["_url","resourceName"],o),e}function gT(t){const e={},i=d(t,["name"]);i!=null&&f(e,["name"],i);const o=d(t,["metadata"]);o!=null&&f(e,["metadata"],o);const r=d(t,["done"]);r!=null&&f(e,["done"],r);const l=d(t,["error"]);l!=null&&f(e,["error"],l);const c=d(t,["response","generateVideoResponse"]);return c!=null&&f(e,["response"],vT(c)),e}function yT(t){const e={},i=d(t,["name"]);i!=null&&f(e,["name"],i);const o=d(t,["metadata"]);o!=null&&f(e,["metadata"],o);const r=d(t,["done"]);r!=null&&f(e,["done"],r);const l=d(t,["error"]);l!=null&&f(e,["error"],l);const c=d(t,["response"]);return c!=null&&f(e,["response"],_T(c)),e}function vT(t){const e={},i=d(t,["generatedSamples"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>ST(c))),f(e,["generatedVideos"],l)}const o=d(t,["raiMediaFilteredCount"]);o!=null&&f(e,["raiMediaFilteredCount"],o);const r=d(t,["raiMediaFilteredReasons"]);return r!=null&&f(e,["raiMediaFilteredReasons"],r),e}function _T(t){const e={},i=d(t,["videos"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(c=>bT(c))),f(e,["generatedVideos"],l)}const o=d(t,["raiMediaFilteredCount"]);o!=null&&f(e,["raiMediaFilteredCount"],o);const r=d(t,["raiMediaFilteredReasons"]);return r!=null&&f(e,["raiMediaFilteredReasons"],r),e}function ST(t){const e={},i=d(t,["video"]);return i!=null&&f(e,["video"],CT(i)),e}function bT(t){const e={},i=d(t,["_self"]);return i!=null&&f(e,["video"],NT(i)),e}function ET(t){const e={},i=d(t,["operationName"]);return i!=null&&f(e,["_url","operationName"],i),e}function TT(t){const e={},i=d(t,["operationName"]);return i!=null&&f(e,["_url","operationName"],i),e}function xT(t){const e={},i=d(t,["name"]);i!=null&&f(e,["name"],i);const o=d(t,["metadata"]);o!=null&&f(e,["metadata"],o);const r=d(t,["done"]);r!=null&&f(e,["done"],r);const l=d(t,["error"]);l!=null&&f(e,["error"],l);const c=d(t,["response"]);return c!=null&&f(e,["response"],wT(c)),e}function wT(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const o=d(t,["parent"]);o!=null&&f(e,["parent"],o);const r=d(t,["documentName"]);return r!=null&&f(e,["documentName"],r),e}function Jy(t){const e={},i=d(t,["name"]);i!=null&&f(e,["name"],i);const o=d(t,["metadata"]);o!=null&&f(e,["metadata"],o);const r=d(t,["done"]);r!=null&&f(e,["done"],r);const l=d(t,["error"]);l!=null&&f(e,["error"],l);const c=d(t,["response"]);return c!=null&&f(e,["response"],AT(c)),e}function AT(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const o=d(t,["parent"]);o!=null&&f(e,["parent"],o);const r=d(t,["documentName"]);return r!=null&&f(e,["documentName"],r),e}function CT(t){const e={},i=d(t,["uri"]);i!=null&&f(e,["uri"],i);const o=d(t,["encodedVideo"]);o!=null&&f(e,["videoBytes"],Ef(o));const r=d(t,["encoding"]);return r!=null&&f(e,["mimeType"],r),e}function NT(t){const e={},i=d(t,["gcsUri"]);i!=null&&f(e,["uri"],i);const o=d(t,["bytesBase64Encoded"]);o!=null&&f(e,["videoBytes"],Ef(o));const r=d(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Pg;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Pg||(Pg={}));var Lg;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(Lg||(Lg={}));var qg;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(qg||(qg={}));var Qi;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Qi||(Qi={}));var Bg;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Bg||(Bg={}));var Gg;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(Gg||(Gg={}));var zg;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(zg||(zg={}));var Hg;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Hg||(Hg={}));var Vg;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(Vg||(Vg={}));var Fg;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Fg||(Fg={}));var $g;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})($g||($g={}));var jg;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(jg||(jg={}));var Jg;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Jg||(Jg={}));var Kg;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(Kg||(Kg={}));var Yg;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Yg||(Yg={}));var Xg;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(Xg||(Xg={}));var Qg;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Qg||(Qg={}));var Wg;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Wg||(Wg={}));var Zg;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Zg||(Zg={}));var e0;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(e0||(e0={}));var t0;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(t0||(t0={}));var Xl;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Xl||(Xl={}));var n0;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(n0||(n0={}));var i0;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(i0||(i0={}));var s0;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(s0||(s0={}));var Kd;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Kd||(Kd={}));var o0;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(o0||(o0={}));var r0;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(r0||(r0={}));var Yd;(function(t){t.COLLECTION="COLLECTION"})(Yd||(Yd={}));var a0;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(a0||(a0={}));var l0;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(l0||(l0={}));var u0;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(u0||(u0={}));var c0;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(c0||(c0={}));var d0;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(d0||(d0={}));var f0;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(f0||(f0={}));var h0;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(h0||(h0={}));var p0;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(p0||(p0={}));var m0;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(m0||(m0={}));var g0;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(g0||(g0={}));var y0;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(y0||(y0={}));var v0;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(v0||(v0={}));var _0;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(_0||(_0={}));var S0;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING",t.DISTILLATION="DISTILLATION"})(S0||(S0={}));var b0;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(b0||(b0={}));var E0;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(E0||(E0={}));var T0;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED",t.REGISTERED="REGISTERED"})(T0||(T0={}));var x0;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(x0||(x0={}));var w0;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(w0||(w0={}));var A0;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(A0||(A0={}));var C0;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.ACTIVITY_START="ACTIVITY_START",t.ACTIVITY_END="ACTIVITY_END"})(C0||(C0={}));var N0;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(N0||(N0={}));var R0;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(R0||(R0={}));var I0;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(I0||(I0={}));var M0;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(M0||(M0={}));var D0;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(D0||(D0={}));var k0;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(k0||(k0={}));var Ao;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Ao||(Ao={}));class Xd{constructor(e){const i={};for(const o of e.headers.entries())i[o[0]]=o[1];this.headers=i,this.responseInternal=e}json(){return this.responseInternal.json()}}class jr{get text(){var e,i,o,r,l,c,h,g;if(((r=(o=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let p="",v=!1;const S=[];for(const b of(g=(h=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)!==null&&g!==void 0?g:[]){for(const[x,A]of Object.entries(b))x!=="text"&&x!=="thought"&&x!=="thoughtSignature"&&(A!==null||A!==void 0)&&S.push(x);if(typeof b.text=="string"){if(typeof b.thought=="boolean"&&b.thought)continue;v=!0,p+=b.text}}return S.length>0&&console.warn(`there are non-text parts ${S} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?p:void 0}get data(){var e,i,o,r,l,c,h,g;if(((r=(o=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let p="";const v=[];for(const S of(g=(h=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)!==null&&g!==void 0?g:[]){for(const[b,x]of Object.entries(S))b!=="inlineData"&&(x!==null||x!==void 0)&&v.push(b);S.inlineData&&typeof S.inlineData.data=="string"&&(p+=atob(S.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),p.length>0?btoa(p):void 0}get functionCalls(){var e,i,o,r,l,c,h,g;if(((r=(o=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const p=(g=(h=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)===null||g===void 0?void 0:g.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((p==null?void 0:p.length)!==0)return p}get executableCode(){var e,i,o,r,l,c,h,g,p;if(((r=(o=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(g=(h=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)===null||g===void 0?void 0:g.filter(S=>S.executableCode).map(S=>S.executableCode).filter(S=>S!==void 0);if((v==null?void 0:v.length)!==0)return(p=v==null?void 0:v[0])===null||p===void 0?void 0:p.code}get codeExecutionResult(){var e,i,o,r,l,c,h,g,p;if(((r=(o=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(g=(h=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)===null||g===void 0?void 0:g.filter(S=>S.codeExecutionResult).map(S=>S.codeExecutionResult).filter(S=>S!==void 0);if((v==null?void 0:v.length)!==0)return(p=v==null?void 0:v[0])===null||p===void 0?void 0:p.output}}class U0{}class O0{}class RT{}class IT{}class MT{}class DT{}class P0{}class L0{}class q0{}class kT{}class Ql{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const o=new Ql;let r;const l=e;return i?r=yT(l):r=gT(l),Object.assign(o,r),o}}class B0{}class G0{}class z0{}class H0{}class UT{}class OT{}class PT{}class Tf{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const o=new Tf,l=xT(e);return Object.assign(o,l),o}}class LT{}class qT{}class BT{}class GT{}class V0{}class zT{get text(){var e,i,o;let r="",l=!1;const c=[];for(const h of(o=(i=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&o!==void 0?o:[]){for(const[g,p]of Object.entries(h))g!=="text"&&g!=="thought"&&p!==null&&c.push(g);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;l=!0,r+=h.text}}return c.length>0&&console.warn(`there are non-text parts ${c} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),l?r:void 0}get data(){var e,i,o;let r="";const l=[];for(const c of(o=(i=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&o!==void 0?o:[]){for(const[h,g]of Object.entries(c))h!=="inlineData"&&g!==null&&l.push(h);c.inlineData&&typeof c.inlineData.data=="string"&&(r+=atob(c.inlineData.data))}return l.length>0&&console.warn(`there are non-data parts ${l} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class HT{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class xf{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const o=new xf,l=Jy(e);return Object.assign(o,l),o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qe(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const i=e.split("/",2);return`publishers/${i[0]}/models/${i[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Ky(t,e){const i=qe(t,e);return i?i.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${i}`:i.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${i}`:i:""}function Yy(t){return Array.isArray(t)?t.map(e=>Wl(e)):[Wl(t)]}function Wl(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function Xy(t){const e=Wl(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Qy(t){const e=Wl(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function F0(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function Wy(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>F0(e)):[F0(t)]}function Qd(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function $0(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function j0(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function kt(t){if(t==null)throw new Error("ContentUnion is required");return Qd(t)?t:{role:"user",parts:Wy(t)}}function wf(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(i=>{const o=kt(i);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(t.isVertexAI()){const i=kt(e);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]}return Array.isArray(e)?e.map(i=>kt(i)):[kt(e)]}function gn(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if($0(t)||j0(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[kt(t)]}const e=[],i=[],o=Qd(t[0]);for(const r of t){const l=Qd(r);if(l!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(l)e.push(r);else{if($0(r)||j0(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");i.push(r)}}return o||e.push({role:"user",parts:Wy(i)}),e}function VT(t,e){t.includes("null")&&(e.nullable=!0);const i=t.filter(o=>o!=="null");if(i.length===1)e.type=Object.values(Qi).includes(i[0].toUpperCase())?i[0].toUpperCase():Qi.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const o of i)e.anyOf.push({type:Object.values(Qi).includes(o.toUpperCase())?o.toUpperCase():Qi.TYPE_UNSPECIFIED})}}function Ro(t){const e={},i=["items"],o=["anyOf"],r=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const l=t.anyOf;l!=null&&l.length==2&&(l[0].type==="null"?(e.nullable=!0,t=l[1]):l[1].type==="null"&&(e.nullable=!0,t=l[0])),t.type instanceof Array&&VT(t.type,e);for(const[c,h]of Object.entries(t))if(h!=null)if(c=="type"){if(h==="null")throw new Error("type: null can not be the only possible type for the field.");if(h instanceof Array)continue;e.type=Object.values(Qi).includes(h.toUpperCase())?h.toUpperCase():Qi.TYPE_UNSPECIFIED}else if(i.includes(c))e[c]=Ro(h);else if(o.includes(c)){const g=[];for(const p of h){if(p.type=="null"){e.nullable=!0;continue}g.push(Ro(p))}e[c]=g}else if(r.includes(c)){const g={};for(const[p,v]of Object.entries(h))g[p]=Ro(v);e[c]=g}else{if(c==="additionalProperties")continue;e[c]=h}return e}function Af(t){return Ro(t)}function Cf(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Nf(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function ko(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Ro(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Ro(e.response));return t}function Uo(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const i of t)e.push(i);return e}function FT(t,e,i,o=1){const r=!e.startsWith(`${i}/`)&&e.split("/").length===o;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${i}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:r?`projects/${t.getProject()}/locations/${t.getLocation()}/${i}/${e}`:e:r?`${i}/${e}`:e}function li(t,e){if(typeof e!="string")throw new Error("name must be a string");return FT(t,e,"cachedContents")}function Zy(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Wi(t){return Ef(t)}function $T(t){return t!=null&&typeof t=="object"&&"name"in t}function jT(t){return t!=null&&typeof t=="object"&&"video"in t}function JT(t){return t!=null&&typeof t=="object"&&"uri"in t}function ev(t){var e;let i;if($T(t)&&(i=t.name),!(JT(t)&&(i=t.uri,i===void 0))&&!(jT(t)&&(i=(e=t.video)===null||e===void 0?void 0:e.uri,i===void 0))){if(typeof t=="string"&&(i=t),i===void 0)throw new Error("Could not extract file name from the provided input.");if(i.startsWith("https://")){const r=i.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${i}`);i=r[0]}else i.startsWith("files/")&&(i=i.split("files/")[1]);return i}}function tv(t,e){let i;return t.isVertexAI()?i=e?"publishers/google/models":"models":i=e?"models":"tunedModels",i}function nv(t){for(const e of["models","tunedModels","publisherModels"])if(KT(t,e))return t[e];return[]}function KT(t,e){return t!==null&&typeof t=="object"&&e in t}function YT(t,e={}){const i=t,o={name:i.name,description:i.description,parametersJsonSchema:i.inputSchema};return i.outputSchema&&(o.responseJsonSchema=i.outputSchema),e.behavior&&(o.behavior=e.behavior),{functionDeclarations:[o]}}function XT(t,e={}){const i=[],o=new Set;for(const r of t){const l=r.name;if(o.has(l))throw new Error(`Duplicate function name ${l} found in MCP tools. Please ensure function names are unique.`);o.add(l);const c=YT(r,e);c.functionDeclarations&&i.push(...c.functionDeclarations)}return{functionDeclarations:i}}function iv(t,e){let i;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))i={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))i={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))i={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");i={inlinedRequests:e}}else i=e;const o=[i.gcsUri,i.bigqueryUri].filter(Boolean).length,r=[i.inlinedRequests,i.fileName].filter(Boolean).length;if(t.isVertexAI()){if(r>0||o!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(o>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return i}function QT(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function sv(t){if(typeof t!="object"||t===null)return{};const e=t,i=e.inlinedResponses;if(typeof i!="object"||i===null)return t;const r=i.inlinedResponses;if(!Array.isArray(r)||r.length===0)return t;let l=!1;for(const c of r){if(typeof c!="object"||c===null)continue;const g=c.response;if(typeof g!="object"||g===null)continue;if(g.embedding!==void 0){l=!0;break}}return l&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Oo(t,e){const i=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(i))return i.split("/").pop();throw new Error(`Invalid batch job name: ${i}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(i))return i.split("/").pop();if(/^\d+$/.test(i))return i;throw new Error(`Invalid batch job name: ${i}.`)}function ov(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function WT(t){const e={},i=d(t,["responsesFile"]);i!=null&&f(e,["fileName"],i);const o=d(t,["inlinedResponses","inlinedResponses"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>Dx(c))),f(e,["inlinedResponses"],l)}const r=d(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>c)),f(e,["inlinedEmbedContentResponses"],l)}return e}function ZT(t){const e={},i=d(t,["predictionsFormat"]);i!=null&&f(e,["format"],i);const o=d(t,["gcsDestination","outputUriPrefix"]);o!=null&&f(e,["gcsUri"],o);const r=d(t,["bigqueryDestination","outputUri"]);return r!=null&&f(e,["bigqueryUri"],r),e}function ex(t){const e={},i=d(t,["format"]);i!=null&&f(e,["predictionsFormat"],i);const o=d(t,["gcsUri"]);o!=null&&f(e,["gcsDestination","outputUriPrefix"],o);const r=d(t,["bigqueryUri"]);if(r!=null&&f(e,["bigqueryDestination","outputUri"],r),d(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(d(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Kl(t){const e={},i=d(t,["name"]);i!=null&&f(e,["name"],i);const o=d(t,["metadata","displayName"]);o!=null&&f(e,["displayName"],o);const r=d(t,["metadata","state"]);r!=null&&f(e,["state"],ov(r));const l=d(t,["metadata","createTime"]);l!=null&&f(e,["createTime"],l);const c=d(t,["metadata","endTime"]);c!=null&&f(e,["endTime"],c);const h=d(t,["metadata","updateTime"]);h!=null&&f(e,["updateTime"],h);const g=d(t,["metadata","model"]);g!=null&&f(e,["model"],g);const p=d(t,["metadata","output"]);return p!=null&&f(e,["dest"],WT(sv(p))),e}function Wd(t){const e={},i=d(t,["name"]);i!=null&&f(e,["name"],i);const o=d(t,["displayName"]);o!=null&&f(e,["displayName"],o);const r=d(t,["state"]);r!=null&&f(e,["state"],ov(r));const l=d(t,["error"]);l!=null&&f(e,["error"],l);const c=d(t,["createTime"]);c!=null&&f(e,["createTime"],c);const h=d(t,["startTime"]);h!=null&&f(e,["startTime"],h);const g=d(t,["endTime"]);g!=null&&f(e,["endTime"],g);const p=d(t,["updateTime"]);p!=null&&f(e,["updateTime"],p);const v=d(t,["model"]);v!=null&&f(e,["model"],v);const S=d(t,["inputConfig"]);S!=null&&f(e,["src"],tx(S));const b=d(t,["outputConfig"]);b!=null&&f(e,["dest"],ZT(sv(b)));const x=d(t,["completionStats"]);return x!=null&&f(e,["completionStats"],x),e}function tx(t){const e={},i=d(t,["instancesFormat"]);i!=null&&f(e,["format"],i);const o=d(t,["gcsSource","uris"]);o!=null&&f(e,["gcsUri"],o);const r=d(t,["bigquerySource","inputUri"]);return r!=null&&f(e,["bigqueryUri"],r),e}function nx(t,e){const i={};if(d(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(d(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const o=d(e,["fileName"]);o!=null&&f(i,["fileName"],o);const r=d(e,["inlinedRequests"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>Mx(t,c))),f(i,["requests","requests"],l)}return i}function ix(t){const e={},i=d(t,["format"]);i!=null&&f(e,["instancesFormat"],i);const o=d(t,["gcsUri"]);o!=null&&f(e,["gcsSource","uris"],o);const r=d(t,["bigqueryUri"]);if(r!=null&&f(e,["bigquerySource","inputUri"],r),d(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function sx(t){const e={},i=d(t,["data"]);if(i!=null&&f(e,["data"],i),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=d(t,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}function ox(t,e){const i={},o=d(e,["name"]);return o!=null&&f(i,["_url","name"],Oo(t,o)),i}function rx(t,e){const i={},o=d(e,["name"]);return o!=null&&f(i,["_url","name"],Oo(t,o)),i}function ax(t){const e={},i=d(t,["content"]);i!=null&&f(e,["content"],i);const o=d(t,["citationMetadata"]);o!=null&&f(e,["citationMetadata"],lx(o));const r=d(t,["tokenCount"]);r!=null&&f(e,["tokenCount"],r);const l=d(t,["finishReason"]);l!=null&&f(e,["finishReason"],l);const c=d(t,["avgLogprobs"]);c!=null&&f(e,["avgLogprobs"],c);const h=d(t,["groundingMetadata"]);h!=null&&f(e,["groundingMetadata"],h);const g=d(t,["index"]);g!=null&&f(e,["index"],g);const p=d(t,["logprobsResult"]);p!=null&&f(e,["logprobsResult"],p);const v=d(t,["safetyRatings"]);if(v!=null){let b=v;Array.isArray(b)&&(b=b.map(x=>x)),f(e,["safetyRatings"],b)}const S=d(t,["urlContextMetadata"]);return S!=null&&f(e,["urlContextMetadata"],S),e}function lx(t){const e={},i=d(t,["citationSources"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(r=>r)),f(e,["citations"],o)}return e}function rv(t){const e={},i=d(t,["parts"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>Bx(l))),f(e,["parts"],r)}const o=d(t,["role"]);return o!=null&&f(e,["role"],o),e}function ux(t,e){const i={},o=d(t,["displayName"]);if(e!==void 0&&o!=null&&f(e,["batch","displayName"],o),d(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return i}function cx(t,e){const i={},o=d(t,["displayName"]);e!==void 0&&o!=null&&f(e,["displayName"],o);const r=d(t,["dest"]);return e!==void 0&&r!=null&&f(e,["outputConfig"],ex(QT(r))),i}function J0(t,e){const i={},o=d(e,["model"]);o!=null&&f(i,["_url","model"],qe(t,o));const r=d(e,["src"]);r!=null&&f(i,["batch","inputConfig"],nx(t,iv(t,r)));const l=d(e,["config"]);return l!=null&&ux(l,i),i}function dx(t,e){const i={},o=d(e,["model"]);o!=null&&f(i,["model"],qe(t,o));const r=d(e,["src"]);r!=null&&f(i,["inputConfig"],ix(iv(t,r)));const l=d(e,["config"]);return l!=null&&cx(l,i),i}function fx(t,e){const i={},o=d(t,["displayName"]);return e!==void 0&&o!=null&&f(e,["batch","displayName"],o),i}function hx(t,e){const i={},o=d(e,["model"]);o!=null&&f(i,["_url","model"],qe(t,o));const r=d(e,["src"]);r!=null&&f(i,["batch","inputConfig"],Sx(t,r));const l=d(e,["config"]);return l!=null&&fx(l,i),i}function px(t,e){const i={},o=d(e,["name"]);return o!=null&&f(i,["_url","name"],Oo(t,o)),i}function mx(t,e){const i={},o=d(e,["name"]);return o!=null&&f(i,["_url","name"],Oo(t,o)),i}function gx(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const o=d(t,["name"]);o!=null&&f(e,["name"],o);const r=d(t,["done"]);r!=null&&f(e,["done"],r);const l=d(t,["error"]);return l!=null&&f(e,["error"],l),e}function yx(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const o=d(t,["name"]);o!=null&&f(e,["name"],o);const r=d(t,["done"]);r!=null&&f(e,["done"],r);const l=d(t,["error"]);return l!=null&&f(e,["error"],l),e}function vx(t,e){const i={},o=d(e,["contents"]);if(o!=null){let l=wf(t,o);Array.isArray(l)&&(l=l.map(c=>c)),f(i,["requests[]","request","content"],l)}const r=d(e,["config"]);return r!=null&&(f(i,["_self"],_x(r,i)),pT(i,{"requests[].*":"requests[].request.*"})),i}function _x(t,e){const i={},o=d(t,["taskType"]);e!==void 0&&o!=null&&f(e,["requests[]","taskType"],o);const r=d(t,["title"]);e!==void 0&&r!=null&&f(e,["requests[]","title"],r);const l=d(t,["outputDimensionality"]);if(e!==void 0&&l!=null&&f(e,["requests[]","outputDimensionality"],l),d(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function Sx(t,e){const i={},o=d(e,["fileName"]);o!=null&&f(i,["file_name"],o);const r=d(e,["inlinedRequests"]);return r!=null&&f(i,["requests"],vx(t,r)),i}function bx(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["fileUri"]);i!=null&&f(e,["fileUri"],i);const o=d(t,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}function Ex(t){const e={},i=d(t,["id"]);i!=null&&f(e,["id"],i);const o=d(t,["args"]);o!=null&&f(e,["args"],o);const r=d(t,["name"]);if(r!=null&&f(e,["name"],r),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Tx(t){const e={},i=d(t,["allowedFunctionNames"]);i!=null&&f(e,["allowedFunctionNames"],i);const o=d(t,["mode"]);if(o!=null&&f(e,["mode"],o),d(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function xx(t,e,i){const o={},r=d(e,["systemInstruction"]);i!==void 0&&r!=null&&f(i,["systemInstruction"],rv(kt(r)));const l=d(e,["temperature"]);l!=null&&f(o,["temperature"],l);const c=d(e,["topP"]);c!=null&&f(o,["topP"],c);const h=d(e,["topK"]);h!=null&&f(o,["topK"],h);const g=d(e,["candidateCount"]);g!=null&&f(o,["candidateCount"],g);const p=d(e,["maxOutputTokens"]);p!=null&&f(o,["maxOutputTokens"],p);const v=d(e,["stopSequences"]);v!=null&&f(o,["stopSequences"],v);const S=d(e,["responseLogprobs"]);S!=null&&f(o,["responseLogprobs"],S);const b=d(e,["logprobs"]);b!=null&&f(o,["logprobs"],b);const x=d(e,["presencePenalty"]);x!=null&&f(o,["presencePenalty"],x);const A=d(e,["frequencyPenalty"]);A!=null&&f(o,["frequencyPenalty"],A);const C=d(e,["seed"]);C!=null&&f(o,["seed"],C);const R=d(e,["responseMimeType"]);R!=null&&f(o,["responseMimeType"],R);const k=d(e,["responseSchema"]);k!=null&&f(o,["responseSchema"],Af(k));const z=d(e,["responseJsonSchema"]);if(z!=null&&f(o,["responseJsonSchema"],z),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const U=d(e,["safetySettings"]);if(i!==void 0&&U!=null){let He=U;Array.isArray(He)&&(He=He.map(Ge=>Gx(Ge))),f(i,["safetySettings"],He)}const H=d(e,["tools"]);if(i!==void 0&&H!=null){let He=Uo(H);Array.isArray(He)&&(He=He.map(Ge=>Hx(ko(Ge)))),f(i,["tools"],He)}const Y=d(e,["toolConfig"]);if(i!==void 0&&Y!=null&&f(i,["toolConfig"],zx(Y)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const B=d(e,["cachedContent"]);i!==void 0&&B!=null&&f(i,["cachedContent"],li(t,B));const K=d(e,["responseModalities"]);K!=null&&f(o,["responseModalities"],K);const fe=d(e,["mediaResolution"]);fe!=null&&f(o,["mediaResolution"],fe);const te=d(e,["speechConfig"]);if(te!=null&&f(o,["speechConfig"],Cf(te)),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const be=d(e,["thinkingConfig"]);be!=null&&f(o,["thinkingConfig"],be);const pe=d(e,["imageConfig"]);pe!=null&&f(o,["imageConfig"],Ix(pe));const ke=d(e,["enableEnhancedCivicAnswers"]);if(ke!=null&&f(o,["enableEnhancedCivicAnswers"],ke),d(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return o}function wx(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const o=d(t,["candidates"]);if(o!=null){let g=o;Array.isArray(g)&&(g=g.map(p=>ax(p))),f(e,["candidates"],g)}const r=d(t,["modelVersion"]);r!=null&&f(e,["modelVersion"],r);const l=d(t,["promptFeedback"]);l!=null&&f(e,["promptFeedback"],l);const c=d(t,["responseId"]);c!=null&&f(e,["responseId"],c);const h=d(t,["usageMetadata"]);return h!=null&&f(e,["usageMetadata"],h),e}function Ax(t,e){const i={},o=d(e,["name"]);return o!=null&&f(i,["_url","name"],Oo(t,o)),i}function Cx(t,e){const i={},o=d(e,["name"]);return o!=null&&f(i,["_url","name"],Oo(t,o)),i}function Nx(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=d(t,["enableWidget"]);return i!=null&&f(e,["enableWidget"],i),e}function Rx(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=d(t,["timeRangeFilter"]);return i!=null&&f(e,["timeRangeFilter"],i),e}function Ix(t){const e={},i=d(t,["aspectRatio"]);i!=null&&f(e,["aspectRatio"],i);const o=d(t,["imageSize"]);if(o!=null&&f(e,["imageSize"],o),d(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(d(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(d(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Mx(t,e){const i={},o=d(e,["model"]);o!=null&&f(i,["request","model"],qe(t,o));const r=d(e,["contents"]);if(r!=null){let h=gn(r);Array.isArray(h)&&(h=h.map(g=>rv(g))),f(i,["request","contents"],h)}const l=d(e,["metadata"]);l!=null&&f(i,["metadata"],l);const c=d(e,["config"]);return c!=null&&f(i,["request","generationConfig"],xx(t,c,d(i,["request"],{}))),i}function Dx(t){const e={},i=d(t,["response"]);i!=null&&f(e,["response"],wx(i));const o=d(t,["metadata"]);o!=null&&f(e,["metadata"],o);const r=d(t,["error"]);return r!=null&&f(e,["error"],r),e}function kx(t,e){const i={},o=d(t,["pageSize"]);e!==void 0&&o!=null&&f(e,["_query","pageSize"],o);const r=d(t,["pageToken"]);if(e!==void 0&&r!=null&&f(e,["_query","pageToken"],r),d(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return i}function Ux(t,e){const i={},o=d(t,["pageSize"]);e!==void 0&&o!=null&&f(e,["_query","pageSize"],o);const r=d(t,["pageToken"]);e!==void 0&&r!=null&&f(e,["_query","pageToken"],r);const l=d(t,["filter"]);return e!==void 0&&l!=null&&f(e,["_query","filter"],l),i}function Ox(t){const e={},i=d(t,["config"]);return i!=null&&kx(i,e),e}function Px(t){const e={},i=d(t,["config"]);return i!=null&&Ux(i,e),e}function Lx(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const o=d(t,["nextPageToken"]);o!=null&&f(e,["nextPageToken"],o);const r=d(t,["operations"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>Kl(c))),f(e,["batchJobs"],l)}return e}function qx(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const o=d(t,["nextPageToken"]);o!=null&&f(e,["nextPageToken"],o);const r=d(t,["batchPredictionJobs"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>Wd(c))),f(e,["batchJobs"],l)}return e}function Bx(t){const e={},i=d(t,["mediaResolution"]);i!=null&&f(e,["mediaResolution"],i);const o=d(t,["codeExecutionResult"]);o!=null&&f(e,["codeExecutionResult"],o);const r=d(t,["executableCode"]);r!=null&&f(e,["executableCode"],r);const l=d(t,["fileData"]);l!=null&&f(e,["fileData"],bx(l));const c=d(t,["functionCall"]);c!=null&&f(e,["functionCall"],Ex(c));const h=d(t,["functionResponse"]);h!=null&&f(e,["functionResponse"],h);const g=d(t,["inlineData"]);g!=null&&f(e,["inlineData"],sx(g));const p=d(t,["text"]);p!=null&&f(e,["text"],p);const v=d(t,["thought"]);v!=null&&f(e,["thought"],v);const S=d(t,["thoughtSignature"]);S!=null&&f(e,["thoughtSignature"],S);const b=d(t,["videoMetadata"]);return b!=null&&f(e,["videoMetadata"],b),e}function Gx(t){const e={},i=d(t,["category"]);if(i!=null&&f(e,["category"],i),d(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=d(t,["threshold"]);return o!=null&&f(e,["threshold"],o),e}function zx(t){const e={},i=d(t,["retrievalConfig"]);i!=null&&f(e,["retrievalConfig"],i);const o=d(t,["functionCallingConfig"]);return o!=null&&f(e,["functionCallingConfig"],Tx(o)),e}function Hx(t){const e={};if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=d(t,["computerUse"]);i!=null&&f(e,["computerUse"],i);const o=d(t,["fileSearch"]);o!=null&&f(e,["fileSearch"],o);const r=d(t,["codeExecution"]);if(r!=null&&f(e,["codeExecution"],r),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=d(t,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(S=>S)),f(e,["functionDeclarations"],v)}const c=d(t,["googleMaps"]);c!=null&&f(e,["googleMaps"],Nx(c));const h=d(t,["googleSearch"]);h!=null&&f(e,["googleSearch"],Rx(h));const g=d(t,["googleSearchRetrieval"]);g!=null&&f(e,["googleSearchRetrieval"],g);const p=d(t,["urlContext"]);return p!=null&&f(e,["urlContext"],p),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ri;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(ri||(ri={}));class As{constructor(e,i,o,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=i,this.init(e,o,r)}init(e,i,o){var r,l;this.nameInternal=e,this.pageInternal=i[this.nameInternal]||[],this.sdkHttpResponseInternal=i==null?void 0:i.sdkHttpResponse,this.idxInternal=0;let c={config:{}};!o||Object.keys(o).length===0?c={config:{}}:typeof o=="object"?c=Object.assign({},o):c=o,c.config&&(c.config.pageToken=i.nextPageToken),this.paramsInternal=c,this.pageInternalSize=(l=(r=c.config)===null||r===void 0?void 0:r.pageSize)!==null&&l!==void 0?l:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Vx extends ai{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new As(ri.PAGED_ITEM_BATCH_JOBS,o=>this.listInternal(o),await this.listInternal(i),i),this.create=async i=>(this.apiClient.isVertexAI()&&(i.config=this.formatDestination(i.src,i.config)),this.createInternal(i)),this.createEmbeddings=async i=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(i)}}createInlinedGenerateContentRequest(e){const i=J0(this.apiClient,e),o=i._url,r=ne("{model}:batchGenerateContent",o),h=i.batch.inputConfig.requests,g=h.requests,p=[];for(const v of g){const S=Object.assign({},v);if(S.systemInstruction){const b=S.systemInstruction;delete S.systemInstruction;const x=S.request;x.systemInstruction=b,S.request=x}p.push(S)}return h.requests=p,delete i.config,delete i._url,delete i._query,{path:r,body:i}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,i){const o=i?Object.assign({},i):{},r=Date.now().toString();if(o.displayName||(o.displayName=`genaiBatchJob_${r}`),o.dest===void 0){const l=this.getGcsUri(e),c=this.getBigqueryUri(e);if(l)l.endsWith(".jsonl")?o.dest=`${l.slice(0,-6)}/dest`:o.dest=`${l}_dest_${r}`;else if(c)o.dest=`${c}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return o}async createInternal(e){var i,o,r,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=dx(this.apiClient,e);return h=ne("batchPredictionJobs",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),c.then(v=>Wd(v))}else{const p=J0(this.apiClient,e);return h=ne("{model}:batchGenerateContent",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),c.then(v=>Kl(v))}}async createEmbeddingsInternal(e){var i,o;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=hx(this.apiClient,e);return l=ne("{model}:asyncBatchEmbedContent",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),r.then(g=>Kl(g))}}async get(e){var i,o,r,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=Cx(this.apiClient,e);return h=ne("batchPredictionJobs/{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),c.then(v=>Wd(v))}else{const p=Ax(this.apiClient,e);return h=ne("batches/{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),c.then(v=>Kl(v))}}async cancel(e){var i,o,r,l;let c="",h={};if(this.apiClient.isVertexAI()){const g=rx(this.apiClient,e);c=ne("batchPredictionJobs/{name}:cancel",g._url),h=g._query,delete g._url,delete g._query,await this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}else{const g=ox(this.apiClient,e);c=ne("batches/{name}:cancel",g._url),h=g._query,delete g._url,delete g._query,await this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}}async listInternal(e){var i,o,r,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=Px(e);return h=ne("batchPredictionJobs",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(S=>{const b=S;return b.sdkHttpResponse={headers:v.headers},b})),c.then(v=>{const S=qx(v),b=new V0;return Object.assign(b,S),b})}else{const p=Ox(e);return h=ne("batches",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const b=S;return b.sdkHttpResponse={headers:v.headers},b})),c.then(v=>{const S=Lx(v),b=new V0;return Object.assign(b,S),b})}}async delete(e){var i,o,r,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=mx(this.apiClient,e);return h=ne("batchPredictionJobs/{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(S=>{const b=S;return b.sdkHttpResponse={headers:v.headers},b})),c.then(v=>yx(v))}else{const p=px(this.apiClient,e);return h=ne("batches/{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const b=S;return b.sdkHttpResponse={headers:v.headers},b})),c.then(v=>gx(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Fx(t){const e={},i=d(t,["data"]);if(i!=null&&f(e,["data"],i),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=d(t,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}function K0(t){const e={},i=d(t,["parts"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>hw(l))),f(e,["parts"],r)}const o=d(t,["role"]);return o!=null&&f(e,["role"],o),e}function $x(t,e){const i={},o=d(t,["ttl"]);e!==void 0&&o!=null&&f(e,["ttl"],o);const r=d(t,["expireTime"]);e!==void 0&&r!=null&&f(e,["expireTime"],r);const l=d(t,["displayName"]);e!==void 0&&l!=null&&f(e,["displayName"],l);const c=d(t,["contents"]);if(e!==void 0&&c!=null){let v=gn(c);Array.isArray(v)&&(v=v.map(S=>K0(S))),f(e,["contents"],v)}const h=d(t,["systemInstruction"]);e!==void 0&&h!=null&&f(e,["systemInstruction"],K0(kt(h)));const g=d(t,["tools"]);if(e!==void 0&&g!=null){let v=g;Array.isArray(v)&&(v=v.map(S=>mw(S))),f(e,["tools"],v)}const p=d(t,["toolConfig"]);if(e!==void 0&&p!=null&&f(e,["toolConfig"],pw(p)),d(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return i}function jx(t,e){const i={},o=d(t,["ttl"]);e!==void 0&&o!=null&&f(e,["ttl"],o);const r=d(t,["expireTime"]);e!==void 0&&r!=null&&f(e,["expireTime"],r);const l=d(t,["displayName"]);e!==void 0&&l!=null&&f(e,["displayName"],l);const c=d(t,["contents"]);if(e!==void 0&&c!=null){let S=gn(c);Array.isArray(S)&&(S=S.map(b=>b)),f(e,["contents"],S)}const h=d(t,["systemInstruction"]);e!==void 0&&h!=null&&f(e,["systemInstruction"],kt(h));const g=d(t,["tools"]);if(e!==void 0&&g!=null){let S=g;Array.isArray(S)&&(S=S.map(b=>gw(b))),f(e,["tools"],S)}const p=d(t,["toolConfig"]);e!==void 0&&p!=null&&f(e,["toolConfig"],p);const v=d(t,["kmsKeyName"]);return e!==void 0&&v!=null&&f(e,["encryption_spec","kmsKeyName"],v),i}function Jx(t,e){const i={},o=d(e,["model"]);o!=null&&f(i,["model"],Ky(t,o));const r=d(e,["config"]);return r!=null&&$x(r,i),i}function Kx(t,e){const i={},o=d(e,["model"]);o!=null&&f(i,["model"],Ky(t,o));const r=d(e,["config"]);return r!=null&&jx(r,i),i}function Yx(t,e){const i={},o=d(e,["name"]);return o!=null&&f(i,["_url","name"],li(t,o)),i}function Xx(t,e){const i={},o=d(e,["name"]);return o!=null&&f(i,["_url","name"],li(t,o)),i}function Qx(t){const e={},i=d(t,["sdkHttpResponse"]);return i!=null&&f(e,["sdkHttpResponse"],i),e}function Wx(t){const e={},i=d(t,["sdkHttpResponse"]);return i!=null&&f(e,["sdkHttpResponse"],i),e}function Zx(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["fileUri"]);i!=null&&f(e,["fileUri"],i);const o=d(t,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}function ew(t){const e={},i=d(t,["id"]);i!=null&&f(e,["id"],i);const o=d(t,["args"]);o!=null&&f(e,["args"],o);const r=d(t,["name"]);if(r!=null&&f(e,["name"],r),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function tw(t){const e={},i=d(t,["allowedFunctionNames"]);i!=null&&f(e,["allowedFunctionNames"],i);const o=d(t,["mode"]);if(o!=null&&f(e,["mode"],o),d(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function nw(t){const e={},i=d(t,["description"]);i!=null&&f(e,["description"],i);const o=d(t,["name"]);o!=null&&f(e,["name"],o);const r=d(t,["parameters"]);r!=null&&f(e,["parameters"],r);const l=d(t,["parametersJsonSchema"]);l!=null&&f(e,["parametersJsonSchema"],l);const c=d(t,["response"]);c!=null&&f(e,["response"],c);const h=d(t,["responseJsonSchema"]);if(h!=null&&f(e,["responseJsonSchema"],h),d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function iw(t,e){const i={},o=d(e,["name"]);return o!=null&&f(i,["_url","name"],li(t,o)),i}function sw(t,e){const i={},o=d(e,["name"]);return o!=null&&f(i,["_url","name"],li(t,o)),i}function ow(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=d(t,["enableWidget"]);return i!=null&&f(e,["enableWidget"],i),e}function rw(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=d(t,["timeRangeFilter"]);return i!=null&&f(e,["timeRangeFilter"],i),e}function aw(t,e){const i={},o=d(t,["pageSize"]);e!==void 0&&o!=null&&f(e,["_query","pageSize"],o);const r=d(t,["pageToken"]);return e!==void 0&&r!=null&&f(e,["_query","pageToken"],r),i}function lw(t,e){const i={},o=d(t,["pageSize"]);e!==void 0&&o!=null&&f(e,["_query","pageSize"],o);const r=d(t,["pageToken"]);return e!==void 0&&r!=null&&f(e,["_query","pageToken"],r),i}function uw(t){const e={},i=d(t,["config"]);return i!=null&&aw(i,e),e}function cw(t){const e={},i=d(t,["config"]);return i!=null&&lw(i,e),e}function dw(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const o=d(t,["nextPageToken"]);o!=null&&f(e,["nextPageToken"],o);const r=d(t,["cachedContents"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>c)),f(e,["cachedContents"],l)}return e}function fw(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const o=d(t,["nextPageToken"]);o!=null&&f(e,["nextPageToken"],o);const r=d(t,["cachedContents"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>c)),f(e,["cachedContents"],l)}return e}function hw(t){const e={},i=d(t,["mediaResolution"]);i!=null&&f(e,["mediaResolution"],i);const o=d(t,["codeExecutionResult"]);o!=null&&f(e,["codeExecutionResult"],o);const r=d(t,["executableCode"]);r!=null&&f(e,["executableCode"],r);const l=d(t,["fileData"]);l!=null&&f(e,["fileData"],Zx(l));const c=d(t,["functionCall"]);c!=null&&f(e,["functionCall"],ew(c));const h=d(t,["functionResponse"]);h!=null&&f(e,["functionResponse"],h);const g=d(t,["inlineData"]);g!=null&&f(e,["inlineData"],Fx(g));const p=d(t,["text"]);p!=null&&f(e,["text"],p);const v=d(t,["thought"]);v!=null&&f(e,["thought"],v);const S=d(t,["thoughtSignature"]);S!=null&&f(e,["thoughtSignature"],S);const b=d(t,["videoMetadata"]);return b!=null&&f(e,["videoMetadata"],b),e}function pw(t){const e={},i=d(t,["retrievalConfig"]);i!=null&&f(e,["retrievalConfig"],i);const o=d(t,["functionCallingConfig"]);return o!=null&&f(e,["functionCallingConfig"],tw(o)),e}function mw(t){const e={};if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=d(t,["computerUse"]);i!=null&&f(e,["computerUse"],i);const o=d(t,["fileSearch"]);o!=null&&f(e,["fileSearch"],o);const r=d(t,["codeExecution"]);if(r!=null&&f(e,["codeExecution"],r),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=d(t,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(S=>S)),f(e,["functionDeclarations"],v)}const c=d(t,["googleMaps"]);c!=null&&f(e,["googleMaps"],ow(c));const h=d(t,["googleSearch"]);h!=null&&f(e,["googleSearch"],rw(h));const g=d(t,["googleSearchRetrieval"]);g!=null&&f(e,["googleSearchRetrieval"],g);const p=d(t,["urlContext"]);return p!=null&&f(e,["urlContext"],p),e}function gw(t){const e={},i=d(t,["retrieval"]);i!=null&&f(e,["retrieval"],i);const o=d(t,["computerUse"]);if(o!=null&&f(e,["computerUse"],o),d(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=d(t,["codeExecution"]);r!=null&&f(e,["codeExecution"],r);const l=d(t,["enterpriseWebSearch"]);l!=null&&f(e,["enterpriseWebSearch"],l);const c=d(t,["functionDeclarations"]);if(c!=null){let S=c;Array.isArray(S)&&(S=S.map(b=>nw(b))),f(e,["functionDeclarations"],S)}const h=d(t,["googleMaps"]);h!=null&&f(e,["googleMaps"],h);const g=d(t,["googleSearch"]);g!=null&&f(e,["googleSearch"],g);const p=d(t,["googleSearchRetrieval"]);p!=null&&f(e,["googleSearchRetrieval"],p);const v=d(t,["urlContext"]);return v!=null&&f(e,["urlContext"],v),e}function yw(t,e){const i={},o=d(t,["ttl"]);e!==void 0&&o!=null&&f(e,["ttl"],o);const r=d(t,["expireTime"]);return e!==void 0&&r!=null&&f(e,["expireTime"],r),i}function vw(t,e){const i={},o=d(t,["ttl"]);e!==void 0&&o!=null&&f(e,["ttl"],o);const r=d(t,["expireTime"]);return e!==void 0&&r!=null&&f(e,["expireTime"],r),i}function _w(t,e){const i={},o=d(e,["name"]);o!=null&&f(i,["_url","name"],li(t,o));const r=d(e,["config"]);return r!=null&&yw(r,i),i}function Sw(t,e){const i={},o=d(e,["name"]);o!=null&&f(i,["_url","name"],li(t,o));const r=d(e,["config"]);return r!=null&&vw(r,i),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bw extends ai{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new As(ri.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(i),i)}async create(e){var i,o,r,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=Kx(this.apiClient,e);return h=ne("cachedContents",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),c.then(v=>v)}else{const p=Jx(this.apiClient,e);return h=ne("cachedContents",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),c.then(v=>v)}}async get(e){var i,o,r,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=sw(this.apiClient,e);return h=ne("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),c.then(v=>v)}else{const p=iw(this.apiClient,e);return h=ne("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),c.then(v=>v)}}async delete(e){var i,o,r,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=Xx(this.apiClient,e);return h=ne("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(S=>{const b=S;return b.sdkHttpResponse={headers:v.headers},b})),c.then(v=>{const S=Wx(v),b=new z0;return Object.assign(b,S),b})}else{const p=Yx(this.apiClient,e);return h=ne("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const b=S;return b.sdkHttpResponse={headers:v.headers},b})),c.then(v=>{const S=Qx(v),b=new z0;return Object.assign(b,S),b})}}async update(e){var i,o,r,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=Sw(this.apiClient,e);return h=ne("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),c.then(v=>v)}else{const p=_w(this.apiClient,e);return h=ne("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),c.then(v=>v)}}async listInternal(e){var i,o,r,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=cw(e);return h=ne("cachedContents",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(S=>{const b=S;return b.sdkHttpResponse={headers:v.headers},b})),c.then(v=>{const S=fw(v),b=new H0;return Object.assign(b,S),b})}else{const p=uw(e);return h=ne("cachedContents",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const b=S;return b.sdkHttpResponse={headers:v.headers},b})),c.then(v=>{const S=dw(v),b=new H0;return Object.assign(b,S),b})}}}function Zl(t,e){var i={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(i[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(i[o[r]]=t[o[r]]);return i}function Y0(t){var e=typeof Symbol=="function"&&Symbol.iterator,i=e&&t[e],o=0;if(i)return i.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ve(t){return this instanceof ve?(this.v=t,this):new ve(t)}function Cn(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=i.apply(t,e||[]),r,l=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",c),r[Symbol.asyncIterator]=function(){return this},r;function c(x){return function(A){return Promise.resolve(A).then(x,S)}}function h(x,A){o[x]&&(r[x]=function(C){return new Promise(function(R,k){l.push([x,C,R,k])>1||g(x,C)})},A&&(r[x]=A(r[x])))}function g(x,A){try{p(o[x](A))}catch(C){b(l[0][3],C)}}function p(x){x.value instanceof ve?Promise.resolve(x.value.v).then(v,S):b(l[0][2],x)}function v(x){g("next",x)}function S(x){g("throw",x)}function b(x,A){x(A),l.shift(),l.length&&g(l[0][0],l[0][1])}}function Nn(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],i;return e?e.call(t):(t=typeof Y0=="function"?Y0(t):t[Symbol.iterator](),i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i);function o(l){i[l]=t[l]&&function(c){return new Promise(function(h,g){c=t[l](c),r(h,g,c.done,c.value)})}}function r(l,c,h,g){Promise.resolve(g).then(function(p){l({value:p,done:h})},c)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ew(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const i=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return i===void 0?!1:av(i)}function av(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function Tw(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function X0(t){if(t===void 0||t.length===0)return[];const e=[],i=t.length;let o=0;for(;o<i;)if(t[o].role==="user")e.push(t[o]),o++;else{const r=[];let l=!0;for(;o<i&&t[o].role==="model";)r.push(t[o]),l&&!av(t[o])&&(l=!1),o++;l?e.push(...r):e.pop()}return e}class xw{constructor(e,i){this.modelsModule=e,this.apiClient=i}create(e){return new ww(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class ww{constructor(e,i,o,r={},l=[]){this.apiClient=e,this.modelsModule=i,this.model=o,this.config=r,this.history=l,this.sendPromise=Promise.resolve(),Tw(l)}async sendMessage(e){var i;await this.sendPromise;const o=kt(e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(i=e.config)!==null&&i!==void 0?i:this.config});return this.sendPromise=(async()=>{var l,c,h;const g=await r,p=(c=(l=g.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content,v=g.automaticFunctionCallingHistory,S=this.getHistory(!0).length;let b=[];v!=null&&(b=(h=v.slice(S))!==null&&h!==void 0?h:[]);const x=p?[p]:[];this.recordHistory(o,x,b)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(e){var i;await this.sendPromise;const o=kt(e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(i=e.config)!==null&&i!==void 0?i:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const l=await r;return this.processStreamResponse(l,o)}getHistory(e=!1){const i=e?X0(this.history):this.history;return structuredClone(i)}processStreamResponse(e,i){return Cn(this,arguments,function*(){var r,l,c,h,g,p;const v=[];try{for(var S=!0,b=Nn(e),x;x=yield ve(b.next()),r=x.done,!r;S=!0){h=x.value,S=!1;const A=h;if(Ew(A)){const C=(p=(g=A.candidates)===null||g===void 0?void 0:g[0])===null||p===void 0?void 0:p.content;C!==void 0&&v.push(C)}yield yield ve(A)}}catch(A){l={error:A}}finally{try{!S&&!r&&(c=b.return)&&(yield ve(c.call(b)))}finally{if(l)throw l.error}}this.recordHistory(i,v)})}recordHistory(e,i,o){let r=[];i.length>0&&i.every(l=>l.role!==void 0)?r=i:r.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(...X0(o)):this.history.push(e),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Zr extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Zr.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Aw(t){const e={},i=d(t,["file"]);return i!=null&&f(e,["file"],i),e}function Cw(t){const e={},i=d(t,["sdkHttpResponse"]);return i!=null&&f(e,["sdkHttpResponse"],i),e}function Nw(t){const e={},i=d(t,["name"]);return i!=null&&f(e,["_url","file"],ev(i)),e}function Rw(t){const e={},i=d(t,["sdkHttpResponse"]);return i!=null&&f(e,["sdkHttpResponse"],i),e}function Iw(t){const e={},i=d(t,["name"]);return i!=null&&f(e,["_url","file"],ev(i)),e}function Mw(t){const e={},i=d(t,["uris"]);return i!=null&&f(e,["uris"],i),e}function Dw(t,e){const i={},o=d(t,["pageSize"]);e!==void 0&&o!=null&&f(e,["_query","pageSize"],o);const r=d(t,["pageToken"]);return e!==void 0&&r!=null&&f(e,["_query","pageToken"],r),i}function kw(t){const e={},i=d(t,["config"]);return i!=null&&Dw(i,e),e}function Uw(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const o=d(t,["nextPageToken"]);o!=null&&f(e,["nextPageToken"],o);const r=d(t,["files"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>c)),f(e,["files"],l)}return e}function Ow(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const o=d(t,["files"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>l)),f(e,["files"],r)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Pw extends ai{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new As(ri.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(i),i)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(i=>i)}async download(e){await this.apiClient.downloadFile(e)}async registerFiles(e){throw new Error("registerFiles is only supported in Node.js environments.")}async _registerFiles(e){return this.registerFilesInternal(e)}async listInternal(e){var i,o;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=kw(e);return l=ne("files",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:g.headers},v})),r.then(g=>{const p=Uw(g),v=new LT;return Object.assign(v,p),v})}}async createInternal(e){var i,o;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Aw(e);return l=ne("upload/v1beta/files",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),r.then(g=>{const p=Cw(g),v=new qT;return Object.assign(v,p),v})}}async get(e){var i,o;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Iw(e);return l=ne("files/{file}",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),r.then(g=>g)}}async delete(e){var i,o;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Nw(e);return l=ne("files/{file}",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:g.headers},v})),r.then(g=>{const p=Rw(g),v=new BT;return Object.assign(v,p),v})}}async registerFilesInternal(e){var i,o;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Mw(e);return l=ne("files:register",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),r.then(g=>{const p=Ow(g),v=new GT;return Object.assign(v,p),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Yl(t){const e={},i=d(t,["data"]);if(i!=null&&f(e,["data"],i),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=d(t,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}function Lw(t){const e={},i=d(t,["parts"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>Zw(l))),f(e,["parts"],r)}const o=d(t,["role"]);return o!=null&&f(e,["role"],o),e}function qw(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["fileUri"]);i!=null&&f(e,["fileUri"],i);const o=d(t,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}function Bw(t){const e={},i=d(t,["id"]);i!=null&&f(e,["id"],i);const o=d(t,["args"]);o!=null&&f(e,["args"],o);const r=d(t,["name"]);if(r!=null&&f(e,["name"],r),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Gw(t){const e={},i=d(t,["description"]);i!=null&&f(e,["description"],i);const o=d(t,["name"]);o!=null&&f(e,["name"],o);const r=d(t,["parameters"]);r!=null&&f(e,["parameters"],r);const l=d(t,["parametersJsonSchema"]);l!=null&&f(e,["parametersJsonSchema"],l);const c=d(t,["response"]);c!=null&&f(e,["response"],c);const h=d(t,["responseJsonSchema"]);if(h!=null&&f(e,["responseJsonSchema"],h),d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function zw(t){const e={},i=d(t,["modelSelectionConfig"]);i!=null&&f(e,["modelConfig"],i);const o=d(t,["responseJsonSchema"]);o!=null&&f(e,["responseJsonSchema"],o);const r=d(t,["audioTimestamp"]);r!=null&&f(e,["audioTimestamp"],r);const l=d(t,["candidateCount"]);l!=null&&f(e,["candidateCount"],l);const c=d(t,["enableAffectiveDialog"]);c!=null&&f(e,["enableAffectiveDialog"],c);const h=d(t,["frequencyPenalty"]);h!=null&&f(e,["frequencyPenalty"],h);const g=d(t,["logprobs"]);g!=null&&f(e,["logprobs"],g);const p=d(t,["maxOutputTokens"]);p!=null&&f(e,["maxOutputTokens"],p);const v=d(t,["mediaResolution"]);v!=null&&f(e,["mediaResolution"],v);const S=d(t,["presencePenalty"]);S!=null&&f(e,["presencePenalty"],S);const b=d(t,["responseLogprobs"]);b!=null&&f(e,["responseLogprobs"],b);const x=d(t,["responseMimeType"]);x!=null&&f(e,["responseMimeType"],x);const A=d(t,["responseModalities"]);A!=null&&f(e,["responseModalities"],A);const C=d(t,["responseSchema"]);C!=null&&f(e,["responseSchema"],C);const R=d(t,["routingConfig"]);R!=null&&f(e,["routingConfig"],R);const k=d(t,["seed"]);k!=null&&f(e,["seed"],k);const z=d(t,["speechConfig"]);z!=null&&f(e,["speechConfig"],z);const U=d(t,["stopSequences"]);U!=null&&f(e,["stopSequences"],U);const H=d(t,["temperature"]);H!=null&&f(e,["temperature"],H);const Y=d(t,["thinkingConfig"]);Y!=null&&f(e,["thinkingConfig"],Y);const B=d(t,["topK"]);B!=null&&f(e,["topK"],B);const K=d(t,["topP"]);if(K!=null&&f(e,["topP"],K),d(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Hw(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=d(t,["enableWidget"]);return i!=null&&f(e,["enableWidget"],i),e}function Vw(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=d(t,["timeRangeFilter"]);return i!=null&&f(e,["timeRangeFilter"],i),e}function Fw(t,e){const i={},o=d(t,["generationConfig"]);e!==void 0&&o!=null&&f(e,["setup","generationConfig"],o);const r=d(t,["responseModalities"]);e!==void 0&&r!=null&&f(e,["setup","generationConfig","responseModalities"],r);const l=d(t,["temperature"]);e!==void 0&&l!=null&&f(e,["setup","generationConfig","temperature"],l);const c=d(t,["topP"]);e!==void 0&&c!=null&&f(e,["setup","generationConfig","topP"],c);const h=d(t,["topK"]);e!==void 0&&h!=null&&f(e,["setup","generationConfig","topK"],h);const g=d(t,["maxOutputTokens"]);e!==void 0&&g!=null&&f(e,["setup","generationConfig","maxOutputTokens"],g);const p=d(t,["mediaResolution"]);e!==void 0&&p!=null&&f(e,["setup","generationConfig","mediaResolution"],p);const v=d(t,["seed"]);e!==void 0&&v!=null&&f(e,["setup","generationConfig","seed"],v);const S=d(t,["speechConfig"]);e!==void 0&&S!=null&&f(e,["setup","generationConfig","speechConfig"],Nf(S));const b=d(t,["thinkingConfig"]);e!==void 0&&b!=null&&f(e,["setup","generationConfig","thinkingConfig"],b);const x=d(t,["enableAffectiveDialog"]);e!==void 0&&x!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],x);const A=d(t,["systemInstruction"]);e!==void 0&&A!=null&&f(e,["setup","systemInstruction"],Lw(kt(A)));const C=d(t,["tools"]);if(e!==void 0&&C!=null){let B=Uo(C);Array.isArray(B)&&(B=B.map(K=>tA(ko(K)))),f(e,["setup","tools"],B)}const R=d(t,["sessionResumption"]);e!==void 0&&R!=null&&f(e,["setup","sessionResumption"],eA(R));const k=d(t,["inputAudioTranscription"]);e!==void 0&&k!=null&&f(e,["setup","inputAudioTranscription"],k);const z=d(t,["outputAudioTranscription"]);e!==void 0&&z!=null&&f(e,["setup","outputAudioTranscription"],z);const U=d(t,["realtimeInputConfig"]);e!==void 0&&U!=null&&f(e,["setup","realtimeInputConfig"],U);const H=d(t,["contextWindowCompression"]);e!==void 0&&H!=null&&f(e,["setup","contextWindowCompression"],H);const Y=d(t,["proactivity"]);if(e!==void 0&&Y!=null&&f(e,["setup","proactivity"],Y),d(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return i}function $w(t,e){const i={},o=d(t,["generationConfig"]);e!==void 0&&o!=null&&f(e,["setup","generationConfig"],zw(o));const r=d(t,["responseModalities"]);e!==void 0&&r!=null&&f(e,["setup","generationConfig","responseModalities"],r);const l=d(t,["temperature"]);e!==void 0&&l!=null&&f(e,["setup","generationConfig","temperature"],l);const c=d(t,["topP"]);e!==void 0&&c!=null&&f(e,["setup","generationConfig","topP"],c);const h=d(t,["topK"]);e!==void 0&&h!=null&&f(e,["setup","generationConfig","topK"],h);const g=d(t,["maxOutputTokens"]);e!==void 0&&g!=null&&f(e,["setup","generationConfig","maxOutputTokens"],g);const p=d(t,["mediaResolution"]);e!==void 0&&p!=null&&f(e,["setup","generationConfig","mediaResolution"],p);const v=d(t,["seed"]);e!==void 0&&v!=null&&f(e,["setup","generationConfig","seed"],v);const S=d(t,["speechConfig"]);e!==void 0&&S!=null&&f(e,["setup","generationConfig","speechConfig"],Nf(S));const b=d(t,["thinkingConfig"]);e!==void 0&&b!=null&&f(e,["setup","generationConfig","thinkingConfig"],b);const x=d(t,["enableAffectiveDialog"]);e!==void 0&&x!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],x);const A=d(t,["systemInstruction"]);e!==void 0&&A!=null&&f(e,["setup","systemInstruction"],kt(A));const C=d(t,["tools"]);if(e!==void 0&&C!=null){let K=Uo(C);Array.isArray(K)&&(K=K.map(fe=>nA(ko(fe)))),f(e,["setup","tools"],K)}const R=d(t,["sessionResumption"]);e!==void 0&&R!=null&&f(e,["setup","sessionResumption"],R);const k=d(t,["inputAudioTranscription"]);e!==void 0&&k!=null&&f(e,["setup","inputAudioTranscription"],k);const z=d(t,["outputAudioTranscription"]);e!==void 0&&z!=null&&f(e,["setup","outputAudioTranscription"],z);const U=d(t,["realtimeInputConfig"]);e!==void 0&&U!=null&&f(e,["setup","realtimeInputConfig"],U);const H=d(t,["contextWindowCompression"]);e!==void 0&&H!=null&&f(e,["setup","contextWindowCompression"],H);const Y=d(t,["proactivity"]);e!==void 0&&Y!=null&&f(e,["setup","proactivity"],Y);const B=d(t,["explicitVadSignal"]);return e!==void 0&&B!=null&&f(e,["setup","explicitVadSignal"],B),i}function jw(t,e){const i={},o=d(e,["model"]);o!=null&&f(i,["setup","model"],qe(t,o));const r=d(e,["config"]);return r!=null&&f(i,["config"],Fw(r,i)),i}function Jw(t,e){const i={},o=d(e,["model"]);o!=null&&f(i,["setup","model"],qe(t,o));const r=d(e,["config"]);return r!=null&&f(i,["config"],$w(r,i)),i}function Kw(t){const e={},i=d(t,["musicGenerationConfig"]);return i!=null&&f(e,["musicGenerationConfig"],i),e}function Yw(t){const e={},i=d(t,["weightedPrompts"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(r=>r)),f(e,["weightedPrompts"],o)}return e}function Xw(t){const e={},i=d(t,["media"]);if(i!=null){let p=Yy(i);Array.isArray(p)&&(p=p.map(v=>Yl(v))),f(e,["mediaChunks"],p)}const o=d(t,["audio"]);o!=null&&f(e,["audio"],Yl(Qy(o)));const r=d(t,["audioStreamEnd"]);r!=null&&f(e,["audioStreamEnd"],r);const l=d(t,["video"]);l!=null&&f(e,["video"],Yl(Xy(l)));const c=d(t,["text"]);c!=null&&f(e,["text"],c);const h=d(t,["activityStart"]);h!=null&&f(e,["activityStart"],h);const g=d(t,["activityEnd"]);return g!=null&&f(e,["activityEnd"],g),e}function Qw(t){const e={},i=d(t,["media"]);if(i!=null){let p=Yy(i);Array.isArray(p)&&(p=p.map(v=>v)),f(e,["mediaChunks"],p)}const o=d(t,["audio"]);o!=null&&f(e,["audio"],Qy(o));const r=d(t,["audioStreamEnd"]);r!=null&&f(e,["audioStreamEnd"],r);const l=d(t,["video"]);l!=null&&f(e,["video"],Xy(l));const c=d(t,["text"]);c!=null&&f(e,["text"],c);const h=d(t,["activityStart"]);h!=null&&f(e,["activityStart"],h);const g=d(t,["activityEnd"]);return g!=null&&f(e,["activityEnd"],g),e}function Ww(t){const e={},i=d(t,["setupComplete"]);i!=null&&f(e,["setupComplete"],i);const o=d(t,["serverContent"]);o!=null&&f(e,["serverContent"],o);const r=d(t,["toolCall"]);r!=null&&f(e,["toolCall"],r);const l=d(t,["toolCallCancellation"]);l!=null&&f(e,["toolCallCancellation"],l);const c=d(t,["usageMetadata"]);c!=null&&f(e,["usageMetadata"],iA(c));const h=d(t,["goAway"]);h!=null&&f(e,["goAway"],h);const g=d(t,["sessionResumptionUpdate"]);g!=null&&f(e,["sessionResumptionUpdate"],g);const p=d(t,["voiceActivityDetectionSignal"]);p!=null&&f(e,["voiceActivityDetectionSignal"],p);const v=d(t,["voiceActivity"]);return v!=null&&f(e,["voiceActivity"],sA(v)),e}function Zw(t){const e={},i=d(t,["mediaResolution"]);i!=null&&f(e,["mediaResolution"],i);const o=d(t,["codeExecutionResult"]);o!=null&&f(e,["codeExecutionResult"],o);const r=d(t,["executableCode"]);r!=null&&f(e,["executableCode"],r);const l=d(t,["fileData"]);l!=null&&f(e,["fileData"],qw(l));const c=d(t,["functionCall"]);c!=null&&f(e,["functionCall"],Bw(c));const h=d(t,["functionResponse"]);h!=null&&f(e,["functionResponse"],h);const g=d(t,["inlineData"]);g!=null&&f(e,["inlineData"],Yl(g));const p=d(t,["text"]);p!=null&&f(e,["text"],p);const v=d(t,["thought"]);v!=null&&f(e,["thought"],v);const S=d(t,["thoughtSignature"]);S!=null&&f(e,["thoughtSignature"],S);const b=d(t,["videoMetadata"]);return b!=null&&f(e,["videoMetadata"],b),e}function eA(t){const e={},i=d(t,["handle"]);if(i!=null&&f(e,["handle"],i),d(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function tA(t){const e={};if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=d(t,["computerUse"]);i!=null&&f(e,["computerUse"],i);const o=d(t,["fileSearch"]);o!=null&&f(e,["fileSearch"],o);const r=d(t,["codeExecution"]);if(r!=null&&f(e,["codeExecution"],r),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=d(t,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(S=>S)),f(e,["functionDeclarations"],v)}const c=d(t,["googleMaps"]);c!=null&&f(e,["googleMaps"],Hw(c));const h=d(t,["googleSearch"]);h!=null&&f(e,["googleSearch"],Vw(h));const g=d(t,["googleSearchRetrieval"]);g!=null&&f(e,["googleSearchRetrieval"],g);const p=d(t,["urlContext"]);return p!=null&&f(e,["urlContext"],p),e}function nA(t){const e={},i=d(t,["retrieval"]);i!=null&&f(e,["retrieval"],i);const o=d(t,["computerUse"]);if(o!=null&&f(e,["computerUse"],o),d(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=d(t,["codeExecution"]);r!=null&&f(e,["codeExecution"],r);const l=d(t,["enterpriseWebSearch"]);l!=null&&f(e,["enterpriseWebSearch"],l);const c=d(t,["functionDeclarations"]);if(c!=null){let S=c;Array.isArray(S)&&(S=S.map(b=>Gw(b))),f(e,["functionDeclarations"],S)}const h=d(t,["googleMaps"]);h!=null&&f(e,["googleMaps"],h);const g=d(t,["googleSearch"]);g!=null&&f(e,["googleSearch"],g);const p=d(t,["googleSearchRetrieval"]);p!=null&&f(e,["googleSearchRetrieval"],p);const v=d(t,["urlContext"]);return v!=null&&f(e,["urlContext"],v),e}function iA(t){const e={},i=d(t,["promptTokenCount"]);i!=null&&f(e,["promptTokenCount"],i);const o=d(t,["cachedContentTokenCount"]);o!=null&&f(e,["cachedContentTokenCount"],o);const r=d(t,["candidatesTokenCount"]);r!=null&&f(e,["responseTokenCount"],r);const l=d(t,["toolUsePromptTokenCount"]);l!=null&&f(e,["toolUsePromptTokenCount"],l);const c=d(t,["thoughtsTokenCount"]);c!=null&&f(e,["thoughtsTokenCount"],c);const h=d(t,["totalTokenCount"]);h!=null&&f(e,["totalTokenCount"],h);const g=d(t,["promptTokensDetails"]);if(g!=null){let x=g;Array.isArray(x)&&(x=x.map(A=>A)),f(e,["promptTokensDetails"],x)}const p=d(t,["cacheTokensDetails"]);if(p!=null){let x=p;Array.isArray(x)&&(x=x.map(A=>A)),f(e,["cacheTokensDetails"],x)}const v=d(t,["candidatesTokensDetails"]);if(v!=null){let x=v;Array.isArray(x)&&(x=x.map(A=>A)),f(e,["responseTokensDetails"],x)}const S=d(t,["toolUsePromptTokensDetails"]);if(S!=null){let x=S;Array.isArray(x)&&(x=x.map(A=>A)),f(e,["toolUsePromptTokensDetails"],x)}const b=d(t,["trafficType"]);return b!=null&&f(e,["trafficType"],b),e}function sA(t){const e={},i=d(t,["type"]);return i!=null&&f(e,["voiceActivityType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function oA(t,e){const i={},o=d(t,["data"]);if(o!=null&&f(i,["data"],o),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(t,["mimeType"]);return r!=null&&f(i,["mimeType"],r),i}function rA(t,e){const i={},o=d(t,["content"]);o!=null&&f(i,["content"],o);const r=d(t,["citationMetadata"]);r!=null&&f(i,["citationMetadata"],aA(r));const l=d(t,["tokenCount"]);l!=null&&f(i,["tokenCount"],l);const c=d(t,["finishReason"]);c!=null&&f(i,["finishReason"],c);const h=d(t,["avgLogprobs"]);h!=null&&f(i,["avgLogprobs"],h);const g=d(t,["groundingMetadata"]);g!=null&&f(i,["groundingMetadata"],g);const p=d(t,["index"]);p!=null&&f(i,["index"],p);const v=d(t,["logprobsResult"]);v!=null&&f(i,["logprobsResult"],v);const S=d(t,["safetyRatings"]);if(S!=null){let x=S;Array.isArray(x)&&(x=x.map(A=>A)),f(i,["safetyRatings"],x)}const b=d(t,["urlContextMetadata"]);return b!=null&&f(i,["urlContextMetadata"],b),i}function aA(t,e){const i={},o=d(t,["citationSources"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>l)),f(i,["citations"],r)}return i}function lA(t,e,i){const o={},r=d(e,["model"]);r!=null&&f(o,["_url","model"],qe(t,r));const l=d(e,["contents"]);if(l!=null){let c=gn(l);Array.isArray(c)&&(c=c.map(h=>h)),f(o,["contents"],c)}return o}function uA(t,e){const i={},o=d(t,["sdkHttpResponse"]);o!=null&&f(i,["sdkHttpResponse"],o);const r=d(t,["tokensInfo"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>c)),f(i,["tokensInfo"],l)}return i}function cA(t,e){const i={},o=d(t,["values"]);o!=null&&f(i,["values"],o);const r=d(t,["statistics"]);return r!=null&&f(i,["statistics"],dA(r)),i}function dA(t,e){const i={},o=d(t,["truncated"]);o!=null&&f(i,["truncated"],o);const r=d(t,["token_count"]);return r!=null&&f(i,["tokenCount"],r),i}function ru(t,e){const i={},o=d(t,["parts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>SC(c))),f(i,["parts"],l)}const r=d(t,["role"]);return r!=null&&f(i,["role"],r),i}function fA(t,e){const i={},o=d(t,["controlType"]);o!=null&&f(i,["controlType"],o);const r=d(t,["enableControlImageComputation"]);return r!=null&&f(i,["computeControl"],r),i}function hA(t,e){const i={};if(d(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(d(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(d(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return i}function pA(t,e,i){const o={},r=d(t,["systemInstruction"]);e!==void 0&&r!=null&&f(e,["systemInstruction"],kt(r));const l=d(t,["tools"]);if(e!==void 0&&l!=null){let h=l;Array.isArray(h)&&(h=h.map(g=>dv(g))),f(e,["tools"],h)}const c=d(t,["generationConfig"]);return e!==void 0&&c!=null&&f(e,["generationConfig"],oC(c)),o}function mA(t,e,i){const o={},r=d(e,["model"]);r!=null&&f(o,["_url","model"],qe(t,r));const l=d(e,["contents"]);if(l!=null){let h=gn(l);Array.isArray(h)&&(h=h.map(g=>ru(g))),f(o,["contents"],h)}const c=d(e,["config"]);return c!=null&&hA(c),o}function gA(t,e,i){const o={},r=d(e,["model"]);r!=null&&f(o,["_url","model"],qe(t,r));const l=d(e,["contents"]);if(l!=null){let h=gn(l);Array.isArray(h)&&(h=h.map(g=>g)),f(o,["contents"],h)}const c=d(e,["config"]);return c!=null&&pA(c,o),o}function yA(t,e){const i={},o=d(t,["sdkHttpResponse"]);o!=null&&f(i,["sdkHttpResponse"],o);const r=d(t,["totalTokens"]);r!=null&&f(i,["totalTokens"],r);const l=d(t,["cachedContentTokenCount"]);return l!=null&&f(i,["cachedContentTokenCount"],l),i}function vA(t,e){const i={},o=d(t,["sdkHttpResponse"]);o!=null&&f(i,["sdkHttpResponse"],o);const r=d(t,["totalTokens"]);return r!=null&&f(i,["totalTokens"],r),i}function _A(t,e,i){const o={},r=d(e,["model"]);return r!=null&&f(o,["_url","name"],qe(t,r)),o}function SA(t,e,i){const o={},r=d(e,["model"]);return r!=null&&f(o,["_url","name"],qe(t,r)),o}function bA(t,e){const i={},o=d(t,["sdkHttpResponse"]);return o!=null&&f(i,["sdkHttpResponse"],o),i}function EA(t,e){const i={},o=d(t,["sdkHttpResponse"]);return o!=null&&f(i,["sdkHttpResponse"],o),i}function TA(t,e,i){const o={},r=d(t,["outputGcsUri"]);e!==void 0&&r!=null&&f(e,["parameters","storageUri"],r);const l=d(t,["negativePrompt"]);e!==void 0&&l!=null&&f(e,["parameters","negativePrompt"],l);const c=d(t,["numberOfImages"]);e!==void 0&&c!=null&&f(e,["parameters","sampleCount"],c);const h=d(t,["aspectRatio"]);e!==void 0&&h!=null&&f(e,["parameters","aspectRatio"],h);const g=d(t,["guidanceScale"]);e!==void 0&&g!=null&&f(e,["parameters","guidanceScale"],g);const p=d(t,["seed"]);e!==void 0&&p!=null&&f(e,["parameters","seed"],p);const v=d(t,["safetyFilterLevel"]);e!==void 0&&v!=null&&f(e,["parameters","safetySetting"],v);const S=d(t,["personGeneration"]);e!==void 0&&S!=null&&f(e,["parameters","personGeneration"],S);const b=d(t,["includeSafetyAttributes"]);e!==void 0&&b!=null&&f(e,["parameters","includeSafetyAttributes"],b);const x=d(t,["includeRaiReason"]);e!==void 0&&x!=null&&f(e,["parameters","includeRaiReason"],x);const A=d(t,["language"]);e!==void 0&&A!=null&&f(e,["parameters","language"],A);const C=d(t,["outputMimeType"]);e!==void 0&&C!=null&&f(e,["parameters","outputOptions","mimeType"],C);const R=d(t,["outputCompressionQuality"]);e!==void 0&&R!=null&&f(e,["parameters","outputOptions","compressionQuality"],R);const k=d(t,["addWatermark"]);e!==void 0&&k!=null&&f(e,["parameters","addWatermark"],k);const z=d(t,["labels"]);e!==void 0&&z!=null&&f(e,["labels"],z);const U=d(t,["editMode"]);e!==void 0&&U!=null&&f(e,["parameters","editMode"],U);const H=d(t,["baseSteps"]);return e!==void 0&&H!=null&&f(e,["parameters","editConfig","baseSteps"],H),o}function xA(t,e,i){const o={},r=d(e,["model"]);r!=null&&f(o,["_url","model"],qe(t,r));const l=d(e,["prompt"]);l!=null&&f(o,["instances[0]","prompt"],l);const c=d(e,["referenceImages"]);if(c!=null){let g=c;Array.isArray(g)&&(g=g.map(p=>AC(p))),f(o,["instances[0]","referenceImages"],g)}const h=d(e,["config"]);return h!=null&&TA(h,o),o}function wA(t,e){const i={},o=d(t,["sdkHttpResponse"]);o!=null&&f(i,["sdkHttpResponse"],o);const r=d(t,["predictions"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>au(c))),f(i,["generatedImages"],l)}return i}function AA(t,e,i){const o={},r=d(t,["taskType"]);e!==void 0&&r!=null&&f(e,["requests[]","taskType"],r);const l=d(t,["title"]);e!==void 0&&l!=null&&f(e,["requests[]","title"],l);const c=d(t,["outputDimensionality"]);if(e!==void 0&&c!=null&&f(e,["requests[]","outputDimensionality"],c),d(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function CA(t,e,i){const o={},r=d(t,["taskType"]);e!==void 0&&r!=null&&f(e,["instances[]","task_type"],r);const l=d(t,["title"]);e!==void 0&&l!=null&&f(e,["instances[]","title"],l);const c=d(t,["outputDimensionality"]);e!==void 0&&c!=null&&f(e,["parameters","outputDimensionality"],c);const h=d(t,["mimeType"]);e!==void 0&&h!=null&&f(e,["instances[]","mimeType"],h);const g=d(t,["autoTruncate"]);return e!==void 0&&g!=null&&f(e,["parameters","autoTruncate"],g),o}function NA(t,e,i){const o={},r=d(e,["model"]);r!=null&&f(o,["_url","model"],qe(t,r));const l=d(e,["contents"]);if(l!=null){let g=wf(t,l);Array.isArray(g)&&(g=g.map(p=>p)),f(o,["requests[]","content"],g)}const c=d(e,["config"]);c!=null&&AA(c,o);const h=d(e,["model"]);return h!==void 0&&f(o,["requests[]","model"],qe(t,h)),o}function RA(t,e,i){const o={},r=d(e,["model"]);r!=null&&f(o,["_url","model"],qe(t,r));const l=d(e,["contents"]);if(l!=null){let h=wf(t,l);Array.isArray(h)&&(h=h.map(g=>g)),f(o,["instances[]","content"],h)}const c=d(e,["config"]);return c!=null&&CA(c,o),o}function IA(t,e){const i={},o=d(t,["sdkHttpResponse"]);o!=null&&f(i,["sdkHttpResponse"],o);const r=d(t,["embeddings"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(h=>h)),f(i,["embeddings"],c)}const l=d(t,["metadata"]);return l!=null&&f(i,["metadata"],l),i}function MA(t,e){const i={},o=d(t,["sdkHttpResponse"]);o!=null&&f(i,["sdkHttpResponse"],o);const r=d(t,["predictions[]","embeddings"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(h=>cA(h))),f(i,["embeddings"],c)}const l=d(t,["metadata"]);return l!=null&&f(i,["metadata"],l),i}function DA(t,e){const i={},o=d(t,["endpoint"]);o!=null&&f(i,["name"],o);const r=d(t,["deployedModelId"]);return r!=null&&f(i,["deployedModelId"],r),i}function kA(t,e){const i={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=d(t,["fileUri"]);o!=null&&f(i,["fileUri"],o);const r=d(t,["mimeType"]);return r!=null&&f(i,["mimeType"],r),i}function UA(t,e){const i={},o=d(t,["id"]);o!=null&&f(i,["id"],o);const r=d(t,["args"]);r!=null&&f(i,["args"],r);const l=d(t,["name"]);if(l!=null&&f(i,["name"],l),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return i}function OA(t,e){const i={},o=d(t,["allowedFunctionNames"]);o!=null&&f(i,["allowedFunctionNames"],o);const r=d(t,["mode"]);if(r!=null&&f(i,["mode"],r),d(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return i}function PA(t,e){const i={},o=d(t,["description"]);o!=null&&f(i,["description"],o);const r=d(t,["name"]);r!=null&&f(i,["name"],r);const l=d(t,["parameters"]);l!=null&&f(i,["parameters"],l);const c=d(t,["parametersJsonSchema"]);c!=null&&f(i,["parametersJsonSchema"],c);const h=d(t,["response"]);h!=null&&f(i,["response"],h);const g=d(t,["responseJsonSchema"]);if(g!=null&&f(i,["responseJsonSchema"],g),d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return i}function LA(t,e,i,o){const r={},l=d(e,["systemInstruction"]);i!==void 0&&l!=null&&f(i,["systemInstruction"],ru(kt(l)));const c=d(e,["temperature"]);c!=null&&f(r,["temperature"],c);const h=d(e,["topP"]);h!=null&&f(r,["topP"],h);const g=d(e,["topK"]);g!=null&&f(r,["topK"],g);const p=d(e,["candidateCount"]);p!=null&&f(r,["candidateCount"],p);const v=d(e,["maxOutputTokens"]);v!=null&&f(r,["maxOutputTokens"],v);const S=d(e,["stopSequences"]);S!=null&&f(r,["stopSequences"],S);const b=d(e,["responseLogprobs"]);b!=null&&f(r,["responseLogprobs"],b);const x=d(e,["logprobs"]);x!=null&&f(r,["logprobs"],x);const A=d(e,["presencePenalty"]);A!=null&&f(r,["presencePenalty"],A);const C=d(e,["frequencyPenalty"]);C!=null&&f(r,["frequencyPenalty"],C);const R=d(e,["seed"]);R!=null&&f(r,["seed"],R);const k=d(e,["responseMimeType"]);k!=null&&f(r,["responseMimeType"],k);const z=d(e,["responseSchema"]);z!=null&&f(r,["responseSchema"],Af(z));const U=d(e,["responseJsonSchema"]);if(U!=null&&f(r,["responseJsonSchema"],U),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const H=d(e,["safetySettings"]);if(i!==void 0&&H!=null){let Ge=H;Array.isArray(Ge)&&(Ge=Ge.map(ze=>CC(ze))),f(i,["safetySettings"],Ge)}const Y=d(e,["tools"]);if(i!==void 0&&Y!=null){let Ge=Uo(Y);Array.isArray(Ge)&&(Ge=Ge.map(ze=>UC(ko(ze)))),f(i,["tools"],Ge)}const B=d(e,["toolConfig"]);if(i!==void 0&&B!=null&&f(i,["toolConfig"],kC(B)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const K=d(e,["cachedContent"]);i!==void 0&&K!=null&&f(i,["cachedContent"],li(t,K));const fe=d(e,["responseModalities"]);fe!=null&&f(r,["responseModalities"],fe);const te=d(e,["mediaResolution"]);te!=null&&f(r,["mediaResolution"],te);const be=d(e,["speechConfig"]);if(be!=null&&f(r,["speechConfig"],Cf(be)),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const pe=d(e,["thinkingConfig"]);pe!=null&&f(r,["thinkingConfig"],pe);const ke=d(e,["imageConfig"]);ke!=null&&f(r,["imageConfig"],cC(ke));const He=d(e,["enableEnhancedCivicAnswers"]);if(He!=null&&f(r,["enableEnhancedCivicAnswers"],He),d(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function qA(t,e,i,o){const r={},l=d(e,["systemInstruction"]);i!==void 0&&l!=null&&f(i,["systemInstruction"],kt(l));const c=d(e,["temperature"]);c!=null&&f(r,["temperature"],c);const h=d(e,["topP"]);h!=null&&f(r,["topP"],h);const g=d(e,["topK"]);g!=null&&f(r,["topK"],g);const p=d(e,["candidateCount"]);p!=null&&f(r,["candidateCount"],p);const v=d(e,["maxOutputTokens"]);v!=null&&f(r,["maxOutputTokens"],v);const S=d(e,["stopSequences"]);S!=null&&f(r,["stopSequences"],S);const b=d(e,["responseLogprobs"]);b!=null&&f(r,["responseLogprobs"],b);const x=d(e,["logprobs"]);x!=null&&f(r,["logprobs"],x);const A=d(e,["presencePenalty"]);A!=null&&f(r,["presencePenalty"],A);const C=d(e,["frequencyPenalty"]);C!=null&&f(r,["frequencyPenalty"],C);const R=d(e,["seed"]);R!=null&&f(r,["seed"],R);const k=d(e,["responseMimeType"]);k!=null&&f(r,["responseMimeType"],k);const z=d(e,["responseSchema"]);z!=null&&f(r,["responseSchema"],Af(z));const U=d(e,["responseJsonSchema"]);U!=null&&f(r,["responseJsonSchema"],U);const H=d(e,["routingConfig"]);H!=null&&f(r,["routingConfig"],H);const Y=d(e,["modelSelectionConfig"]);Y!=null&&f(r,["modelConfig"],Y);const B=d(e,["safetySettings"]);if(i!==void 0&&B!=null){let le=B;Array.isArray(le)&&(le=le.map(Te=>Te)),f(i,["safetySettings"],le)}const K=d(e,["tools"]);if(i!==void 0&&K!=null){let le=Uo(K);Array.isArray(le)&&(le=le.map(Te=>dv(ko(Te)))),f(i,["tools"],le)}const fe=d(e,["toolConfig"]);i!==void 0&&fe!=null&&f(i,["toolConfig"],fe);const te=d(e,["labels"]);i!==void 0&&te!=null&&f(i,["labels"],te);const be=d(e,["cachedContent"]);i!==void 0&&be!=null&&f(i,["cachedContent"],li(t,be));const pe=d(e,["responseModalities"]);pe!=null&&f(r,["responseModalities"],pe);const ke=d(e,["mediaResolution"]);ke!=null&&f(r,["mediaResolution"],ke);const He=d(e,["speechConfig"]);He!=null&&f(r,["speechConfig"],Cf(He));const Ge=d(e,["audioTimestamp"]);Ge!=null&&f(r,["audioTimestamp"],Ge);const ze=d(e,["thinkingConfig"]);ze!=null&&f(r,["thinkingConfig"],ze);const V=d(e,["imageConfig"]);if(V!=null&&f(r,["imageConfig"],dC(V)),d(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const Q=d(e,["modelArmorConfig"]);return i!==void 0&&Q!=null&&f(i,["modelArmorConfig"],Q),r}function Q0(t,e,i){const o={},r=d(e,["model"]);r!=null&&f(o,["_url","model"],qe(t,r));const l=d(e,["contents"]);if(l!=null){let h=gn(l);Array.isArray(h)&&(h=h.map(g=>ru(g))),f(o,["contents"],h)}const c=d(e,["config"]);return c!=null&&f(o,["generationConfig"],LA(t,c,o)),o}function W0(t,e,i){const o={},r=d(e,["model"]);r!=null&&f(o,["_url","model"],qe(t,r));const l=d(e,["contents"]);if(l!=null){let h=gn(l);Array.isArray(h)&&(h=h.map(g=>g)),f(o,["contents"],h)}const c=d(e,["config"]);return c!=null&&f(o,["generationConfig"],qA(t,c,o)),o}function Z0(t,e){const i={},o=d(t,["sdkHttpResponse"]);o!=null&&f(i,["sdkHttpResponse"],o);const r=d(t,["candidates"]);if(r!=null){let p=r;Array.isArray(p)&&(p=p.map(v=>rA(v))),f(i,["candidates"],p)}const l=d(t,["modelVersion"]);l!=null&&f(i,["modelVersion"],l);const c=d(t,["promptFeedback"]);c!=null&&f(i,["promptFeedback"],c);const h=d(t,["responseId"]);h!=null&&f(i,["responseId"],h);const g=d(t,["usageMetadata"]);return g!=null&&f(i,["usageMetadata"],g),i}function ey(t,e){const i={},o=d(t,["sdkHttpResponse"]);o!=null&&f(i,["sdkHttpResponse"],o);const r=d(t,["candidates"]);if(r!=null){let v=r;Array.isArray(v)&&(v=v.map(S=>S)),f(i,["candidates"],v)}const l=d(t,["createTime"]);l!=null&&f(i,["createTime"],l);const c=d(t,["modelVersion"]);c!=null&&f(i,["modelVersion"],c);const h=d(t,["promptFeedback"]);h!=null&&f(i,["promptFeedback"],h);const g=d(t,["responseId"]);g!=null&&f(i,["responseId"],g);const p=d(t,["usageMetadata"]);return p!=null&&f(i,["usageMetadata"],p),i}function BA(t,e,i){const o={};if(d(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=d(t,["numberOfImages"]);e!==void 0&&r!=null&&f(e,["parameters","sampleCount"],r);const l=d(t,["aspectRatio"]);e!==void 0&&l!=null&&f(e,["parameters","aspectRatio"],l);const c=d(t,["guidanceScale"]);if(e!==void 0&&c!=null&&f(e,["parameters","guidanceScale"],c),d(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const h=d(t,["safetyFilterLevel"]);e!==void 0&&h!=null&&f(e,["parameters","safetySetting"],h);const g=d(t,["personGeneration"]);e!==void 0&&g!=null&&f(e,["parameters","personGeneration"],g);const p=d(t,["includeSafetyAttributes"]);e!==void 0&&p!=null&&f(e,["parameters","includeSafetyAttributes"],p);const v=d(t,["includeRaiReason"]);e!==void 0&&v!=null&&f(e,["parameters","includeRaiReason"],v);const S=d(t,["language"]);e!==void 0&&S!=null&&f(e,["parameters","language"],S);const b=d(t,["outputMimeType"]);e!==void 0&&b!=null&&f(e,["parameters","outputOptions","mimeType"],b);const x=d(t,["outputCompressionQuality"]);if(e!==void 0&&x!=null&&f(e,["parameters","outputOptions","compressionQuality"],x),d(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(d(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const A=d(t,["imageSize"]);if(e!==void 0&&A!=null&&f(e,["parameters","sampleImageSize"],A),d(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function GA(t,e,i){const o={},r=d(t,["outputGcsUri"]);e!==void 0&&r!=null&&f(e,["parameters","storageUri"],r);const l=d(t,["negativePrompt"]);e!==void 0&&l!=null&&f(e,["parameters","negativePrompt"],l);const c=d(t,["numberOfImages"]);e!==void 0&&c!=null&&f(e,["parameters","sampleCount"],c);const h=d(t,["aspectRatio"]);e!==void 0&&h!=null&&f(e,["parameters","aspectRatio"],h);const g=d(t,["guidanceScale"]);e!==void 0&&g!=null&&f(e,["parameters","guidanceScale"],g);const p=d(t,["seed"]);e!==void 0&&p!=null&&f(e,["parameters","seed"],p);const v=d(t,["safetyFilterLevel"]);e!==void 0&&v!=null&&f(e,["parameters","safetySetting"],v);const S=d(t,["personGeneration"]);e!==void 0&&S!=null&&f(e,["parameters","personGeneration"],S);const b=d(t,["includeSafetyAttributes"]);e!==void 0&&b!=null&&f(e,["parameters","includeSafetyAttributes"],b);const x=d(t,["includeRaiReason"]);e!==void 0&&x!=null&&f(e,["parameters","includeRaiReason"],x);const A=d(t,["language"]);e!==void 0&&A!=null&&f(e,["parameters","language"],A);const C=d(t,["outputMimeType"]);e!==void 0&&C!=null&&f(e,["parameters","outputOptions","mimeType"],C);const R=d(t,["outputCompressionQuality"]);e!==void 0&&R!=null&&f(e,["parameters","outputOptions","compressionQuality"],R);const k=d(t,["addWatermark"]);e!==void 0&&k!=null&&f(e,["parameters","addWatermark"],k);const z=d(t,["labels"]);e!==void 0&&z!=null&&f(e,["labels"],z);const U=d(t,["imageSize"]);e!==void 0&&U!=null&&f(e,["parameters","sampleImageSize"],U);const H=d(t,["enhancePrompt"]);return e!==void 0&&H!=null&&f(e,["parameters","enhancePrompt"],H),o}function zA(t,e,i){const o={},r=d(e,["model"]);r!=null&&f(o,["_url","model"],qe(t,r));const l=d(e,["prompt"]);l!=null&&f(o,["instances[0]","prompt"],l);const c=d(e,["config"]);return c!=null&&BA(c,o),o}function HA(t,e,i){const o={},r=d(e,["model"]);r!=null&&f(o,["_url","model"],qe(t,r));const l=d(e,["prompt"]);l!=null&&f(o,["instances[0]","prompt"],l);const c=d(e,["config"]);return c!=null&&GA(c,o),o}function VA(t,e){const i={},o=d(t,["sdkHttpResponse"]);o!=null&&f(i,["sdkHttpResponse"],o);const r=d(t,["predictions"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(h=>tC(h))),f(i,["generatedImages"],c)}const l=d(t,["positivePromptSafetyAttributes"]);return l!=null&&f(i,["positivePromptSafetyAttributes"],uv(l)),i}function FA(t,e){const i={},o=d(t,["sdkHttpResponse"]);o!=null&&f(i,["sdkHttpResponse"],o);const r=d(t,["predictions"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(h=>au(h))),f(i,["generatedImages"],c)}const l=d(t,["positivePromptSafetyAttributes"]);return l!=null&&f(i,["positivePromptSafetyAttributes"],cv(l)),i}function $A(t,e,i){const o={},r=d(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&f(e,["parameters","sampleCount"],r),d(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const l=d(t,["durationSeconds"]);if(e!==void 0&&l!=null&&f(e,["parameters","durationSeconds"],l),d(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=d(t,["aspectRatio"]);e!==void 0&&c!=null&&f(e,["parameters","aspectRatio"],c);const h=d(t,["resolution"]);e!==void 0&&h!=null&&f(e,["parameters","resolution"],h);const g=d(t,["personGeneration"]);if(e!==void 0&&g!=null&&f(e,["parameters","personGeneration"],g),d(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const p=d(t,["negativePrompt"]);e!==void 0&&p!=null&&f(e,["parameters","negativePrompt"],p);const v=d(t,["enhancePrompt"]);if(e!==void 0&&v!=null&&f(e,["parameters","enhancePrompt"],v),d(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const S=d(t,["lastFrame"]);e!==void 0&&S!=null&&f(e,["instances[0]","lastFrame"],lu(S));const b=d(t,["referenceImages"]);if(e!==void 0&&b!=null){let x=b;Array.isArray(x)&&(x=x.map(A=>JC(A))),f(e,["instances[0]","referenceImages"],x)}if(d(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(d(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return o}function jA(t,e,i){const o={},r=d(t,["numberOfVideos"]);e!==void 0&&r!=null&&f(e,["parameters","sampleCount"],r);const l=d(t,["outputGcsUri"]);e!==void 0&&l!=null&&f(e,["parameters","storageUri"],l);const c=d(t,["fps"]);e!==void 0&&c!=null&&f(e,["parameters","fps"],c);const h=d(t,["durationSeconds"]);e!==void 0&&h!=null&&f(e,["parameters","durationSeconds"],h);const g=d(t,["seed"]);e!==void 0&&g!=null&&f(e,["parameters","seed"],g);const p=d(t,["aspectRatio"]);e!==void 0&&p!=null&&f(e,["parameters","aspectRatio"],p);const v=d(t,["resolution"]);e!==void 0&&v!=null&&f(e,["parameters","resolution"],v);const S=d(t,["personGeneration"]);e!==void 0&&S!=null&&f(e,["parameters","personGeneration"],S);const b=d(t,["pubsubTopic"]);e!==void 0&&b!=null&&f(e,["parameters","pubsubTopic"],b);const x=d(t,["negativePrompt"]);e!==void 0&&x!=null&&f(e,["parameters","negativePrompt"],x);const A=d(t,["enhancePrompt"]);e!==void 0&&A!=null&&f(e,["parameters","enhancePrompt"],A);const C=d(t,["generateAudio"]);e!==void 0&&C!=null&&f(e,["parameters","generateAudio"],C);const R=d(t,["lastFrame"]);e!==void 0&&R!=null&&f(e,["instances[0]","lastFrame"],Rn(R));const k=d(t,["referenceImages"]);if(e!==void 0&&k!=null){let H=k;Array.isArray(H)&&(H=H.map(Y=>KC(Y))),f(e,["instances[0]","referenceImages"],H)}const z=d(t,["mask"]);e!==void 0&&z!=null&&f(e,["instances[0]","mask"],jC(z));const U=d(t,["compressionQuality"]);return e!==void 0&&U!=null&&f(e,["parameters","compressionQuality"],U),o}function JA(t,e){const i={},o=d(t,["name"]);o!=null&&f(i,["name"],o);const r=d(t,["metadata"]);r!=null&&f(i,["metadata"],r);const l=d(t,["done"]);l!=null&&f(i,["done"],l);const c=d(t,["error"]);c!=null&&f(i,["error"],c);const h=d(t,["response","generateVideoResponse"]);return h!=null&&f(i,["response"],QA(h)),i}function KA(t,e){const i={},o=d(t,["name"]);o!=null&&f(i,["name"],o);const r=d(t,["metadata"]);r!=null&&f(i,["metadata"],r);const l=d(t,["done"]);l!=null&&f(i,["done"],l);const c=d(t,["error"]);c!=null&&f(i,["error"],c);const h=d(t,["response"]);return h!=null&&f(i,["response"],WA(h)),i}function YA(t,e,i){const o={},r=d(e,["model"]);r!=null&&f(o,["_url","model"],qe(t,r));const l=d(e,["prompt"]);l!=null&&f(o,["instances[0]","prompt"],l);const c=d(e,["image"]);c!=null&&f(o,["instances[0]","image"],lu(c));const h=d(e,["video"]);h!=null&&f(o,["instances[0]","video"],fv(h));const g=d(e,["source"]);g!=null&&ZA(g,o);const p=d(e,["config"]);return p!=null&&$A(p,o),o}function XA(t,e,i){const o={},r=d(e,["model"]);r!=null&&f(o,["_url","model"],qe(t,r));const l=d(e,["prompt"]);l!=null&&f(o,["instances[0]","prompt"],l);const c=d(e,["image"]);c!=null&&f(o,["instances[0]","image"],Rn(c));const h=d(e,["video"]);h!=null&&f(o,["instances[0]","video"],hv(h));const g=d(e,["source"]);g!=null&&eC(g,o);const p=d(e,["config"]);return p!=null&&jA(p,o),o}function QA(t,e){const i={},o=d(t,["generatedSamples"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(h=>iC(h))),f(i,["generatedVideos"],c)}const r=d(t,["raiMediaFilteredCount"]);r!=null&&f(i,["raiMediaFilteredCount"],r);const l=d(t,["raiMediaFilteredReasons"]);return l!=null&&f(i,["raiMediaFilteredReasons"],l),i}function WA(t,e){const i={},o=d(t,["videos"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(h=>sC(h))),f(i,["generatedVideos"],c)}const r=d(t,["raiMediaFilteredCount"]);r!=null&&f(i,["raiMediaFilteredCount"],r);const l=d(t,["raiMediaFilteredReasons"]);return l!=null&&f(i,["raiMediaFilteredReasons"],l),i}function ZA(t,e,i){const o={},r=d(t,["prompt"]);e!==void 0&&r!=null&&f(e,["instances[0]","prompt"],r);const l=d(t,["image"]);e!==void 0&&l!=null&&f(e,["instances[0]","image"],lu(l));const c=d(t,["video"]);return e!==void 0&&c!=null&&f(e,["instances[0]","video"],fv(c)),o}function eC(t,e,i){const o={},r=d(t,["prompt"]);e!==void 0&&r!=null&&f(e,["instances[0]","prompt"],r);const l=d(t,["image"]);e!==void 0&&l!=null&&f(e,["instances[0]","image"],Rn(l));const c=d(t,["video"]);return e!==void 0&&c!=null&&f(e,["instances[0]","video"],hv(c)),o}function tC(t,e){const i={},o=d(t,["_self"]);o!=null&&f(i,["image"],fC(o));const r=d(t,["raiFilteredReason"]);r!=null&&f(i,["raiFilteredReason"],r);const l=d(t,["_self"]);return l!=null&&f(i,["safetyAttributes"],uv(l)),i}function au(t,e){const i={},o=d(t,["_self"]);o!=null&&f(i,["image"],lv(o));const r=d(t,["raiFilteredReason"]);r!=null&&f(i,["raiFilteredReason"],r);const l=d(t,["_self"]);l!=null&&f(i,["safetyAttributes"],cv(l));const c=d(t,["prompt"]);return c!=null&&f(i,["enhancedPrompt"],c),i}function nC(t,e){const i={},o=d(t,["_self"]);o!=null&&f(i,["mask"],lv(o));const r=d(t,["labels"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>c)),f(i,["labels"],l)}return i}function iC(t,e){const i={},o=d(t,["video"]);return o!=null&&f(i,["video"],FC(o)),i}function sC(t,e){const i={},o=d(t,["_self"]);return o!=null&&f(i,["video"],$C(o)),i}function oC(t,e){const i={},o=d(t,["modelSelectionConfig"]);o!=null&&f(i,["modelConfig"],o);const r=d(t,["responseJsonSchema"]);r!=null&&f(i,["responseJsonSchema"],r);const l=d(t,["audioTimestamp"]);l!=null&&f(i,["audioTimestamp"],l);const c=d(t,["candidateCount"]);c!=null&&f(i,["candidateCount"],c);const h=d(t,["enableAffectiveDialog"]);h!=null&&f(i,["enableAffectiveDialog"],h);const g=d(t,["frequencyPenalty"]);g!=null&&f(i,["frequencyPenalty"],g);const p=d(t,["logprobs"]);p!=null&&f(i,["logprobs"],p);const v=d(t,["maxOutputTokens"]);v!=null&&f(i,["maxOutputTokens"],v);const S=d(t,["mediaResolution"]);S!=null&&f(i,["mediaResolution"],S);const b=d(t,["presencePenalty"]);b!=null&&f(i,["presencePenalty"],b);const x=d(t,["responseLogprobs"]);x!=null&&f(i,["responseLogprobs"],x);const A=d(t,["responseMimeType"]);A!=null&&f(i,["responseMimeType"],A);const C=d(t,["responseModalities"]);C!=null&&f(i,["responseModalities"],C);const R=d(t,["responseSchema"]);R!=null&&f(i,["responseSchema"],R);const k=d(t,["routingConfig"]);k!=null&&f(i,["routingConfig"],k);const z=d(t,["seed"]);z!=null&&f(i,["seed"],z);const U=d(t,["speechConfig"]);U!=null&&f(i,["speechConfig"],U);const H=d(t,["stopSequences"]);H!=null&&f(i,["stopSequences"],H);const Y=d(t,["temperature"]);Y!=null&&f(i,["temperature"],Y);const B=d(t,["thinkingConfig"]);B!=null&&f(i,["thinkingConfig"],B);const K=d(t,["topK"]);K!=null&&f(i,["topK"],K);const fe=d(t,["topP"]);if(fe!=null&&f(i,["topP"],fe),d(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return i}function rC(t,e,i){const o={},r=d(e,["model"]);return r!=null&&f(o,["_url","name"],qe(t,r)),o}function aC(t,e,i){const o={},r=d(e,["model"]);return r!=null&&f(o,["_url","name"],qe(t,r)),o}function lC(t,e){const i={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=d(t,["enableWidget"]);return o!=null&&f(i,["enableWidget"],o),i}function uC(t,e){const i={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=d(t,["timeRangeFilter"]);return o!=null&&f(i,["timeRangeFilter"],o),i}function cC(t,e){const i={},o=d(t,["aspectRatio"]);o!=null&&f(i,["aspectRatio"],o);const r=d(t,["imageSize"]);if(r!=null&&f(i,["imageSize"],r),d(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(d(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(d(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return i}function dC(t,e){const i={},o=d(t,["aspectRatio"]);o!=null&&f(i,["aspectRatio"],o);const r=d(t,["imageSize"]);r!=null&&f(i,["imageSize"],r);const l=d(t,["personGeneration"]);l!=null&&f(i,["personGeneration"],l);const c=d(t,["outputMimeType"]);c!=null&&f(i,["imageOutputOptions","mimeType"],c);const h=d(t,["outputCompressionQuality"]);return h!=null&&f(i,["imageOutputOptions","compressionQuality"],h),i}function fC(t,e){const i={},o=d(t,["bytesBase64Encoded"]);o!=null&&f(i,["imageBytes"],Wi(o));const r=d(t,["mimeType"]);return r!=null&&f(i,["mimeType"],r),i}function lv(t,e){const i={},o=d(t,["gcsUri"]);o!=null&&f(i,["gcsUri"],o);const r=d(t,["bytesBase64Encoded"]);r!=null&&f(i,["imageBytes"],Wi(r));const l=d(t,["mimeType"]);return l!=null&&f(i,["mimeType"],l),i}function lu(t,e){const i={};if(d(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=d(t,["imageBytes"]);o!=null&&f(i,["bytesBase64Encoded"],Wi(o));const r=d(t,["mimeType"]);return r!=null&&f(i,["mimeType"],r),i}function Rn(t,e){const i={},o=d(t,["gcsUri"]);o!=null&&f(i,["gcsUri"],o);const r=d(t,["imageBytes"]);r!=null&&f(i,["bytesBase64Encoded"],Wi(r));const l=d(t,["mimeType"]);return l!=null&&f(i,["mimeType"],l),i}function hC(t,e,i,o){const r={},l=d(e,["pageSize"]);i!==void 0&&l!=null&&f(i,["_query","pageSize"],l);const c=d(e,["pageToken"]);i!==void 0&&c!=null&&f(i,["_query","pageToken"],c);const h=d(e,["filter"]);i!==void 0&&h!=null&&f(i,["_query","filter"],h);const g=d(e,["queryBase"]);return i!==void 0&&g!=null&&f(i,["_url","models_url"],tv(t,g)),r}function pC(t,e,i,o){const r={},l=d(e,["pageSize"]);i!==void 0&&l!=null&&f(i,["_query","pageSize"],l);const c=d(e,["pageToken"]);i!==void 0&&c!=null&&f(i,["_query","pageToken"],c);const h=d(e,["filter"]);i!==void 0&&h!=null&&f(i,["_query","filter"],h);const g=d(e,["queryBase"]);return i!==void 0&&g!=null&&f(i,["_url","models_url"],tv(t,g)),r}function mC(t,e,i){const o={},r=d(e,["config"]);return r!=null&&hC(t,r,o),o}function gC(t,e,i){const o={},r=d(e,["config"]);return r!=null&&pC(t,r,o),o}function yC(t,e){const i={},o=d(t,["sdkHttpResponse"]);o!=null&&f(i,["sdkHttpResponse"],o);const r=d(t,["nextPageToken"]);r!=null&&f(i,["nextPageToken"],r);const l=d(t,["_self"]);if(l!=null){let c=nv(l);Array.isArray(c)&&(c=c.map(h=>Zd(h))),f(i,["models"],c)}return i}function vC(t,e){const i={},o=d(t,["sdkHttpResponse"]);o!=null&&f(i,["sdkHttpResponse"],o);const r=d(t,["nextPageToken"]);r!=null&&f(i,["nextPageToken"],r);const l=d(t,["_self"]);if(l!=null){let c=nv(l);Array.isArray(c)&&(c=c.map(h=>ef(h))),f(i,["models"],c)}return i}function _C(t,e){const i={},o=d(t,["maskMode"]);o!=null&&f(i,["maskMode"],o);const r=d(t,["segmentationClasses"]);r!=null&&f(i,["maskClasses"],r);const l=d(t,["maskDilation"]);return l!=null&&f(i,["dilation"],l),i}function Zd(t,e){const i={},o=d(t,["name"]);o!=null&&f(i,["name"],o);const r=d(t,["displayName"]);r!=null&&f(i,["displayName"],r);const l=d(t,["description"]);l!=null&&f(i,["description"],l);const c=d(t,["version"]);c!=null&&f(i,["version"],c);const h=d(t,["_self"]);h!=null&&f(i,["tunedModelInfo"],OC(h));const g=d(t,["inputTokenLimit"]);g!=null&&f(i,["inputTokenLimit"],g);const p=d(t,["outputTokenLimit"]);p!=null&&f(i,["outputTokenLimit"],p);const v=d(t,["supportedGenerationMethods"]);v!=null&&f(i,["supportedActions"],v);const S=d(t,["temperature"]);S!=null&&f(i,["temperature"],S);const b=d(t,["maxTemperature"]);b!=null&&f(i,["maxTemperature"],b);const x=d(t,["topP"]);x!=null&&f(i,["topP"],x);const A=d(t,["topK"]);A!=null&&f(i,["topK"],A);const C=d(t,["thinking"]);return C!=null&&f(i,["thinking"],C),i}function ef(t,e){const i={},o=d(t,["name"]);o!=null&&f(i,["name"],o);const r=d(t,["displayName"]);r!=null&&f(i,["displayName"],r);const l=d(t,["description"]);l!=null&&f(i,["description"],l);const c=d(t,["versionId"]);c!=null&&f(i,["version"],c);const h=d(t,["deployedModels"]);if(h!=null){let b=h;Array.isArray(b)&&(b=b.map(x=>DA(x))),f(i,["endpoints"],b)}const g=d(t,["labels"]);g!=null&&f(i,["labels"],g);const p=d(t,["_self"]);p!=null&&f(i,["tunedModelInfo"],PC(p));const v=d(t,["defaultCheckpointId"]);v!=null&&f(i,["defaultCheckpointId"],v);const S=d(t,["checkpoints"]);if(S!=null){let b=S;Array.isArray(b)&&(b=b.map(x=>x)),f(i,["checkpoints"],b)}return i}function SC(t,e){const i={},o=d(t,["mediaResolution"]);o!=null&&f(i,["mediaResolution"],o);const r=d(t,["codeExecutionResult"]);r!=null&&f(i,["codeExecutionResult"],r);const l=d(t,["executableCode"]);l!=null&&f(i,["executableCode"],l);const c=d(t,["fileData"]);c!=null&&f(i,["fileData"],kA(c));const h=d(t,["functionCall"]);h!=null&&f(i,["functionCall"],UA(h));const g=d(t,["functionResponse"]);g!=null&&f(i,["functionResponse"],g);const p=d(t,["inlineData"]);p!=null&&f(i,["inlineData"],oA(p));const v=d(t,["text"]);v!=null&&f(i,["text"],v);const S=d(t,["thought"]);S!=null&&f(i,["thought"],S);const b=d(t,["thoughtSignature"]);b!=null&&f(i,["thoughtSignature"],b);const x=d(t,["videoMetadata"]);return x!=null&&f(i,["videoMetadata"],x),i}function bC(t,e){const i={},o=d(t,["productImage"]);return o!=null&&f(i,["image"],Rn(o)),i}function EC(t,e,i){const o={},r=d(t,["numberOfImages"]);e!==void 0&&r!=null&&f(e,["parameters","sampleCount"],r);const l=d(t,["baseSteps"]);e!==void 0&&l!=null&&f(e,["parameters","baseSteps"],l);const c=d(t,["outputGcsUri"]);e!==void 0&&c!=null&&f(e,["parameters","storageUri"],c);const h=d(t,["seed"]);e!==void 0&&h!=null&&f(e,["parameters","seed"],h);const g=d(t,["safetyFilterLevel"]);e!==void 0&&g!=null&&f(e,["parameters","safetySetting"],g);const p=d(t,["personGeneration"]);e!==void 0&&p!=null&&f(e,["parameters","personGeneration"],p);const v=d(t,["addWatermark"]);e!==void 0&&v!=null&&f(e,["parameters","addWatermark"],v);const S=d(t,["outputMimeType"]);e!==void 0&&S!=null&&f(e,["parameters","outputOptions","mimeType"],S);const b=d(t,["outputCompressionQuality"]);e!==void 0&&b!=null&&f(e,["parameters","outputOptions","compressionQuality"],b);const x=d(t,["enhancePrompt"]);e!==void 0&&x!=null&&f(e,["parameters","enhancePrompt"],x);const A=d(t,["labels"]);return e!==void 0&&A!=null&&f(e,["labels"],A),o}function TC(t,e,i){const o={},r=d(e,["model"]);r!=null&&f(o,["_url","model"],qe(t,r));const l=d(e,["source"]);l!=null&&wC(l,o);const c=d(e,["config"]);return c!=null&&EC(c,o),o}function xC(t,e){const i={},o=d(t,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>au(l))),f(i,["generatedImages"],r)}return i}function wC(t,e,i){const o={},r=d(t,["prompt"]);e!==void 0&&r!=null&&f(e,["instances[0]","prompt"],r);const l=d(t,["personImage"]);e!==void 0&&l!=null&&f(e,["instances[0]","personImage","image"],Rn(l));const c=d(t,["productImages"]);if(e!==void 0&&c!=null){let h=c;Array.isArray(h)&&(h=h.map(g=>bC(g))),f(e,["instances[0]","productImages"],h)}return o}function AC(t,e){const i={},o=d(t,["referenceImage"]);o!=null&&f(i,["referenceImage"],Rn(o));const r=d(t,["referenceId"]);r!=null&&f(i,["referenceId"],r);const l=d(t,["referenceType"]);l!=null&&f(i,["referenceType"],l);const c=d(t,["maskImageConfig"]);c!=null&&f(i,["maskImageConfig"],_C(c));const h=d(t,["controlImageConfig"]);h!=null&&f(i,["controlImageConfig"],fA(h));const g=d(t,["styleImageConfig"]);g!=null&&f(i,["styleImageConfig"],g);const p=d(t,["subjectImageConfig"]);return p!=null&&f(i,["subjectImageConfig"],p),i}function uv(t,e){const i={},o=d(t,["safetyAttributes","categories"]);o!=null&&f(i,["categories"],o);const r=d(t,["safetyAttributes","scores"]);r!=null&&f(i,["scores"],r);const l=d(t,["contentType"]);return l!=null&&f(i,["contentType"],l),i}function cv(t,e){const i={},o=d(t,["safetyAttributes","categories"]);o!=null&&f(i,["categories"],o);const r=d(t,["safetyAttributes","scores"]);r!=null&&f(i,["scores"],r);const l=d(t,["contentType"]);return l!=null&&f(i,["contentType"],l),i}function CC(t,e){const i={},o=d(t,["category"]);if(o!=null&&f(i,["category"],o),d(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=d(t,["threshold"]);return r!=null&&f(i,["threshold"],r),i}function NC(t,e){const i={},o=d(t,["image"]);return o!=null&&f(i,["image"],Rn(o)),i}function RC(t,e,i){const o={},r=d(t,["mode"]);e!==void 0&&r!=null&&f(e,["parameters","mode"],r);const l=d(t,["maxPredictions"]);e!==void 0&&l!=null&&f(e,["parameters","maxPredictions"],l);const c=d(t,["confidenceThreshold"]);e!==void 0&&c!=null&&f(e,["parameters","confidenceThreshold"],c);const h=d(t,["maskDilation"]);e!==void 0&&h!=null&&f(e,["parameters","maskDilation"],h);const g=d(t,["binaryColorThreshold"]);e!==void 0&&g!=null&&f(e,["parameters","binaryColorThreshold"],g);const p=d(t,["labels"]);return e!==void 0&&p!=null&&f(e,["labels"],p),o}function IC(t,e,i){const o={},r=d(e,["model"]);r!=null&&f(o,["_url","model"],qe(t,r));const l=d(e,["source"]);l!=null&&DC(l,o);const c=d(e,["config"]);return c!=null&&RC(c,o),o}function MC(t,e){const i={},o=d(t,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>nC(l))),f(i,["generatedMasks"],r)}return i}function DC(t,e,i){const o={},r=d(t,["prompt"]);e!==void 0&&r!=null&&f(e,["instances[0]","prompt"],r);const l=d(t,["image"]);e!==void 0&&l!=null&&f(e,["instances[0]","image"],Rn(l));const c=d(t,["scribbleImage"]);return e!==void 0&&c!=null&&f(e,["instances[0]","scribble"],NC(c)),o}function kC(t,e){const i={},o=d(t,["retrievalConfig"]);o!=null&&f(i,["retrievalConfig"],o);const r=d(t,["functionCallingConfig"]);return r!=null&&f(i,["functionCallingConfig"],OA(r)),i}function UC(t,e){const i={};if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=d(t,["computerUse"]);o!=null&&f(i,["computerUse"],o);const r=d(t,["fileSearch"]);r!=null&&f(i,["fileSearch"],r);const l=d(t,["codeExecution"]);if(l!=null&&f(i,["codeExecution"],l),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=d(t,["functionDeclarations"]);if(c!=null){let S=c;Array.isArray(S)&&(S=S.map(b=>b)),f(i,["functionDeclarations"],S)}const h=d(t,["googleMaps"]);h!=null&&f(i,["googleMaps"],lC(h));const g=d(t,["googleSearch"]);g!=null&&f(i,["googleSearch"],uC(g));const p=d(t,["googleSearchRetrieval"]);p!=null&&f(i,["googleSearchRetrieval"],p);const v=d(t,["urlContext"]);return v!=null&&f(i,["urlContext"],v),i}function dv(t,e){const i={},o=d(t,["retrieval"]);o!=null&&f(i,["retrieval"],o);const r=d(t,["computerUse"]);if(r!=null&&f(i,["computerUse"],r),d(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=d(t,["codeExecution"]);l!=null&&f(i,["codeExecution"],l);const c=d(t,["enterpriseWebSearch"]);c!=null&&f(i,["enterpriseWebSearch"],c);const h=d(t,["functionDeclarations"]);if(h!=null){let b=h;Array.isArray(b)&&(b=b.map(x=>PA(x))),f(i,["functionDeclarations"],b)}const g=d(t,["googleMaps"]);g!=null&&f(i,["googleMaps"],g);const p=d(t,["googleSearch"]);p!=null&&f(i,["googleSearch"],p);const v=d(t,["googleSearchRetrieval"]);v!=null&&f(i,["googleSearchRetrieval"],v);const S=d(t,["urlContext"]);return S!=null&&f(i,["urlContext"],S),i}function OC(t,e){const i={},o=d(t,["baseModel"]);o!=null&&f(i,["baseModel"],o);const r=d(t,["createTime"]);r!=null&&f(i,["createTime"],r);const l=d(t,["updateTime"]);return l!=null&&f(i,["updateTime"],l),i}function PC(t,e){const i={},o=d(t,["labels","google-vertex-llm-tuning-base-model-id"]);o!=null&&f(i,["baseModel"],o);const r=d(t,["createTime"]);r!=null&&f(i,["createTime"],r);const l=d(t,["updateTime"]);return l!=null&&f(i,["updateTime"],l),i}function LC(t,e,i){const o={},r=d(t,["displayName"]);e!==void 0&&r!=null&&f(e,["displayName"],r);const l=d(t,["description"]);e!==void 0&&l!=null&&f(e,["description"],l);const c=d(t,["defaultCheckpointId"]);return e!==void 0&&c!=null&&f(e,["defaultCheckpointId"],c),o}function qC(t,e,i){const o={},r=d(t,["displayName"]);e!==void 0&&r!=null&&f(e,["displayName"],r);const l=d(t,["description"]);e!==void 0&&l!=null&&f(e,["description"],l);const c=d(t,["defaultCheckpointId"]);return e!==void 0&&c!=null&&f(e,["defaultCheckpointId"],c),o}function BC(t,e,i){const o={},r=d(e,["model"]);r!=null&&f(o,["_url","name"],qe(t,r));const l=d(e,["config"]);return l!=null&&LC(l,o),o}function GC(t,e,i){const o={},r=d(e,["model"]);r!=null&&f(o,["_url","model"],qe(t,r));const l=d(e,["config"]);return l!=null&&qC(l,o),o}function zC(t,e,i){const o={},r=d(t,["outputGcsUri"]);e!==void 0&&r!=null&&f(e,["parameters","storageUri"],r);const l=d(t,["safetyFilterLevel"]);e!==void 0&&l!=null&&f(e,["parameters","safetySetting"],l);const c=d(t,["personGeneration"]);e!==void 0&&c!=null&&f(e,["parameters","personGeneration"],c);const h=d(t,["includeRaiReason"]);e!==void 0&&h!=null&&f(e,["parameters","includeRaiReason"],h);const g=d(t,["outputMimeType"]);e!==void 0&&g!=null&&f(e,["parameters","outputOptions","mimeType"],g);const p=d(t,["outputCompressionQuality"]);e!==void 0&&p!=null&&f(e,["parameters","outputOptions","compressionQuality"],p);const v=d(t,["enhanceInputImage"]);e!==void 0&&v!=null&&f(e,["parameters","upscaleConfig","enhanceInputImage"],v);const S=d(t,["imagePreservationFactor"]);e!==void 0&&S!=null&&f(e,["parameters","upscaleConfig","imagePreservationFactor"],S);const b=d(t,["labels"]);e!==void 0&&b!=null&&f(e,["labels"],b);const x=d(t,["numberOfImages"]);e!==void 0&&x!=null&&f(e,["parameters","sampleCount"],x);const A=d(t,["mode"]);return e!==void 0&&A!=null&&f(e,["parameters","mode"],A),o}function HC(t,e,i){const o={},r=d(e,["model"]);r!=null&&f(o,["_url","model"],qe(t,r));const l=d(e,["image"]);l!=null&&f(o,["instances[0]","image"],Rn(l));const c=d(e,["upscaleFactor"]);c!=null&&f(o,["parameters","upscaleConfig","upscaleFactor"],c);const h=d(e,["config"]);return h!=null&&zC(h,o),o}function VC(t,e){const i={},o=d(t,["sdkHttpResponse"]);o!=null&&f(i,["sdkHttpResponse"],o);const r=d(t,["predictions"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>au(c))),f(i,["generatedImages"],l)}return i}function FC(t,e){const i={},o=d(t,["uri"]);o!=null&&f(i,["uri"],o);const r=d(t,["encodedVideo"]);r!=null&&f(i,["videoBytes"],Wi(r));const l=d(t,["encoding"]);return l!=null&&f(i,["mimeType"],l),i}function $C(t,e){const i={},o=d(t,["gcsUri"]);o!=null&&f(i,["uri"],o);const r=d(t,["bytesBase64Encoded"]);r!=null&&f(i,["videoBytes"],Wi(r));const l=d(t,["mimeType"]);return l!=null&&f(i,["mimeType"],l),i}function jC(t,e){const i={},o=d(t,["image"]);o!=null&&f(i,["_self"],Rn(o));const r=d(t,["maskMode"]);return r!=null&&f(i,["maskMode"],r),i}function JC(t,e){const i={},o=d(t,["image"]);o!=null&&f(i,["image"],lu(o));const r=d(t,["referenceType"]);return r!=null&&f(i,["referenceType"],r),i}function KC(t,e){const i={},o=d(t,["image"]);o!=null&&f(i,["image"],Rn(o));const r=d(t,["referenceType"]);return r!=null&&f(i,["referenceType"],r),i}function fv(t,e){const i={},o=d(t,["uri"]);o!=null&&f(i,["uri"],o);const r=d(t,["videoBytes"]);r!=null&&f(i,["encodedVideo"],Wi(r));const l=d(t,["mimeType"]);return l!=null&&f(i,["encoding"],l),i}function hv(t,e){const i={},o=d(t,["uri"]);o!=null&&f(i,["gcsUri"],o);const r=d(t,["videoBytes"]);r!=null&&f(i,["bytesBase64Encoded"],Wi(r));const l=d(t,["mimeType"]);return l!=null&&f(i,["mimeType"],l),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function YC(t,e){const i={},o=d(t,["displayName"]);return e!==void 0&&o!=null&&f(e,["displayName"],o),i}function XC(t){const e={},i=d(t,["config"]);return i!=null&&YC(i,e),e}function QC(t,e){const i={},o=d(t,["force"]);return e!==void 0&&o!=null&&f(e,["_query","force"],o),i}function WC(t){const e={},i=d(t,["name"]);i!=null&&f(e,["_url","name"],i);const o=d(t,["config"]);return o!=null&&QC(o,e),e}function ZC(t){const e={},i=d(t,["name"]);return i!=null&&f(e,["_url","name"],i),e}function e1(t,e){const i={},o=d(t,["customMetadata"]);if(e!==void 0&&o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>c)),f(e,["customMetadata"],l)}const r=d(t,["chunkingConfig"]);return e!==void 0&&r!=null&&f(e,["chunkingConfig"],r),i}function t1(t){const e={},i=d(t,["name"]);i!=null&&f(e,["name"],i);const o=d(t,["metadata"]);o!=null&&f(e,["metadata"],o);const r=d(t,["done"]);r!=null&&f(e,["done"],r);const l=d(t,["error"]);l!=null&&f(e,["error"],l);const c=d(t,["response"]);return c!=null&&f(e,["response"],i1(c)),e}function n1(t){const e={},i=d(t,["fileSearchStoreName"]);i!=null&&f(e,["_url","file_search_store_name"],i);const o=d(t,["fileName"]);o!=null&&f(e,["fileName"],o);const r=d(t,["config"]);return r!=null&&e1(r,e),e}function i1(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const o=d(t,["parent"]);o!=null&&f(e,["parent"],o);const r=d(t,["documentName"]);return r!=null&&f(e,["documentName"],r),e}function s1(t,e){const i={},o=d(t,["pageSize"]);e!==void 0&&o!=null&&f(e,["_query","pageSize"],o);const r=d(t,["pageToken"]);return e!==void 0&&r!=null&&f(e,["_query","pageToken"],r),i}function o1(t){const e={},i=d(t,["config"]);return i!=null&&s1(i,e),e}function r1(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const o=d(t,["nextPageToken"]);o!=null&&f(e,["nextPageToken"],o);const r=d(t,["fileSearchStores"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>c)),f(e,["fileSearchStores"],l)}return e}function pv(t,e){const i={},o=d(t,["mimeType"]);e!==void 0&&o!=null&&f(e,["mimeType"],o);const r=d(t,["displayName"]);e!==void 0&&r!=null&&f(e,["displayName"],r);const l=d(t,["customMetadata"]);if(e!==void 0&&l!=null){let h=l;Array.isArray(h)&&(h=h.map(g=>g)),f(e,["customMetadata"],h)}const c=d(t,["chunkingConfig"]);return e!==void 0&&c!=null&&f(e,["chunkingConfig"],c),i}function a1(t){const e={},i=d(t,["fileSearchStoreName"]);i!=null&&f(e,["_url","file_search_store_name"],i);const o=d(t,["config"]);return o!=null&&pv(o,e),e}function l1(t){const e={},i=d(t,["sdkHttpResponse"]);return i!=null&&f(e,["sdkHttpResponse"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const u1="Content-Type",c1="X-Server-Timeout",d1="User-Agent",tf="x-goog-api-client",f1="1.41.0",h1=`google-genai-sdk/${f1}`,p1="v1beta1",m1="v1beta",g1=5,y1=[408,429,500,502,503,504];class v1{constructor(e){var i,o,r;this.clientOptions=Object.assign({},e),this.customBaseUrl=(i=e.httpOptions)===null||i===void 0?void 0:i.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const l={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const h=e.project&&e.location||!!e.apiKey;this.customBaseUrl&&!h?(l.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?l.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(l.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),l.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:p1}else{if(!this.clientOptions.apiKey)throw new Zr({message:"API key must be set when using the Gemini API.",status:403});l.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:m1,l.baseUrl="https://generativelanguage.googleapis.com/"}l.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=l,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(l,e.httpOptions))}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const o=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&o.push(e.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),i=new URL(e);return i.protocol=i.protocol=="http:"?"ws":"wss",i.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,i,o){const r=[this.getRequestUrlInternal(i)];return o&&r.push(this.getBaseResourcePath()),e!==""&&r.push(e),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e,i){return!(i.baseUrl&&i.baseUrlResourceScope===Yd.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let i=this.clientOptions.httpOptions;e.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e,i),r=this.constructUrl(e.path,i,o);if(e.queryParams)for(const[c,h]of Object.entries(e.queryParams))r.searchParams.append(c,String(h));let l={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else l.body=e.body;return l=await this.includeExtraHttpOptionsToRequestInit(l,i,r.toString(),e.abortSignal),this.unaryApiCall(r,l,e.httpMethod)}patchHttpOptions(e,i){const o=JSON.parse(JSON.stringify(e));for(const[r,l]of Object.entries(i))typeof l=="object"?o[r]=Object.assign(Object.assign({},o[r]),l):l!==void 0&&(o[r]=l);return o}async requestStream(e){let i=this.clientOptions.httpOptions;e.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e,i),r=this.constructUrl(e.path,i,o);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let l={};return l.body=e.body,l=await this.includeExtraHttpOptionsToRequestInit(l,i,r.toString(),e.abortSignal),this.streamApiCall(r,l,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,i,o,r){if(i&&i.timeout||r){const l=new AbortController,c=l.signal;if(i.timeout&&(i==null?void 0:i.timeout)>0){const h=setTimeout(()=>l.abort(),i.timeout);h&&typeof h.unref=="function"&&h.unref()}r&&r.addEventListener("abort",()=>{l.abort()}),e.signal=c}return i&&i.extraBody!==null&&_1(e,i.extraBody),e.headers=await this.getHeadersInternal(i,o),e}async unaryApiCall(e,i,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},i),{method:o})).then(async r=>(await ty(r),new Xd(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(e,i,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},i),{method:o})).then(async r=>(await ty(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(e){return Cn(this,arguments,function*(){var o;const r=(o=e==null?void 0:e.body)===null||o===void 0?void 0:o.getReader(),l=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let c="";const h="data:",g=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:p,value:v}=yield ve(r.read());if(p){if(c.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const S=l.decode(v,{stream:!0});try{const A=JSON.parse(S);if("error"in A){const C=JSON.parse(JSON.stringify(A.error)),R=C.status,k=C.code,z=`got status: ${R}. ${JSON.stringify(A)}`;if(k>=400&&k<600)throw new Zr({message:z,status:k})}}catch(A){if(A.name==="ApiError")throw A}c+=S;let b=-1,x=0;for(;;){b=-1,x=0;for(const R of g){const k=c.indexOf(R);k!==-1&&(b===-1||k<b)&&(b=k,x=R.length)}if(b===-1)break;const A=c.substring(0,b);c=c.substring(b+x);const C=A.trim();if(C.startsWith(h)){const R=C.substring(h.length).trim();try{const k=new Response(R,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield ve(new Xd(k))}catch(k){throw new Error(`exception parsing stream chunk ${R}. ${k}`)}}}}}finally{r.releaseLock()}})}async apiCall(e,i){var o;if(!this.clientOptions.httpOptions||!this.clientOptions.httpOptions.retryOptions)return fetch(e,i);const r=this.clientOptions.httpOptions.retryOptions;return lT(async()=>{const c=await fetch(e,i);if(c.ok)return c;throw y1.includes(c.status)?new Error(`Retryable HTTP Error: ${c.statusText}`):new jy(`Non-retryable exception ${c.statusText} sending request`)},{retries:((o=r.attempts)!==null&&o!==void 0?o:g1)-1})}getDefaultHeaders(){const e={},i=h1+" "+this.clientOptions.userAgentExtra;return e[d1]=i,e[tf]=i,e[u1]="application/json",e}async getHeadersInternal(e,i){const o=new Headers;if(e&&e.headers){for(const[r,l]of Object.entries(e.headers))o.append(r,l);e.timeout&&e.timeout>0&&o.append(c1,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(o,i),o}getFileName(e){var i;let o="";return typeof e=="string"&&(o=e.replace(/[/\\]+$/,""),o=(i=o.split(/[/\\]/).pop())!==null&&i!==void 0?i:""),o}async uploadFile(e,i){var o;const r={};i!=null&&(r.mimeType=i.mimeType,r.name=i.name,r.displayName=i.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const l=this.clientOptions.uploader,c=await l.stat(e);r.sizeBytes=String(c.size);const h=(o=i==null?void 0:i.mimeType)!==null&&o!==void 0?o:c.type;if(h===void 0||h==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=h;const g={file:r},p=this.getFileName(e),v=ne("upload/v1beta/files",g._url),S=await this.fetchUploadUrl(v,r.sizeBytes,r.mimeType,p,g,i==null?void 0:i.httpOptions);return l.upload(e,S,this)}async uploadFileToFileSearchStore(e,i,o){var r;const l=this.clientOptions.uploader,c=await l.stat(i),h=String(c.size),g=(r=o==null?void 0:o.mimeType)!==null&&r!==void 0?r:c.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const p=`upload/v1beta/${e}:uploadToFileSearchStore`,v=this.getFileName(i),S={};o!=null&&pv(o,S);const b=await this.fetchUploadUrl(p,h,g,v,S,o==null?void 0:o.httpOptions);return l.uploadToFileSearchStore(i,b,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,i,o,r,l,c){var h;let g={};c?g=c:g={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i}`,"X-Goog-Upload-Header-Content-Type":`${o}`},r?{"X-Goog-Upload-File-Name":r}:{})};const p=await this.request({path:e,body:JSON.stringify(l),httpMethod:"POST",httpOptions:g});if(!p||!(p!=null&&p.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(h=p==null?void 0:p.headers)===null||h===void 0?void 0:h["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function ty(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const i=t.status;let o;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?o=await t.json():o={error:{message:await t.text(),code:t.status,status:t.statusText}};const r=JSON.stringify(o);throw i>=400&&i<600?new Zr({message:r,status:i}):new Error(r)}}function _1(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let i={};if(typeof t.body=="string"&&t.body.length>0)try{const l=JSON.parse(t.body);if(typeof l=="object"&&l!==null&&!Array.isArray(l))i=l;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function o(l,c){const h=Object.assign({},l);for(const g in c)if(Object.prototype.hasOwnProperty.call(c,g)){const p=c[g],v=h[g];p&&typeof p=="object"&&!Array.isArray(p)&&v&&typeof v=="object"&&!Array.isArray(v)?h[g]=o(v,p):(v&&p&&typeof v!=typeof p&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${g}". Original type: ${typeof v}, New type: ${typeof p}. Overwriting.`),h[g]=p)}return h}const r=o(i,e);t.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const S1="mcp_used/unknown";let b1=!1;function mv(t){for(const e of t)if(E1(e)||typeof e=="object"&&"inputSchema"in e)return!0;return b1}function gv(t){var e;const i=(e=t[tf])!==null&&e!==void 0?e:"";t[tf]=(i+` ${S1}`).trimStart()}function E1(t){return t!==null&&typeof t=="object"&&t instanceof Rf}function T1(t){return Cn(this,arguments,function*(i,o=100){let r,l=0;for(;l<o;){const c=yield ve(i.listTools({cursor:r}));for(const h of c.tools)yield yield ve(h),l++;if(!c.nextCursor)break;r=c.nextCursor}})}class Rf{constructor(e=[],i){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=i}static create(e,i){return new Rf(e,i)}async initialize(){var e,i,o,r;if(this.mcpTools.length>0)return;const l={},c=[];for(const v of this.mcpClients)try{for(var h=!0,g=(i=void 0,Nn(T1(v))),p;p=await g.next(),e=p.done,!e;h=!0){r=p.value,h=!1;const S=r;c.push(S);const b=S.name;if(l[b])throw new Error(`Duplicate function name ${b} found in MCP tools. Please ensure function names are unique.`);l[b]=v}}catch(S){i={error:S}}finally{try{!h&&!e&&(o=g.return)&&await o.call(g)}finally{if(i)throw i.error}}this.mcpTools=c,this.functionNameToMcpClient=l}async tool(){return await this.initialize(),XT(this.mcpTools,this.config)}async callTool(e){await this.initialize();const i=[];for(const o of e)if(o.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[o.name];let l;this.config.timeout&&(l={timeout:this.config.timeout});const c=await r.callTool({name:o.name,arguments:o.args},void 0,l);i.push({functionResponse:{name:o.name,response:c.isError?{error:c}:c}})}return i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function x1(t,e,i){const o=new HT;let r;i.data instanceof Blob?r=JSON.parse(await i.data.text()):r=JSON.parse(i.data),Object.assign(o,r),e(o)}class w1{constructor(e,i,o){this.apiClient=e,this.auth=i,this.webSocketFactory=o}async connect(e){var i,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),l=this.apiClient.getApiVersion(),c=N1(this.apiClient.getDefaultHeaders()),h=this.apiClient.getApiKey(),g=`${r}/ws/google.ai.generativelanguage.${l}.GenerativeService.BidiGenerateMusic?key=${h}`;let p=()=>{};const v=new Promise(U=>{p=U}),S=e.callbacks,b=function(){p({})},x=this.apiClient,A={onopen:b,onmessage:U=>{x1(x,S.onmessage,U)},onerror:(i=S==null?void 0:S.onerror)!==null&&i!==void 0?i:function(U){},onclose:(o=S==null?void 0:S.onclose)!==null&&o!==void 0?o:function(U){}},C=this.webSocketFactory.create(g,C1(c),A);C.connect(),await v;const z={setup:{model:qe(this.apiClient,e.model)}};return C.send(JSON.stringify(z)),new A1(C,this.apiClient)}}class A1{constructor(e,i){this.conn=e,this.apiClient=i}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const i=Yw(e);this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const i=Kw(e);this.conn.send(JSON.stringify(i))}sendPlaybackControl(e){const i={playbackControl:e};this.conn.send(JSON.stringify(i))}play(){this.sendPlaybackControl(Ao.PLAY)}pause(){this.sendPlaybackControl(Ao.PAUSE)}stop(){this.sendPlaybackControl(Ao.STOP)}resetContext(){this.sendPlaybackControl(Ao.RESET_CONTEXT)}close(){this.conn.close()}}function C1(t){const e={};return t.forEach((i,o)=>{e[o]=i}),e}function N1(t){const e=new Headers;for(const[i,o]of Object.entries(t))e.append(i,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const R1="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function I1(t,e,i){const o=new zT;let r;i.data instanceof Blob?r=await i.data.text():i.data instanceof ArrayBuffer?r=new TextDecoder().decode(i.data):r=i.data;const l=JSON.parse(r);if(t.isVertexAI()){const c=Ww(l);Object.assign(o,c)}else Object.assign(o,l);e(o)}class M1{constructor(e,i,o){this.apiClient=e,this.auth=i,this.webSocketFactory=o,this.music=new w1(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var i,o,r,l,c,h;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const g=this.apiClient.getWebsocketBaseUrl(),p=this.apiClient.getApiVersion();let v;const S=this.apiClient.getHeaders();e.config&&e.config.tools&&mv(e.config.tools)&&gv(S);const b=O1(S);if(this.apiClient.isVertexAI()){const te=this.apiClient.getProject(),be=this.apiClient.getLocation(),pe=this.apiClient.getApiKey(),ke=!!te&&!!be||!!pe;this.apiClient.getCustomBaseUrl()&&!ke?v=g:(v=`${g}/ws/google.cloud.aiplatform.${p}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(b,v))}else{const te=this.apiClient.getApiKey();let be="BidiGenerateContent",pe="key";te!=null&&te.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),p!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),be="BidiGenerateContentConstrained",pe="access_token"),v=`${g}/ws/google.ai.generativelanguage.${p}.GenerativeService.${be}?${pe}=${te}`}let x=()=>{};const A=new Promise(te=>{x=te}),C=e.callbacks,R=function(){var te;(te=C==null?void 0:C.onopen)===null||te===void 0||te.call(C),x({})},k=this.apiClient,z={onopen:R,onmessage:te=>{I1(k,C.onmessage,te)},onerror:(i=C==null?void 0:C.onerror)!==null&&i!==void 0?i:function(te){},onclose:(o=C==null?void 0:C.onclose)!==null&&o!==void 0?o:function(te){}},U=this.webSocketFactory.create(v,U1(b),z);U.connect(),await A;let H=qe(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&H.startsWith("publishers/")){const te=this.apiClient.getProject(),be=this.apiClient.getLocation();te&&be&&(H=`projects/${te}/locations/${be}/`+H)}let Y={};this.apiClient.isVertexAI()&&((r=e.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Xl.AUDIO]}:e.config.responseModalities=[Xl.AUDIO]),!((l=e.config)===null||l===void 0)&&l.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const B=(h=(c=e.config)===null||c===void 0?void 0:c.tools)!==null&&h!==void 0?h:[],K=[];for(const te of B)if(this.isCallableTool(te)){const be=te;K.push(await be.tool())}else K.push(te);K.length>0&&(e.config.tools=K);const fe={model:H,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?Y=Jw(this.apiClient,fe):Y=jw(this.apiClient,fe),delete Y.config,U.send(JSON.stringify(Y)),new k1(U,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const D1={turnComplete:!0};class k1{constructor(e,i){this.conn=e,this.apiClient=i}tLiveClientContent(e,i){if(i.turns!==null&&i.turns!==void 0){let o=[];try{o=gn(i.turns),e.isVertexAI()||(o=o.map(r=>ru(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof i.turns}'`)}return{clientContent:{turns:o,turnComplete:i.turnComplete}}}return{clientContent:{turnComplete:i.turnComplete}}}tLiveClienttToolResponse(e,i){let o=[];if(i.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(i.functionResponses)?o=i.functionResponses:o=[i.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(const l of o){if(typeof l!="object"||l===null||!("name"in l)||!("response"in l))throw new Error(`Could not parse function response, type '${typeof l}'.`);if(!e.isVertexAI()&&!("id"in l))throw new Error(R1)}return{toolResponse:{functionResponses:o}}}sendClientContent(e){e=Object.assign(Object.assign({},D1),e);const i=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(i))}sendRealtimeInput(e){let i={};this.apiClient.isVertexAI()?i={realtimeInput:Qw(e)}:i={realtimeInput:Xw(e)},this.conn.send(JSON.stringify(i))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const i=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(i))}close(){this.conn.close()}}function U1(t){const e={};return t.forEach((i,o)=>{e[o]=i}),e}function O1(t){const e=new Headers;for(const[i,o]of Object.entries(t))e.append(i,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ny=10;function iy(t){var e,i,o;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let r=!1;for(const c of(i=t==null?void 0:t.tools)!==null&&i!==void 0?i:[])if(Io(c)){r=!0;break}if(!r)return!0;const l=(o=t==null?void 0:t.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return l&&(l<0||!Number.isInteger(l))||l==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",l),!0):!1}function Io(t){return"callTool"in t&&typeof t.callTool=="function"}function P1(t){var e,i,o;return(o=(i=(e=t.config)===null||e===void 0?void 0:e.tools)===null||i===void 0?void 0:i.some(r=>Io(r)))!==null&&o!==void 0?o:!1}function sy(t){var e;const i=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((o,r)=>{if(Io(o))return;const l=o;l.functionDeclarations&&l.functionDeclarations.length>0&&i.push(r)}),i}function oy(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class L1 extends ai{constructor(e){super(),this.apiClient=e,this.generateContent=async i=>{var o,r,l,c,h;const g=await this.processParamsMaybeAddMcpUsage(i);if(this.maybeMoveToResponseJsonSchem(i),!P1(i)||iy(i.config))return await this.generateContentInternal(g);const p=sy(i);if(p.length>0){const C=p.map(R=>`tools[${R}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${C}.`)}let v,S;const b=gn(g.contents),x=(l=(r=(o=g.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&l!==void 0?l:ny;let A=0;for(;A<x&&(v=await this.generateContentInternal(g),!(!v.functionCalls||v.functionCalls.length===0));){const C=v.candidates[0].content,R=[];for(const k of(h=(c=i.config)===null||c===void 0?void 0:c.tools)!==null&&h!==void 0?h:[])if(Io(k)){const U=await k.callTool(v.functionCalls);R.push(...U)}A++,S={role:"user",parts:R},g.contents=gn(g.contents),g.contents.push(C),g.contents.push(S),oy(g.config)&&(b.push(C),b.push(S))}return oy(g.config)&&(v.automaticFunctionCallingHistory=b),v},this.generateContentStream=async i=>{var o,r,l,c,h;if(this.maybeMoveToResponseJsonSchem(i),iy(i.config)){const S=await this.processParamsMaybeAddMcpUsage(i);return await this.generateContentStreamInternal(S)}const g=sy(i);if(g.length>0){const S=g.map(b=>`tools[${b}]`).join(", ");throw new Error(`Incompatible tools found at ${S}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const p=(l=(r=(o=i==null?void 0:i.config)===null||o===void 0?void 0:o.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||l===void 0?void 0:l.streamFunctionCallArguments,v=(h=(c=i==null?void 0:i.config)===null||c===void 0?void 0:c.automaticFunctionCalling)===null||h===void 0?void 0:h.disable;if(p&&!v)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(i)},this.generateImages=async i=>await this.generateImagesInternal(i).then(o=>{var r;let l;const c=[];if(o!=null&&o.generatedImages)for(const g of o.generatedImages)g&&(g!=null&&g.safetyAttributes)&&((r=g==null?void 0:g.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?l=g==null?void 0:g.safetyAttributes:c.push(g);let h;return l?h={generatedImages:c,positivePromptSafetyAttributes:l,sdkHttpResponse:o.sdkHttpResponse}:h={generatedImages:c,sdkHttpResponse:o.sdkHttpResponse},h}),this.list=async i=>{var o;const c={config:Object.assign(Object.assign({},{queryBase:!0}),i==null?void 0:i.config)};if(this.apiClient.isVertexAI()&&!c.config.queryBase){if(!((o=c.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");c.config.filter="labels.tune-type:*"}return new As(ri.PAGED_ITEM_MODELS,h=>this.listInternal(h),await this.listInternal(c),c)},this.editImage=async i=>{const o={model:i.model,prompt:i.prompt,referenceImages:[],config:i.config};return i.referenceImages&&i.referenceImages&&(o.referenceImages=i.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async i=>{let o={numberOfImages:1,mode:"upscale"};i.config&&(o=Object.assign(Object.assign({},o),i.config));const r={model:i.model,image:i.image,upscaleFactor:i.upscaleFactor,config:o};return await this.upscaleImageInternal(r)},this.generateVideos=async i=>{var o,r,l,c,h,g;if((i.prompt||i.image||i.video)&&i.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((o=i.video)===null||o===void 0)&&o.uri&&(!((r=i.video)===null||r===void 0)&&r.videoBytes)?i.video={uri:i.video.uri,mimeType:i.video.mimeType}:!((c=(l=i.source)===null||l===void 0?void 0:l.video)===null||c===void 0)&&c.uri&&(!((g=(h=i.source)===null||h===void 0?void 0:h.video)===null||g===void 0)&&g.videoBytes)&&(i.source.video={uri:i.source.video.uri,mimeType:i.source.video.mimeType})),await this.generateVideosInternal(i)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var i,o,r;const l=(i=e.config)===null||i===void 0?void 0:i.tools;if(!l)return e;const c=await Promise.all(l.map(async g=>Io(g)?await g.tool():g)),h={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:c})};if(h.config.tools=c,e.config&&e.config.tools&&mv(e.config.tools)){const g=(r=(o=e.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&r!==void 0?r:{};let p=Object.assign({},g);Object.keys(p).length===0&&(p=this.apiClient.getDefaultHeaders()),gv(p),h.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:p})}return h}async initAfcToolsMap(e){var i,o,r;const l=new Map;for(const c of(o=(i=e.config)===null||i===void 0?void 0:i.tools)!==null&&o!==void 0?o:[])if(Io(c)){const h=c,g=await h.tool();for(const p of(r=g.functionDeclarations)!==null&&r!==void 0?r:[]){if(!p.name)throw new Error("Function declaration name is required.");if(l.has(p.name))throw new Error(`Duplicate tool declaration name: ${p.name}`);l.set(p.name,h)}}return l}async processAfcStream(e){var i,o,r;const l=(r=(o=(i=e.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&r!==void 0?r:ny;let c=!1,h=0;const g=await this.initAfcToolsMap(e);return(function(p,v,S){return Cn(this,arguments,function*(){for(var b,x,A,C,R,k;h<l;){c&&(h++,c=!1);const Y=yield ve(p.processParamsMaybeAddMcpUsage(S)),B=yield ve(p.generateContentStreamInternal(Y)),K=[],fe=[];try{for(var z=!0,U=(x=void 0,Nn(B)),H;H=yield ve(U.next()),b=H.done,!b;z=!0){C=H.value,z=!1;const te=C;if(yield yield ve(te),te.candidates&&(!((R=te.candidates[0])===null||R===void 0)&&R.content)){fe.push(te.candidates[0].content);for(const be of(k=te.candidates[0].content.parts)!==null&&k!==void 0?k:[])if(h<l&&be.functionCall){if(!be.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(be.functionCall.name)){const pe=yield ve(v.get(be.functionCall.name).callTool([be.functionCall]));K.push(...pe)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${be.functionCall.name}`)}}}}catch(te){x={error:te}}finally{try{!z&&!b&&(A=U.return)&&(yield ve(A.call(U)))}finally{if(x)throw x.error}}if(K.length>0){c=!0;const te=new jr;te.candidates=[{content:{role:"user",parts:K}}],yield yield ve(te);const be=[];be.push(...fe),be.push({role:"user",parts:K});const pe=gn(S.contents).concat(be);S.contents=pe}else break}})})(this,g,e)}async generateContentInternal(e){var i,o,r,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=W0(this.apiClient,e);return h=ne("{model}:generateContent",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(S=>{const b=S;return b.sdkHttpResponse={headers:v.headers},b})),c.then(v=>{const S=ey(v),b=new jr;return Object.assign(b,S),b})}else{const p=Q0(this.apiClient,e);return h=ne("{model}:generateContent",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const b=S;return b.sdkHttpResponse={headers:v.headers},b})),c.then(v=>{const S=Z0(v),b=new jr;return Object.assign(b,S),b})}}async generateContentStreamInternal(e){var i,o,r,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=W0(this.apiClient,e);return h=ne("{model}:streamGenerateContent?alt=sse",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.requestStream({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),c.then(function(S){return Cn(this,arguments,function*(){var b,x,A,C;try{for(var R=!0,k=Nn(S),z;z=yield ve(k.next()),b=z.done,!b;R=!0){C=z.value,R=!1;const U=C,H=ey(yield ve(U.json()),e);H.sdkHttpResponse={headers:U.headers};const Y=new jr;Object.assign(Y,H),yield yield ve(Y)}}catch(U){x={error:U}}finally{try{!R&&!b&&(A=k.return)&&(yield ve(A.call(k)))}finally{if(x)throw x.error}}})})}else{const p=Q0(this.apiClient,e);return h=ne("{model}:streamGenerateContent?alt=sse",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.requestStream({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}),c.then(function(S){return Cn(this,arguments,function*(){var b,x,A,C;try{for(var R=!0,k=Nn(S),z;z=yield ve(k.next()),b=z.done,!b;R=!0){C=z.value,R=!1;const U=C,H=Z0(yield ve(U.json()),e);H.sdkHttpResponse={headers:U.headers};const Y=new jr;Object.assign(Y,H),yield yield ve(Y)}}catch(U){x={error:U}}finally{try{!R&&!b&&(A=k.return)&&(yield ve(A.call(k)))}finally{if(x)throw x.error}}})})}}async embedContent(e){var i,o,r,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=RA(this.apiClient,e);return h=ne("{model}:predict",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(S=>{const b=S;return b.sdkHttpResponse={headers:v.headers},b})),c.then(v=>{const S=MA(v),b=new U0;return Object.assign(b,S),b})}else{const p=NA(this.apiClient,e);return h=ne("{model}:batchEmbedContents",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const b=S;return b.sdkHttpResponse={headers:v.headers},b})),c.then(v=>{const S=IA(v),b=new U0;return Object.assign(b,S),b})}}async generateImagesInternal(e){var i,o,r,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=HA(this.apiClient,e);return h=ne("{model}:predict",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(S=>{const b=S;return b.sdkHttpResponse={headers:v.headers},b})),c.then(v=>{const S=FA(v),b=new O0;return Object.assign(b,S),b})}else{const p=zA(this.apiClient,e);return h=ne("{model}:predict",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const b=S;return b.sdkHttpResponse={headers:v.headers},b})),c.then(v=>{const S=VA(v),b=new O0;return Object.assign(b,S),b})}}async editImageInternal(e){var i,o;let r,l="",c={};if(this.apiClient.isVertexAI()){const h=xA(this.apiClient,e);return l=ne("{model}:predict",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:g.headers},v})),r.then(g=>{const p=wA(g),v=new RT;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var i,o;let r,l="",c={};if(this.apiClient.isVertexAI()){const h=HC(this.apiClient,e);return l=ne("{model}:predict",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:g.headers},v})),r.then(g=>{const p=VC(g),v=new IT;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var i,o;let r,l="",c={};if(this.apiClient.isVertexAI()){const h=TC(this.apiClient,e);return l=ne("{model}:predict",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),r.then(g=>{const p=xC(g),v=new MT;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var i,o;let r,l="",c={};if(this.apiClient.isVertexAI()){const h=IC(this.apiClient,e);return l=ne("{model}:predict",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),r.then(g=>{const p=MC(g),v=new DT;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var i,o,r,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=aC(this.apiClient,e);return h=ne("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),c.then(v=>ef(v))}else{const p=rC(this.apiClient,e);return h=ne("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),c.then(v=>Zd(v))}}async listInternal(e){var i,o,r,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=gC(this.apiClient,e);return h=ne("{models_url}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(S=>{const b=S;return b.sdkHttpResponse={headers:v.headers},b})),c.then(v=>{const S=vC(v),b=new P0;return Object.assign(b,S),b})}else{const p=mC(this.apiClient,e);return h=ne("{models_url}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const b=S;return b.sdkHttpResponse={headers:v.headers},b})),c.then(v=>{const S=yC(v),b=new P0;return Object.assign(b,S),b})}}async update(e){var i,o,r,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=GC(this.apiClient,e);return h=ne("{model}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),c.then(v=>ef(v))}else{const p=BC(this.apiClient,e);return h=ne("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),c.then(v=>Zd(v))}}async delete(e){var i,o,r,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=SA(this.apiClient,e);return h=ne("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(S=>{const b=S;return b.sdkHttpResponse={headers:v.headers},b})),c.then(v=>{const S=EA(v),b=new L0;return Object.assign(b,S),b})}else{const p=_A(this.apiClient,e);return h=ne("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const b=S;return b.sdkHttpResponse={headers:v.headers},b})),c.then(v=>{const S=bA(v),b=new L0;return Object.assign(b,S),b})}}async countTokens(e){var i,o,r,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=gA(this.apiClient,e);return h=ne("{model}:countTokens",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(S=>{const b=S;return b.sdkHttpResponse={headers:v.headers},b})),c.then(v=>{const S=vA(v),b=new q0;return Object.assign(b,S),b})}else{const p=mA(this.apiClient,e);return h=ne("{model}:countTokens",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const b=S;return b.sdkHttpResponse={headers:v.headers},b})),c.then(v=>{const S=yA(v),b=new q0;return Object.assign(b,S),b})}}async computeTokens(e){var i,o;let r,l="",c={};if(this.apiClient.isVertexAI()){const h=lA(this.apiClient,e);return l=ne("{model}:computeTokens",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:g.headers},v})),r.then(g=>{const p=uA(g),v=new kT;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var i,o,r,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=XA(this.apiClient,e);return h=ne("{model}:predictLongRunning",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),c.then(v=>{const S=KA(v),b=new Ql;return Object.assign(b,S),b})}else{const p=YA(this.apiClient,e);return h=ne("{model}:predictLongRunning",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),c.then(v=>{const S=JA(v),b=new Ql;return Object.assign(b,S),b})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class q1 extends ai{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const i=e.operation,o=e.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=i.name.split("/operations/")[0];let l;o&&"httpOptions"in o&&(l=o.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:r,config:{httpOptions:l}});return i._fromAPIResponse({apiResponse:c,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:i.name,config:o});return i._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(e){const i=e.operation,o=e.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=i.name.split("/operations/")[0];let l;o&&"httpOptions"in o&&(l=o.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:r,config:{httpOptions:l}});return i._fromAPIResponse({apiResponse:c,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:i.name,config:o});return i._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(e){var i,o,r,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=TT(e);return h=ne("{operationName}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),c}else{const p=ET(e);return h=ne("{operationName}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),c}}async fetchPredictVideosOperationInternal(e){var i,o;let r,l="",c={};if(this.apiClient.isVertexAI()){const h=mT(e);return l=ne("{resourceName}:fetchPredictOperation",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function B1(t){const e={},i=d(t,["data"]);if(i!=null&&f(e,["data"],i),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=d(t,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}function G1(t){const e={},i=d(t,["parts"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>Y1(l))),f(e,["parts"],r)}const o=d(t,["role"]);return o!=null&&f(e,["role"],o),e}function z1(t,e,i){const o={},r=d(e,["expireTime"]);i!==void 0&&r!=null&&f(i,["expireTime"],r);const l=d(e,["newSessionExpireTime"]);i!==void 0&&l!=null&&f(i,["newSessionExpireTime"],l);const c=d(e,["uses"]);i!==void 0&&c!=null&&f(i,["uses"],c);const h=d(e,["liveConnectConstraints"]);i!==void 0&&h!=null&&f(i,["bidiGenerateContentSetup"],K1(t,h));const g=d(e,["lockAdditionalFields"]);return i!==void 0&&g!=null&&f(i,["fieldMask"],g),o}function H1(t,e){const i={},o=d(e,["config"]);return o!=null&&f(i,["config"],z1(t,o,i)),i}function V1(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["fileUri"]);i!=null&&f(e,["fileUri"],i);const o=d(t,["mimeType"]);return o!=null&&f(e,["mimeType"],o),e}function F1(t){const e={},i=d(t,["id"]);i!=null&&f(e,["id"],i);const o=d(t,["args"]);o!=null&&f(e,["args"],o);const r=d(t,["name"]);if(r!=null&&f(e,["name"],r),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function $1(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=d(t,["enableWidget"]);return i!=null&&f(e,["enableWidget"],i),e}function j1(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=d(t,["timeRangeFilter"]);return i!=null&&f(e,["timeRangeFilter"],i),e}function J1(t,e){const i={},o=d(t,["generationConfig"]);e!==void 0&&o!=null&&f(e,["setup","generationConfig"],o);const r=d(t,["responseModalities"]);e!==void 0&&r!=null&&f(e,["setup","generationConfig","responseModalities"],r);const l=d(t,["temperature"]);e!==void 0&&l!=null&&f(e,["setup","generationConfig","temperature"],l);const c=d(t,["topP"]);e!==void 0&&c!=null&&f(e,["setup","generationConfig","topP"],c);const h=d(t,["topK"]);e!==void 0&&h!=null&&f(e,["setup","generationConfig","topK"],h);const g=d(t,["maxOutputTokens"]);e!==void 0&&g!=null&&f(e,["setup","generationConfig","maxOutputTokens"],g);const p=d(t,["mediaResolution"]);e!==void 0&&p!=null&&f(e,["setup","generationConfig","mediaResolution"],p);const v=d(t,["seed"]);e!==void 0&&v!=null&&f(e,["setup","generationConfig","seed"],v);const S=d(t,["speechConfig"]);e!==void 0&&S!=null&&f(e,["setup","generationConfig","speechConfig"],Nf(S));const b=d(t,["thinkingConfig"]);e!==void 0&&b!=null&&f(e,["setup","generationConfig","thinkingConfig"],b);const x=d(t,["enableAffectiveDialog"]);e!==void 0&&x!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],x);const A=d(t,["systemInstruction"]);e!==void 0&&A!=null&&f(e,["setup","systemInstruction"],G1(kt(A)));const C=d(t,["tools"]);if(e!==void 0&&C!=null){let B=Uo(C);Array.isArray(B)&&(B=B.map(K=>Q1(ko(K)))),f(e,["setup","tools"],B)}const R=d(t,["sessionResumption"]);e!==void 0&&R!=null&&f(e,["setup","sessionResumption"],X1(R));const k=d(t,["inputAudioTranscription"]);e!==void 0&&k!=null&&f(e,["setup","inputAudioTranscription"],k);const z=d(t,["outputAudioTranscription"]);e!==void 0&&z!=null&&f(e,["setup","outputAudioTranscription"],z);const U=d(t,["realtimeInputConfig"]);e!==void 0&&U!=null&&f(e,["setup","realtimeInputConfig"],U);const H=d(t,["contextWindowCompression"]);e!==void 0&&H!=null&&f(e,["setup","contextWindowCompression"],H);const Y=d(t,["proactivity"]);if(e!==void 0&&Y!=null&&f(e,["setup","proactivity"],Y),d(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return i}function K1(t,e){const i={},o=d(e,["model"]);o!=null&&f(i,["setup","model"],qe(t,o));const r=d(e,["config"]);return r!=null&&f(i,["config"],J1(r,i)),i}function Y1(t){const e={},i=d(t,["mediaResolution"]);i!=null&&f(e,["mediaResolution"],i);const o=d(t,["codeExecutionResult"]);o!=null&&f(e,["codeExecutionResult"],o);const r=d(t,["executableCode"]);r!=null&&f(e,["executableCode"],r);const l=d(t,["fileData"]);l!=null&&f(e,["fileData"],V1(l));const c=d(t,["functionCall"]);c!=null&&f(e,["functionCall"],F1(c));const h=d(t,["functionResponse"]);h!=null&&f(e,["functionResponse"],h);const g=d(t,["inlineData"]);g!=null&&f(e,["inlineData"],B1(g));const p=d(t,["text"]);p!=null&&f(e,["text"],p);const v=d(t,["thought"]);v!=null&&f(e,["thought"],v);const S=d(t,["thoughtSignature"]);S!=null&&f(e,["thoughtSignature"],S);const b=d(t,["videoMetadata"]);return b!=null&&f(e,["videoMetadata"],b),e}function X1(t){const e={},i=d(t,["handle"]);if(i!=null&&f(e,["handle"],i),d(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Q1(t){const e={};if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=d(t,["computerUse"]);i!=null&&f(e,["computerUse"],i);const o=d(t,["fileSearch"]);o!=null&&f(e,["fileSearch"],o);const r=d(t,["codeExecution"]);if(r!=null&&f(e,["codeExecution"],r),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const l=d(t,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(S=>S)),f(e,["functionDeclarations"],v)}const c=d(t,["googleMaps"]);c!=null&&f(e,["googleMaps"],$1(c));const h=d(t,["googleSearch"]);h!=null&&f(e,["googleSearch"],j1(h));const g=d(t,["googleSearchRetrieval"]);g!=null&&f(e,["googleSearchRetrieval"],g);const p=d(t,["urlContext"]);return p!=null&&f(e,["urlContext"],p),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function W1(t){const e=[];for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)){const o=t[i];if(typeof o=="object"&&o!=null&&Object.keys(o).length>0){const r=Object.keys(o).map(l=>`${i}.${l}`);e.push(...r)}else e.push(i)}return e.join(",")}function Z1(t,e){let i=null;const o=t.bidiGenerateContentSetup;if(typeof o=="object"&&o!==null&&"setup"in o){const l=o.setup;typeof l=="object"&&l!==null?(t.bidiGenerateContentSetup=l,i=l):delete t.bidiGenerateContentSetup}else o!==void 0&&delete t.bidiGenerateContentSetup;const r=t.fieldMask;if(i){const l=W1(i);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)l?t.fieldMask=l:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const c=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let h=[];r.length>0&&(h=r.map(p=>c.includes(p)?`generationConfig.${p}`:p));const g=[];l&&g.push(l),h.length>0&&g.push(...h),g.length>0?t.fieldMask=g.join(","):delete t.fieldMask}else delete t.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?t.fieldMask=r.join(","):delete t.fieldMask;return t}class eN extends ai{constructor(e){super(),this.apiClient=e}async create(e){var i,o;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const h=H1(this.apiClient,e);l=ne("auth_tokens",h._url),c=h._query,delete h.config,delete h._url,delete h._query;const g=Z1(h,e.config);return r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),r.then(p=>p)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tN(t,e){const i={},o=d(t,["force"]);return e!==void 0&&o!=null&&f(e,["_query","force"],o),i}function nN(t){const e={},i=d(t,["name"]);i!=null&&f(e,["_url","name"],i);const o=d(t,["config"]);return o!=null&&tN(o,e),e}function iN(t){const e={},i=d(t,["name"]);return i!=null&&f(e,["_url","name"],i),e}function sN(t,e){const i={},o=d(t,["pageSize"]);e!==void 0&&o!=null&&f(e,["_query","pageSize"],o);const r=d(t,["pageToken"]);return e!==void 0&&r!=null&&f(e,["_query","pageToken"],r),i}function oN(t){const e={},i=d(t,["parent"]);i!=null&&f(e,["_url","parent"],i);const o=d(t,["config"]);return o!=null&&sN(o,e),e}function rN(t){const e={},i=d(t,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const o=d(t,["nextPageToken"]);o!=null&&f(e,["nextPageToken"],o);const r=d(t,["documents"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>c)),f(e,["documents"],l)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class aN extends ai{constructor(e){super(),this.apiClient=e,this.list=async i=>new As(ri.PAGED_ITEM_DOCUMENTS,o=>this.listInternal({parent:i.parent,config:o.config}),await this.listInternal(i),i)}async get(e){var i,o;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=iN(e);return l=ne("{name}",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),r.then(g=>g)}}async delete(e){var i,o;let r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=nN(e);r=ne("{name}",c._url),l=c._query,delete c._url,delete c._query,await this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var i,o;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=oN(e);return l=ne("{parent}/documents",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),r.then(g=>{const p=rN(g),v=new UT;return Object.assign(v,p),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lN extends ai{constructor(e,i=new aN(e)){super(),this.apiClient=e,this.documents=i,this.list=async(o={})=>new As(ri.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(o),o)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var i,o;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=XC(e);return l=ne("fileSearchStores",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),r.then(g=>g)}}async get(e){var i,o;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=ZC(e);return l=ne("{name}",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),r.then(g=>g)}}async delete(e){var i,o;let r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=WC(e);r=ne("{name}",c._url),l=c._query,delete c._url,delete c._query,await this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var i,o;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=o1(e);return l=ne("fileSearchStores",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),r.then(g=>{const p=r1(g),v=new OT;return Object.assign(v,p),v})}}async uploadToFileSearchStoreInternal(e){var i,o;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=a1(e);return l=ne("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),r.then(g=>{const p=l1(g),v=new PT;return Object.assign(v,p),v})}}async importFile(e){var i,o;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=n1(e);return l=ne("{file_search_store_name}:importFile",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json()),r.then(g=>{const p=t1(g),v=new Tf;return Object.assign(v,p),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let yv=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return yv=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),i=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,o=>(+o^i()&15>>+o/4).toString(16))};const uN=()=>yv();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nf(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const sf=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yn extends Error{}class qt extends yn{constructor(e,i,o,r){super(`${qt.makeMessage(e,i,o)}`),this.status=e,this.headers=r,this.error=i}static makeMessage(e,i,o){const r=i!=null&&i.message?typeof i.message=="string"?i.message:JSON.stringify(i.message):i?JSON.stringify(i):o;return e&&r?`${e} ${r}`:e?`${e} status code (no body)`:r||"(no status code or body)"}static generate(e,i,o,r){if(!e||!r)return new uu({message:o,cause:sf(i)});const l=i;return e===400?new _v(e,l,o,r):e===401?new Sv(e,l,o,r):e===403?new bv(e,l,o,r):e===404?new Ev(e,l,o,r):e===409?new Tv(e,l,o,r):e===422?new xv(e,l,o,r):e===429?new wv(e,l,o,r):e>=500?new Av(e,l,o,r):new qt(e,l,o,r)}}class of extends qt{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class uu extends qt{constructor({message:e,cause:i}){super(void 0,void 0,e||"Connection error.",void 0),i&&(this.cause=i)}}class vv extends uu{constructor({message:e}={}){super({message:e??"Request timed out."})}}class _v extends qt{}class Sv extends qt{}class bv extends qt{}class Ev extends qt{}class Tv extends qt{}class xv extends qt{}class wv extends qt{}class Av extends qt{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const cN=/^[a-z][a-z0-9+.-]*:/i,dN=t=>cN.test(t);let rf=t=>(rf=Array.isArray,rf(t));const fN=rf;let hN=fN;const ry=hN;function pN(t){if(!t)return!0;for(const e in t)return!1;return!0}function mN(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const gN=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new yn(`${t} must be an integer`);if(e<0)throw new yn(`${t} must be a positive integer`);return e},yN=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vN=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const To="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _N(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const SN=()=>{var t,e,i,o,r;const l=_N();if(l==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":To,"X-Stainless-OS":ly(Deno.build.os),"X-Stainless-Arch":ay(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":To,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(l==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":To,"X-Stainless-OS":ly((i=globalThis.process.platform)!==null&&i!==void 0?i:"unknown"),"X-Stainless-Arch":ay((o=globalThis.process.arch)!==null&&o!==void 0?o:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};const c=bN();return c?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":To,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${c.browser}`,"X-Stainless-Runtime-Version":c.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":To,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function bN(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:i}of t){const o=i.exec(navigator.userAgent);if(o){const r=o[1]||0,l=o[2]||0,c=o[3]||0;return{browser:e,version:`${r}.${l}.${c}`}}}return null}const ay=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",ly=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let Pl;const EN=()=>Pl??(Pl=SN());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function TN(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Cv(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function xN(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return Cv({start(){},async pull(i){const{done:o,value:r}=await e.next();o?i.close():i.enqueue(r)},async cancel(){var i;await((i=e.return)===null||i===void 0?void 0:i.call(e))}})}function Nv(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const i=await e.read();return i!=null&&i.done&&e.releaseLock(),i}catch(i){throw e.releaseLock(),i}},async return(){const i=e.cancel();return e.releaseLock(),await i,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function wN(t){var e,i;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((i=(e=t[Symbol.asyncIterator]()).return)===null||i===void 0?void 0:i.call(e));return}const o=t.getReader(),r=o.cancel();o.releaseLock(),await r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const AN=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Rv=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,i=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(i?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Pd(t,e,i){return Rv(),new File(t,e??"unknown_file",i)}function CN(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const NN=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Iv=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",RN=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&Iv(t),IN=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function MN(t,e,i){if(Rv(),t=await t,RN(t))return t instanceof File?t:Pd([await t.arrayBuffer()],t.name);if(IN(t)){const r=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),Pd(await af(r),e,i)}const o=await af(t);if(e||(e=CN(t)),!(i!=null&&i.type)){const r=o.find(l=>typeof l=="object"&&"type"in l&&l.type);typeof r=="string"&&(i=Object.assign(Object.assign({},i),{type:r}))}return Pd(o,e,i)}async function af(t){var e,i,o,r,l;let c=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)c.push(t);else if(Iv(t))c.push(t instanceof Blob?t:await t.arrayBuffer());else if(NN(t))try{for(var h=!0,g=Nn(t),p;p=await g.next(),e=p.done,!e;h=!0){r=p.value,h=!1;const v=r;c.push(...await af(v))}}catch(v){i={error:v}}finally{try{!h&&!e&&(o=g.return)&&await o.call(g)}finally{if(i)throw i.error}}else{const v=(l=t==null?void 0:t.constructor)===null||l===void 0?void 0:l.name;throw new Error(`Unexpected data type: ${typeof t}${v?`; constructor: ${v}`:""}${DN(t)}`)}return c}function DN(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(i=>`"${i}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Mv{constructor(e){this._client=e}}Mv._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Dv(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const uy=Object.freeze(Object.create(null)),kN=(t=Dv)=>(function(i,...o){if(i.length===1)return i[0];let r=!1;const l=[],c=i.reduce((v,S,b)=>{var x,A,C;/[?#]/.test(S)&&(r=!0);const R=o[b];let k=(r?encodeURIComponent:t)(""+R);return b!==o.length&&(R==null||typeof R=="object"&&R.toString===((C=Object.getPrototypeOf((A=Object.getPrototypeOf((x=R.hasOwnProperty)!==null&&x!==void 0?x:uy))!==null&&A!==void 0?A:uy))===null||C===void 0?void 0:C.toString))&&(k=R+"",l.push({start:v.length+S.length,length:k.length,error:`Value of type ${Object.prototype.toString.call(R).slice(8,-1)} is not a valid path parameter`})),v+S+(b===o.length?"":k)},""),h=c.split(/[?#]/,1)[0],g=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let p;for(;(p=g.exec(h))!==null;)l.push({start:p.index,length:p[0].length,error:`Value "${p[0]}" can't be safely passed as a path parameter`});if(l.sort((v,S)=>v.start-S.start),l.length>0){let v=0;const S=l.reduce((b,x)=>{const A=" ".repeat(x.start-v),C="^".repeat(x.length);return v=x.start+x.length,b+A+C},"");throw new yn(`Path parameters result in path with invalid segments:
${l.map(b=>b.error).join(`
`)}
${c}
${S}`)}return c}),Ll=kN(Dv);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kv extends Mv{create(e,i){var o;const{api_version:r=this._client.apiVersion}=e,l=Zl(e,["api_version"]);if("model"in l&&"agent_config"in l)throw new yn("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in l&&"generation_config"in l)throw new yn("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Ll`/${r}/interactions`,Object.assign(Object.assign({body:l},i),{stream:(o=e.stream)!==null&&o!==void 0?o:!1}))}delete(e,i={},o){const{api_version:r=this._client.apiVersion}=i??{};return this._client.delete(Ll`/${r}/interactions/${e}`,o)}cancel(e,i={},o){const{api_version:r=this._client.apiVersion}=i??{};return this._client.post(Ll`/${r}/interactions/${e}/cancel`,o)}get(e,i={},o){var r;const l=i??{},{api_version:c=this._client.apiVersion}=l,h=Zl(l,["api_version"]);return this._client.get(Ll`/${c}/interactions/${e}`,Object.assign(Object.assign({query:h},o),{stream:(r=i==null?void 0:i.stream)!==null&&r!==void 0?r:!1}))}}kv._key=Object.freeze(["interactions"]);class Uv extends kv{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function UN(t){let e=0;for(const r of t)e+=r.length;const i=new Uint8Array(e);let o=0;for(const r of t)i.set(r,o),o+=r.length;return i}let ql;function If(t){let e;return(ql??(e=new globalThis.TextEncoder,ql=e.encode.bind(e)))(t)}let Bl;function cy(t){let e;return(Bl??(e=new globalThis.TextDecoder,Bl=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cu{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const i=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?If(e):e;this.buffer=UN([this.buffer,i]);const o=[];let r;for(;(r=ON(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){o.push(cy(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const l=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,c=cy(this.buffer.subarray(0,l));o.push(c),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return o}flush(){return this.buffer.length?this.decode(`
`):[]}}cu.NEWLINE_CHARS=new Set([`
`,"\r"]);cu.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function ON(t,e){for(let r=e??0;r<t.length;r++){if(t[r]===10)return{preceding:r,index:r+1,carriage:!1};if(t[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function PN(t){for(let o=0;o<t.length-1;o++){if(t[o]===10&&t[o+1]===10||t[o]===13&&t[o+1]===13)return o+2;if(t[o]===13&&t[o+1]===10&&o+3<t.length&&t[o+2]===13&&t[o+3]===10)return o+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const eu={off:0,error:200,warn:300,info:400,debug:500},dy=(t,e,i)=>{if(t){if(mN(eu,t))return t;Lt(i).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(eu))}`)}};function Yr(){}function Gl(t,e,i){return!e||eu[t]>eu[i]?Yr:e[t].bind(e)}const LN={error:Yr,warn:Yr,info:Yr,debug:Yr};let fy=new WeakMap;function Lt(t){var e;const i=t.logger,o=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!i)return LN;const r=fy.get(i);if(r&&r[0]===o)return r[1];const l={error:Gl("error",i,o),warn:Gl("warn",i,o),info:Gl("info",i,o),debug:Gl("debug",i,o)};return fy.set(i,[o,l]),l}const bs=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,i])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":i]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Co{constructor(e,i,o){this.iterator=e,this.controller=i,this.client=o}static fromSSEResponse(e,i,o){let r=!1;const l=o?Lt(o):console;function c(){return Cn(this,arguments,function*(){var g,p,v,S;if(r)throw new yn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let b=!1;try{try{for(var x=!0,A=Nn(qN(e,i)),C;C=yield ve(A.next()),g=C.done,!g;x=!0){S=C.value,x=!1;const R=S;if(!b)if(R.data.startsWith("[DONE]")){b=!0;continue}else try{yield yield ve(JSON.parse(R.data))}catch(k){throw l.error("Could not parse message into JSON:",R.data),l.error("From chunk:",R.raw),k}}}catch(R){p={error:R}}finally{try{!x&&!g&&(v=A.return)&&(yield ve(v.call(A)))}finally{if(p)throw p.error}}b=!0}catch(R){if(nf(R))return yield ve(void 0);throw R}finally{b||i.abort()}})}return new Co(c,i,o)}static fromReadableStream(e,i,o){let r=!1;function l(){return Cn(this,arguments,function*(){var g,p,v,S;const b=new cu,x=Nv(e);try{for(var A=!0,C=Nn(x),R;R=yield ve(C.next()),g=R.done,!g;A=!0){S=R.value,A=!1;const k=S;for(const z of b.decode(k))yield yield ve(z)}}catch(k){p={error:k}}finally{try{!A&&!g&&(v=C.return)&&(yield ve(v.call(C)))}finally{if(p)throw p.error}}for(const k of b.flush())yield yield ve(k)})}function c(){return Cn(this,arguments,function*(){var g,p,v,S;if(r)throw new yn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let b=!1;try{try{for(var x=!0,A=Nn(l()),C;C=yield ve(A.next()),g=C.done,!g;x=!0){S=C.value,x=!1;const R=S;b||R&&(yield yield ve(JSON.parse(R)))}}catch(R){p={error:R}}finally{try{!x&&!g&&(v=A.return)&&(yield ve(v.call(A)))}finally{if(p)throw p.error}}b=!0}catch(R){if(nf(R))return yield ve(void 0);throw R}finally{b||i.abort()}})}return new Co(c,i,o)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],i=[],o=this.iterator(),r=l=>({next:()=>{if(l.length===0){const c=o.next();e.push(c),i.push(c)}return l.shift()}});return[new Co(()=>r(e),this.controller,this.client),new Co(()=>r(i),this.controller,this.client)]}toReadableStream(){const e=this;let i;return Cv({async start(){i=e[Symbol.asyncIterator]()},async pull(o){try{const{value:r,done:l}=await i.next();if(l)return o.close();const c=If(JSON.stringify(r)+`
`);o.enqueue(c)}catch(r){o.error(r)}},async cancel(){var o;await((o=i.return)===null||o===void 0?void 0:o.call(i))}})}}function qN(t,e){return Cn(this,arguments,function*(){var o,r,l,c;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new yn("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new yn("Attempted to iterate over a response with no body");const h=new GN,g=new cu,p=Nv(t.body);try{for(var v=!0,S=Nn(BN(p)),b;b=yield ve(S.next()),o=b.done,!o;v=!0){c=b.value,v=!1;const x=c;for(const A of g.decode(x)){const C=h.decode(A);C&&(yield yield ve(C))}}}catch(x){r={error:x}}finally{try{!v&&!o&&(l=S.return)&&(yield ve(l.call(S)))}finally{if(r)throw r.error}}for(const x of g.flush()){const A=h.decode(x);A&&(yield yield ve(A))}})}function BN(t){return Cn(this,arguments,function*(){var i,o,r,l;let c=new Uint8Array;try{for(var h=!0,g=Nn(t),p;p=yield ve(g.next()),i=p.done,!i;h=!0){l=p.value,h=!1;const v=l;if(v==null)continue;const S=v instanceof ArrayBuffer?new Uint8Array(v):typeof v=="string"?If(v):v;let b=new Uint8Array(c.length+S.length);b.set(c),b.set(S,c.length),c=b;let x;for(;(x=PN(c))!==-1;)yield yield ve(c.slice(0,x)),c=c.slice(x)}}catch(v){o={error:v}}finally{try{!h&&!i&&(r=g.return)&&(yield ve(r.call(g)))}finally{if(o)throw o.error}}c.length>0&&(yield yield ve(c))})}class GN{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const l={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],l}if(this.chunks.push(e),e.startsWith(":"))return null;let[i,o,r]=zN(e,":");return r.startsWith(" ")&&(r=r.substring(1)),i==="event"?this.event=r:i==="data"&&this.data.push(r),null}}function zN(t,e){const i=t.indexOf(e);return i!==-1?[t.substring(0,i),e,t.substring(i+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function HN(t,e){const{response:i,requestLogID:o,retryOfRequestLogID:r,startTime:l}=e,c=await(async()=>{var h;if(e.options.stream)return Lt(t).debug("response",i.status,i.url,i.headers,i.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(i,e.controller,t):Co.fromSSEResponse(i,e.controller,t);if(i.status===204)return null;if(e.options.__binaryResponse)return i;const g=i.headers.get("content-type"),p=(h=g==null?void 0:g.split(";")[0])===null||h===void 0?void 0:h.trim();return(p==null?void 0:p.includes("application/json"))||(p==null?void 0:p.endsWith("+json"))?i.headers.get("content-length")==="0"?void 0:await i.json():await i.text()})();return Lt(t).debug(`[${o}] response parsed`,bs({retryOfRequestLogID:r,url:i.url,status:i.status,body:c,durationMs:Date.now()-l})),c}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Mf extends Promise{constructor(e,i,o=HN){super(r=>{r(null)}),this.responsePromise=i,this.parseResponse=o,this.client=e}_thenUnwrap(e){return new Mf(this.client,this.responsePromise,async(i,o)=>e(await this.parseResponse(i,o),o))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,i]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:i}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,i){return this.parse().then(e,i)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ov=Symbol("brand.privateNullableHeaders");function*VN(t){if(!t)return;if(Ov in t){const{values:o,nulls:r}=t;yield*o.entries();for(const l of r)yield[l,null];return}let e=!1,i;t instanceof Headers?i=t.entries():ry(t)?i=t:(e=!0,i=Object.entries(t??{}));for(let o of i){const r=o[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const l=ry(o[1])?o[1]:[o[1]];let c=!1;for(const h of l)h!==void 0&&(e&&!c&&(c=!0,yield[r,null]),yield[r,h])}}const Jr=t=>{const e=new Headers,i=new Set;for(const o of t){const r=new Set;for(const[l,c]of VN(o)){const h=l.toLowerCase();r.has(h)||(e.delete(l),r.add(h)),c===null?(e.delete(l),i.add(h)):(e.append(l,c),i.delete(h))}}return{[Ov]:!0,values:e,nulls:i}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ld=t=>{var e,i,o,r,l,c;if(typeof globalThis.process<"u")return(o=(i=(e=uT)===null||e===void 0?void 0:e[t])===null||i===void 0?void 0:i.trim())!==null&&o!==void 0?o:void 0;if(typeof globalThis.Deno<"u")return(c=(l=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||l===void 0?void 0:l.call(r,t))===null||c===void 0?void 0:c.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Pv;class du{constructor(e){var i,o,r,l,c,h,g,{baseURL:p=Ld("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:v=(i=Ld("GEMINI_API_KEY"))!==null&&i!==void 0?i:null,apiVersion:S="v1beta"}=e,b=Zl(e,["baseURL","apiKey","apiVersion"]);const x=Object.assign(Object.assign({apiKey:v,apiVersion:S},b),{baseURL:p||"https://generativelanguage.googleapis.com"});this.baseURL=x.baseURL,this.timeout=(o=x.timeout)!==null&&o!==void 0?o:du.DEFAULT_TIMEOUT,this.logger=(r=x.logger)!==null&&r!==void 0?r:console;const A="warn";this.logLevel=A,this.logLevel=(c=(l=dy(x.logLevel,"ClientOptions.logLevel",this))!==null&&l!==void 0?l:dy(Ld("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&c!==void 0?c:A,this.fetchOptions=x.fetchOptions,this.maxRetries=(h=x.maxRetries)!==null&&h!==void 0?h:2,this.fetch=(g=x.fetch)!==null&&g!==void 0?g:TN(),this.encoder=AN,this._options=x,this.apiKey=v,this.apiVersion=S,this.clientAdapter=x.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:i}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!i.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const i=Jr([e.headers]);if(!(i.values.has("authorization")||i.values.has("x-goog-api-key"))){if(this.apiKey)return Jr([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Jr([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([i,o])=>typeof o<"u").map(([i,o])=>{if(typeof o=="string"||typeof o=="number"||typeof o=="boolean")return`${encodeURIComponent(i)}=${encodeURIComponent(o)}`;if(o===null)return`${encodeURIComponent(i)}=`;throw new yn(`Cannot stringify type ${typeof o}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${To}`}defaultIdempotencyKey(){return`stainless-node-retry-${uN()}`}makeStatusError(e,i,o,r){return qt.generate(e,i,o,r)}buildURL(e,i,o){const r=!this.baseURLOverridden()&&o||this.baseURL,l=dN(e)?new URL(e):new URL(r+(r.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),c=this.defaultQuery();return pN(c)||(i=Object.assign(Object.assign({},c),i)),typeof i=="object"&&i&&!Array.isArray(i)&&(l.search=this.stringifyQuery(i)),l.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const i=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${i}`}}async prepareRequest(e,{url:i,options:o}){}get(e,i){return this.methodRequest("get",e,i)}post(e,i){return this.methodRequest("post",e,i)}patch(e,i){return this.methodRequest("patch",e,i)}put(e,i){return this.methodRequest("put",e,i)}delete(e,i){return this.methodRequest("delete",e,i)}methodRequest(e,i,o){return this.request(Promise.resolve(o).then(r=>Object.assign({method:e,path:i},r)))}request(e,i=null){return new Mf(this,this.makeRequest(e,i,void 0))}async makeRequest(e,i,o){var r,l,c;const h=await e,g=(r=h.maxRetries)!==null&&r!==void 0?r:this.maxRetries;i==null&&(i=g),await this.prepareOptions(h);const{req:p,url:v,timeout:S}=await this.buildRequest(h,{retryCount:g-i});await this.prepareRequest(p,{url:v,options:h});const b="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),x=o===void 0?"":`, retryOf: ${o}`,A=Date.now();if(Lt(this).debug(`[${b}] sending request`,bs({retryOfRequestLogID:o,method:h.method,url:v,options:h,headers:p.headers})),!((l=h.signal)===null||l===void 0)&&l.aborted)throw new of;const C=new AbortController,R=await this.fetchWithTimeout(v,p,S,C).catch(sf),k=Date.now();if(R instanceof globalThis.Error){const U=`retrying, ${i} attempts remaining`;if(!((c=h.signal)===null||c===void 0)&&c.aborted)throw new of;const H=nf(R)||/timed? ?out/i.test(String(R)+("cause"in R?String(R.cause):""));if(i)return Lt(this).info(`[${b}] connection ${H?"timed out":"failed"} - ${U}`),Lt(this).debug(`[${b}] connection ${H?"timed out":"failed"} (${U})`,bs({retryOfRequestLogID:o,url:v,durationMs:k-A,message:R.message})),this.retryRequest(h,i,o??b);throw Lt(this).info(`[${b}] connection ${H?"timed out":"failed"} - error; no more retries left`),Lt(this).debug(`[${b}] connection ${H?"timed out":"failed"} (error; no more retries left)`,bs({retryOfRequestLogID:o,url:v,durationMs:k-A,message:R.message})),H?new vv:new uu({cause:R})}const z=`[${b}${x}] ${p.method} ${v} ${R.ok?"succeeded":"failed"} with status ${R.status} in ${k-A}ms`;if(!R.ok){const U=await this.shouldRetry(R);if(i&&U){const te=`retrying, ${i} attempts remaining`;return await wN(R.body),Lt(this).info(`${z} - ${te}`),Lt(this).debug(`[${b}] response error (${te})`,bs({retryOfRequestLogID:o,url:R.url,status:R.status,headers:R.headers,durationMs:k-A})),this.retryRequest(h,i,o??b,R.headers)}const H=U?"error; no more retries left":"error; not retryable";Lt(this).info(`${z} - ${H}`);const Y=await R.text().catch(te=>sf(te).message),B=yN(Y),K=B?void 0:Y;throw Lt(this).debug(`[${b}] response error (${H})`,bs({retryOfRequestLogID:o,url:R.url,status:R.status,headers:R.headers,message:K,durationMs:Date.now()-A})),this.makeStatusError(R.status,B,K,R.headers)}return Lt(this).info(z),Lt(this).debug(`[${b}] response start`,bs({retryOfRequestLogID:o,url:R.url,status:R.status,headers:R.headers,durationMs:k-A})),{response:R,options:h,controller:C,requestLogID:b,retryOfRequestLogID:o,startTime:A}}async fetchWithTimeout(e,i,o,r){const l=i||{},{signal:c,method:h}=l,g=Zl(l,["signal","method"]),p=this._makeAbort(r);c&&c.addEventListener("abort",p,{once:!0});const v=setTimeout(p,o),S=globalThis.ReadableStream&&g.body instanceof globalThis.ReadableStream||typeof g.body=="object"&&g.body!==null&&Symbol.asyncIterator in g.body,b=Object.assign(Object.assign(Object.assign({signal:r.signal},S?{duplex:"half"}:{}),{method:"GET"}),g);h&&(b.method=h.toUpperCase());try{return await this.fetch.call(void 0,e,b)}finally{clearTimeout(v)}}async shouldRetry(e){const i=e.headers.get("x-should-retry");return i==="true"?!0:i==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,i,o,r){var l;let c;const h=r==null?void 0:r.get("retry-after-ms");if(h){const p=parseFloat(h);Number.isNaN(p)||(c=p)}const g=r==null?void 0:r.get("retry-after");if(g&&!c){const p=parseFloat(g);Number.isNaN(p)?c=Date.parse(g)-Date.now():c=p*1e3}if(!(c&&0<=c&&c<60*1e3)){const p=(l=e.maxRetries)!==null&&l!==void 0?l:this.maxRetries;c=this.calculateDefaultRetryTimeoutMillis(i,p)}return await vN(c),this.makeRequest(e,i-1,o)}calculateDefaultRetryTimeoutMillis(e,i){const l=i-e,c=Math.min(.5*Math.pow(2,l),8),h=1-Math.random()*.25;return c*h*1e3}async buildRequest(e,{retryCount:i=0}={}){var o,r,l;const c=Object.assign({},e),{method:h,path:g,query:p,defaultBaseURL:v}=c,S=this.buildURL(g,p,v);"timeout"in c&&gN("timeout",c.timeout),c.timeout=(o=c.timeout)!==null&&o!==void 0?o:this.timeout;const{bodyHeaders:b,body:x}=this.buildBody({options:c}),A=await this.buildHeaders({options:e,method:h,bodyHeaders:b,retryCount:i});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:h,headers:A},c.signal&&{signal:c.signal}),globalThis.ReadableStream&&x instanceof globalThis.ReadableStream&&{duplex:"half"}),x&&{body:x}),(r=this.fetchOptions)!==null&&r!==void 0?r:{}),(l=c.fetchOptions)!==null&&l!==void 0?l:{}),url:S,timeout:c.timeout}}async buildHeaders({options:e,method:i,bodyHeaders:o,retryCount:r}){let l={};this.idempotencyHeader&&i!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),l[this.idempotencyHeader]=e.idempotencyKey);const c=await this.authHeaders(e);let h=Jr([l,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),EN()),this._options.defaultHeaders,o,e.headers,c]);return this.validateHeaders(h),h.values}_makeAbort(e){return()=>e.abort()}buildBody({options:{body:e,headers:i}}){if(!e)return{bodyHeaders:void 0,body:void 0};const o=Jr([i]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&o.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:xN(e)}:this.encoder({body:e,headers:o})}}du.DEFAULT_TIMEOUT=6e4;class St extends du{constructor(){super(...arguments),this.interactions=new Uv(this)}}Pv=St;St.GeminiNextGenAPIClient=Pv;St.GeminiNextGenAPIClientError=yn;St.APIError=qt;St.APIConnectionError=uu;St.APIConnectionTimeoutError=vv;St.APIUserAbortError=of;St.NotFoundError=Ev;St.ConflictError=Tv;St.RateLimitError=wv;St.BadRequestError=_v;St.AuthenticationError=Sv;St.InternalServerError=Av;St.PermissionDeniedError=bv;St.UnprocessableEntityError=xv;St.toFile=MN;St.Interactions=Uv;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function FN(t,e){const i={},o=d(t,["name"]);return o!=null&&f(i,["_url","name"],o),i}function $N(t,e){const i={},o=d(t,["name"]);return o!=null&&f(i,["_url","name"],o),i}function jN(t,e){const i={},o=d(t,["sdkHttpResponse"]);return o!=null&&f(i,["sdkHttpResponse"],o),i}function JN(t,e){const i={},o=d(t,["sdkHttpResponse"]);return o!=null&&f(i,["sdkHttpResponse"],o),i}function KN(t,e,i){const o={};if(d(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=d(t,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&f(e,["displayName"],r),d(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const l=d(t,["epochCount"]);e!==void 0&&l!=null&&f(e,["tuningTask","hyperparameters","epochCount"],l);const c=d(t,["learningRateMultiplier"]);if(c!=null&&f(o,["tuningTask","hyperparameters","learningRateMultiplier"],c),d(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(d(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(d(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");if(d(t,["tuningMode"])!==void 0)throw new Error("tuningMode parameter is not supported in Gemini API.");if(d(t,["customBaseModel"])!==void 0)throw new Error("customBaseModel parameter is not supported in Gemini API.");const h=d(t,["batchSize"]);e!==void 0&&h!=null&&f(e,["tuningTask","hyperparameters","batchSize"],h);const g=d(t,["learningRate"]);if(e!==void 0&&g!=null&&f(e,["tuningTask","hyperparameters","learningRate"],g),d(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(d(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");if(d(t,["baseTeacherModel"])!==void 0)throw new Error("baseTeacherModel parameter is not supported in Gemini API.");if(d(t,["tunedTeacherModelSource"])!==void 0)throw new Error("tunedTeacherModelSource parameter is not supported in Gemini API.");if(d(t,["sftLossWeightMultiplier"])!==void 0)throw new Error("sftLossWeightMultiplier parameter is not supported in Gemini API.");if(d(t,["outputUri"])!==void 0)throw new Error("outputUri parameter is not supported in Gemini API.");if(d(t,["encryptionSpec"])!==void 0)throw new Error("encryptionSpec parameter is not supported in Gemini API.");return o}function YN(t,e,i){const o={};let r=d(i,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const B=d(t,["validationDataset"]);e!==void 0&&B!=null&&f(e,["supervisedTuningSpec"],qd(B))}else if(r==="PREFERENCE_TUNING"){const B=d(t,["validationDataset"]);e!==void 0&&B!=null&&f(e,["preferenceOptimizationSpec"],qd(B))}else if(r==="DISTILLATION"){const B=d(t,["validationDataset"]);e!==void 0&&B!=null&&f(e,["distillationSpec"],qd(B))}const l=d(t,["tunedModelDisplayName"]);e!==void 0&&l!=null&&f(e,["tunedModelDisplayName"],l);const c=d(t,["description"]);e!==void 0&&c!=null&&f(e,["description"],c);let h=d(i,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const B=d(t,["epochCount"]);e!==void 0&&B!=null&&f(e,["supervisedTuningSpec","hyperParameters","epochCount"],B)}else if(h==="PREFERENCE_TUNING"){const B=d(t,["epochCount"]);e!==void 0&&B!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],B)}else if(h==="DISTILLATION"){const B=d(t,["epochCount"]);e!==void 0&&B!=null&&f(e,["distillationSpec","hyperParameters","epochCount"],B)}let g=d(i,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const B=d(t,["learningRateMultiplier"]);e!==void 0&&B!=null&&f(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],B)}else if(g==="PREFERENCE_TUNING"){const B=d(t,["learningRateMultiplier"]);e!==void 0&&B!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],B)}else if(g==="DISTILLATION"){const B=d(t,["learningRateMultiplier"]);e!==void 0&&B!=null&&f(e,["distillationSpec","hyperParameters","learningRateMultiplier"],B)}let p=d(i,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const B=d(t,["exportLastCheckpointOnly"]);e!==void 0&&B!=null&&f(e,["supervisedTuningSpec","exportLastCheckpointOnly"],B)}else if(p==="PREFERENCE_TUNING"){const B=d(t,["exportLastCheckpointOnly"]);e!==void 0&&B!=null&&f(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],B)}else if(p==="DISTILLATION"){const B=d(t,["exportLastCheckpointOnly"]);e!==void 0&&B!=null&&f(e,["distillationSpec","exportLastCheckpointOnly"],B)}let v=d(i,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const B=d(t,["adapterSize"]);e!==void 0&&B!=null&&f(e,["supervisedTuningSpec","hyperParameters","adapterSize"],B)}else if(v==="PREFERENCE_TUNING"){const B=d(t,["adapterSize"]);e!==void 0&&B!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],B)}else if(v==="DISTILLATION"){const B=d(t,["adapterSize"]);e!==void 0&&B!=null&&f(e,["distillationSpec","hyperParameters","adapterSize"],B)}let S=d(i,["config","method"]);if(S===void 0&&(S="SUPERVISED_FINE_TUNING"),S==="SUPERVISED_FINE_TUNING"){const B=d(t,["tuningMode"]);e!==void 0&&B!=null&&f(e,["supervisedTuningSpec","tuningMode"],B)}const b=d(t,["customBaseModel"]);e!==void 0&&b!=null&&f(e,["customBaseModel"],b);let x=d(i,["config","method"]);if(x===void 0&&(x="SUPERVISED_FINE_TUNING"),x==="SUPERVISED_FINE_TUNING"){const B=d(t,["batchSize"]);e!==void 0&&B!=null&&f(e,["supervisedTuningSpec","hyperParameters","batchSize"],B)}let A=d(i,["config","method"]);if(A===void 0&&(A="SUPERVISED_FINE_TUNING"),A==="SUPERVISED_FINE_TUNING"){const B=d(t,["learningRate"]);e!==void 0&&B!=null&&f(e,["supervisedTuningSpec","hyperParameters","learningRate"],B)}const C=d(t,["labels"]);e!==void 0&&C!=null&&f(e,["labels"],C);const R=d(t,["beta"]);e!==void 0&&R!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","beta"],R);const k=d(t,["baseTeacherModel"]);e!==void 0&&k!=null&&f(e,["distillationSpec","baseTeacherModel"],k);const z=d(t,["tunedTeacherModelSource"]);e!==void 0&&z!=null&&f(e,["distillationSpec","tunedTeacherModelSource"],z);const U=d(t,["sftLossWeightMultiplier"]);e!==void 0&&U!=null&&f(e,["distillationSpec","hyperParameters","sftLossWeightMultiplier"],U);const H=d(t,["outputUri"]);e!==void 0&&H!=null&&f(e,["outputUri"],H);const Y=d(t,["encryptionSpec"]);return e!==void 0&&Y!=null&&f(e,["encryptionSpec"],Y),o}function XN(t,e){const i={},o=d(t,["baseModel"]);o!=null&&f(i,["baseModel"],o);const r=d(t,["preTunedModel"]);r!=null&&f(i,["preTunedModel"],r);const l=d(t,["trainingDataset"]);l!=null&&aR(l);const c=d(t,["config"]);return c!=null&&KN(c,i),i}function QN(t,e){const i={},o=d(t,["baseModel"]);o!=null&&f(i,["baseModel"],o);const r=d(t,["preTunedModel"]);r!=null&&f(i,["preTunedModel"],r);const l=d(t,["trainingDataset"]);l!=null&&lR(l,i,e);const c=d(t,["config"]);return c!=null&&YN(c,i,e),i}function WN(t,e){const i={},o=d(t,["name"]);return o!=null&&f(i,["_url","name"],o),i}function ZN(t,e){const i={},o=d(t,["name"]);return o!=null&&f(i,["_url","name"],o),i}function eR(t,e,i){const o={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&f(e,["_query","pageSize"],r);const l=d(t,["pageToken"]);e!==void 0&&l!=null&&f(e,["_query","pageToken"],l);const c=d(t,["filter"]);return e!==void 0&&c!=null&&f(e,["_query","filter"],c),o}function tR(t,e,i){const o={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&f(e,["_query","pageSize"],r);const l=d(t,["pageToken"]);e!==void 0&&l!=null&&f(e,["_query","pageToken"],l);const c=d(t,["filter"]);return e!==void 0&&c!=null&&f(e,["_query","filter"],c),o}function nR(t,e){const i={},o=d(t,["config"]);return o!=null&&eR(o,i),i}function iR(t,e){const i={},o=d(t,["config"]);return o!=null&&tR(o,i),i}function sR(t,e){const i={},o=d(t,["sdkHttpResponse"]);o!=null&&f(i,["sdkHttpResponse"],o);const r=d(t,["nextPageToken"]);r!=null&&f(i,["nextPageToken"],r);const l=d(t,["tunedModels"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(h=>Lv(h))),f(i,["tuningJobs"],c)}return i}function oR(t,e){const i={},o=d(t,["sdkHttpResponse"]);o!=null&&f(i,["sdkHttpResponse"],o);const r=d(t,["nextPageToken"]);r!=null&&f(i,["nextPageToken"],r);const l=d(t,["tuningJobs"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(h=>lf(h))),f(i,["tuningJobs"],c)}return i}function rR(t,e){const i={},o=d(t,["name"]);o!=null&&f(i,["model"],o);const r=d(t,["name"]);return r!=null&&f(i,["endpoint"],r),i}function aR(t,e){const i={};if(d(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const o=d(t,["examples"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>l)),f(i,["examples","examples"],r)}return i}function lR(t,e,i){const o={};let r=d(i,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const c=d(t,["gcsUri"]);e!==void 0&&c!=null&&f(e,["supervisedTuningSpec","trainingDatasetUri"],c)}else if(r==="PREFERENCE_TUNING"){const c=d(t,["gcsUri"]);e!==void 0&&c!=null&&f(e,["preferenceOptimizationSpec","trainingDatasetUri"],c)}else if(r==="DISTILLATION"){const c=d(t,["gcsUri"]);e!==void 0&&c!=null&&f(e,["distillationSpec","promptDatasetUri"],c)}let l=d(i,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const c=d(t,["vertexDatasetResource"]);e!==void 0&&c!=null&&f(e,["supervisedTuningSpec","trainingDatasetUri"],c)}else if(l==="PREFERENCE_TUNING"){const c=d(t,["vertexDatasetResource"]);e!==void 0&&c!=null&&f(e,["preferenceOptimizationSpec","trainingDatasetUri"],c)}else if(l==="DISTILLATION"){const c=d(t,["vertexDatasetResource"]);e!==void 0&&c!=null&&f(e,["distillationSpec","promptDatasetUri"],c)}if(d(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return o}function Lv(t,e){const i={},o=d(t,["sdkHttpResponse"]);o!=null&&f(i,["sdkHttpResponse"],o);const r=d(t,["name"]);r!=null&&f(i,["name"],r);const l=d(t,["state"]);l!=null&&f(i,["state"],Zy(l));const c=d(t,["createTime"]);c!=null&&f(i,["createTime"],c);const h=d(t,["tuningTask","startTime"]);h!=null&&f(i,["startTime"],h);const g=d(t,["tuningTask","completeTime"]);g!=null&&f(i,["endTime"],g);const p=d(t,["updateTime"]);p!=null&&f(i,["updateTime"],p);const v=d(t,["description"]);v!=null&&f(i,["description"],v);const S=d(t,["baseModel"]);S!=null&&f(i,["baseModel"],S);const b=d(t,["_self"]);return b!=null&&f(i,["tunedModel"],rR(b)),i}function lf(t,e){const i={},o=d(t,["sdkHttpResponse"]);o!=null&&f(i,["sdkHttpResponse"],o);const r=d(t,["name"]);r!=null&&f(i,["name"],r);const l=d(t,["state"]);l!=null&&f(i,["state"],Zy(l));const c=d(t,["createTime"]);c!=null&&f(i,["createTime"],c);const h=d(t,["startTime"]);h!=null&&f(i,["startTime"],h);const g=d(t,["endTime"]);g!=null&&f(i,["endTime"],g);const p=d(t,["updateTime"]);p!=null&&f(i,["updateTime"],p);const v=d(t,["error"]);v!=null&&f(i,["error"],v);const S=d(t,["description"]);S!=null&&f(i,["description"],S);const b=d(t,["baseModel"]);b!=null&&f(i,["baseModel"],b);const x=d(t,["tunedModel"]);x!=null&&f(i,["tunedModel"],x);const A=d(t,["preTunedModel"]);A!=null&&f(i,["preTunedModel"],A);const C=d(t,["supervisedTuningSpec"]);C!=null&&f(i,["supervisedTuningSpec"],C);const R=d(t,["preferenceOptimizationSpec"]);R!=null&&f(i,["preferenceOptimizationSpec"],R);const k=d(t,["distillationSpec"]);k!=null&&f(i,["distillationSpec"],k);const z=d(t,["tuningDataStats"]);z!=null&&f(i,["tuningDataStats"],z);const U=d(t,["encryptionSpec"]);U!=null&&f(i,["encryptionSpec"],U);const H=d(t,["partnerModelTuningSpec"]);H!=null&&f(i,["partnerModelTuningSpec"],H);const Y=d(t,["customBaseModel"]);Y!=null&&f(i,["customBaseModel"],Y);const B=d(t,["experiment"]);B!=null&&f(i,["experiment"],B);const K=d(t,["labels"]);K!=null&&f(i,["labels"],K);const fe=d(t,["outputUri"]);fe!=null&&f(i,["outputUri"],fe);const te=d(t,["pipelineJob"]);te!=null&&f(i,["pipelineJob"],te);const be=d(t,["serviceAccount"]);be!=null&&f(i,["serviceAccount"],be);const pe=d(t,["tunedModelDisplayName"]);pe!=null&&f(i,["tunedModelDisplayName"],pe);const ke=d(t,["veoTuningSpec"]);return ke!=null&&f(i,["veoTuningSpec"],ke),i}function uR(t,e){const i={},o=d(t,["sdkHttpResponse"]);o!=null&&f(i,["sdkHttpResponse"],o);const r=d(t,["name"]);r!=null&&f(i,["name"],r);const l=d(t,["metadata"]);l!=null&&f(i,["metadata"],l);const c=d(t,["done"]);c!=null&&f(i,["done"],c);const h=d(t,["error"]);return h!=null&&f(i,["error"],h),i}function qd(t,e){const i={},o=d(t,["gcsUri"]);o!=null&&f(i,["validationDatasetUri"],o);const r=d(t,["vertexDatasetResource"]);return r!=null&&f(i,["validationDatasetUri"],r),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cR extends ai{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new As(ri.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(i),i),this.get=async i=>await this.getInternal(i),this.tune=async i=>{var o;if(this.apiClient.isVertexAI())if(i.baseModel.startsWith("projects/")){const r={tunedModelName:i.baseModel};!((o=i.config)===null||o===void 0)&&o.preTunedModelCheckpointId&&(r.checkpointId=i.config.preTunedModelCheckpointId);const l=Object.assign(Object.assign({},i),{preTunedModel:r});return l.baseModel=void 0,await this.tuneInternal(l)}else{const r=Object.assign({},i);return await this.tuneInternal(r)}else{const r=Object.assign({},i),l=await this.tuneMldevInternal(r);let c="";return l.metadata!==void 0&&l.metadata.tunedModel!==void 0?c=l.metadata.tunedModel:l.name!==void 0&&l.name.includes("/operations/")&&(c=l.name.split("/operations/")[0]),{name:c,state:Kd.JOB_STATE_QUEUED}}}}async getInternal(e){var i,o,r,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=ZN(e);return h=ne("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(S=>{const b=S;return b.sdkHttpResponse={headers:v.headers},b})),c.then(v=>lf(v))}else{const p=WN(e);return h=ne("{name}",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const b=S;return b.sdkHttpResponse={headers:v.headers},b})),c.then(v=>Lv(v))}}async listInternal(e){var i,o,r,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=iR(e);return h=ne("tuningJobs",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(S=>{const b=S;return b.sdkHttpResponse={headers:v.headers},b})),c.then(v=>{const S=oR(v),b=new B0;return Object.assign(b,S),b})}else{const p=nR(e);return h=ne("tunedModels",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const b=S;return b.sdkHttpResponse={headers:v.headers},b})),c.then(v=>{const S=sR(v),b=new B0;return Object.assign(b,S),b})}}async cancel(e){var i,o,r,l;let c,h="",g={};if(this.apiClient.isVertexAI()){const p=$N(e);return h=ne("{name}:cancel",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json().then(S=>{const b=S;return b.sdkHttpResponse={headers:v.headers},b})),c.then(v=>{const S=JN(v),b=new G0;return Object.assign(b,S),b})}else{const p=FN(e);return h=ne("{name}:cancel",p._url),g=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(S=>{const b=S;return b.sdkHttpResponse={headers:v.headers},b})),c.then(v=>{const S=jN(v),b=new G0;return Object.assign(b,S),b})}}async tuneInternal(e){var i,o;let r,l="",c={};if(this.apiClient.isVertexAI()){const h=QN(e,e);return l=ne("tuningJobs",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:g.headers},v})),r.then(g=>lf(g))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var i,o;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=XN(e);return l=ne("tunedModels",h._url),c=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(g=>g.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:g.headers},v})),r.then(g=>uR(g))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dR{async download(e,i){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const fR=1024*1024*8,hR=3,pR=1e3,mR=2,tu="x-goog-upload-status";async function gR(t,e,i){var o;const r=await qv(t,e,i),l=await(r==null?void 0:r.json());if(((o=r==null?void 0:r.headers)===null||o===void 0?void 0:o[tu])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return l.file}async function yR(t,e,i){var o;const r=await qv(t,e,i),l=await(r==null?void 0:r.json());if(((o=r==null?void 0:r.headers)===null||o===void 0?void 0:o[tu])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const c=Jy(l),h=new xf;return Object.assign(h,c),h}async function qv(t,e,i){var o,r;let l=0,c=0,h=new Xd(new Response),g="upload";for(l=t.size;c<l;){const p=Math.min(fR,l-c),v=t.slice(c,c+p);c+p>=l&&(g+=", finalize");let S=0,b=pR;for(;S<hR&&(h=await i.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":g,"X-Goog-Upload-Offset":String(c),"Content-Length":String(p)}}}),!(!((o=h==null?void 0:h.headers)===null||o===void 0)&&o[tu]));)S++,await _R(b),b=b*mR;if(c+=p,((r=h==null?void 0:h.headers)===null||r===void 0?void 0:r[tu])!=="active")break;if(l<=c)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return h}async function vR(t){return{size:t.size,type:t.type}}function _R(t){return new Promise(e=>setTimeout(e,t))}class SR{async upload(e,i,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await gR(e,i,o)}async uploadToFileSearchStore(e,i,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await yR(e,i,o)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await vR(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bR{create(e,i,o){return new ER(e,i,o)}}class ER{constructor(e,i,o){this.url=e,this.headers=i,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const hy="x-goog-api-key";class TR{constructor(e){this.apiKey=e}async addAuthHeaders(e,i){if(e.get(hy)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(hy,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const xR="gl-node/";class ui{get interactions(){var e;if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const i=this.httpOptions;i!=null&&i.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const o=new St({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:i==null?void 0:i.timeout,maxRetries:(e=i==null?void 0:i.retryOptions)===null||e===void 0?void 0:e.attempts});return this._interactions=o.interactions,this._interactions}constructor(e){var i;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(i=e.vertexai)!==null&&i!==void 0?i:!1,this.apiKey=e.apiKey;const o=hT(e.httpOptions,e.vertexai,void 0,void 0);o&&(e.httpOptions?e.httpOptions.baseUrl=o:e.httpOptions={baseUrl:o}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const r=new TR(this.apiKey);this.apiClient=new v1({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:xR+"web",uploader:new SR,downloader:new dR}),this.models=new L1(this.apiClient),this.live=new M1(this.apiClient,r,new bR),this.batches=new Vx(this.apiClient),this.chats=new xw(this.models,this.apiClient),this.caches=new bw(this.apiClient),this.files=new Pw(this.apiClient),this.operations=new q1(this.apiClient),this.authTokens=new eN(this.apiClient),this.tunings=new cR(this.apiClient),this.fileSearchStores=new lN(this.apiClient)}}var wR={};const ci=()=>wR.NEXT_PUBLIC_API_KEY||"AIzaSyB9j93XduxV0TBYLiqSUoQJz9CiFkJWcwM",Df=`You are the Alwajar Solo-ERP Brain. Your goal is to ensure 100% accuracy in our 20 MT Sohar facility.

Operational Rules:
1. Production Accuracy: Cross-reference every batch against brochure specs. If yield/ratio deviates >1%, flag as critical risk.
2. Inventory Control: Trigger procurement when stock hits 20% safety stock.
3. Finance & Liability: Monitor expenses vs revenue. If liabilities (Pending Expenses) exceed 30% of projected order revenue, issue a warning.
4. HR & Administration: Ensure essential staffing for critical production runs. Monitor departmental burn rates.
5. Tone: Maintain a luxury, high-precision tone.

Respond in JSON format for data updates or concise professional messages for alerts.`,AR=async(t,e,i,o=[],r=[])=>{const l=`Current State:
Batches: ${JSON.stringify(t)}
Inventory: ${JSON.stringify(e)}
Orders: ${JSON.stringify(i)}
Expenses: ${JSON.stringify(o)}
Employees: ${JSON.stringify(r)}

Provide exactly 3-5 operational insights covering production, finance, and staffing risks.
Output JSON format: Array<{ type: string, message: string, severity: 'info' | 'warning' | 'critical', actionTaken?: string }>`;try{const g=(await new ui({apiKey:ci()}).models.generateContent({model:"gemini-2.0-flash",contents:l,config:{systemInstruction:Df,responseMimeType:"application/json"}})).text||"[]";return JSON.parse(g)}catch(c){return console.error("Gemini Insight Error:",c),[]}},CR=async t=>{try{return(await new ui({apiKey:ci()}).models.generateContent({model:"gemini-2.0-flash",contents:`Quickly summarize status: ${t}`,config:{systemInstruction:"You are a fast, efficient ERP assistant. Be brief."}})).text||"Status Normal."}catch{return"System Operational."}},NR=async t=>{const e=`Current Formulation Project: ${JSON.stringify(t)}
Analyze and suggest improvements for 100% accuracy.
Return JSON: { "suggestion": "string", "optimizedIngredients": "Array<Ingredient>" }`,o=await new ui({apiKey:ci()}).models.generateContent({model:"gemini-2.0-flash",contents:e,config:{systemInstruction:"You are an expert Pharmaceutical Formulation Scientist.",responseMimeType:"application/json"}});return JSON.parse(o.text||"{}")},RR=async(t,e)=>(await new ui({apiKey:ci()}).models.generateContent({model:"gemini-2.0-flash",contents:t,config:{systemInstruction:Df,thinkingConfig:{thinkingBudget:32768}}})).text,IR=async(t,e,i)=>{try{return(await new ui({apiKey:ci()}).models.generateContent({model:"gemini-2.0-flash",contents:{parts:[{inlineData:{mimeType:e,data:t}},{text:i}]}})).text}catch{return"Error analyzing file."}},MR=async(t,e)=>{let i=Df,o=0;return i="You are a Chief Strategy Officer focusing on logic and finance.",o=1e4,(await new ui({apiKey:ci()}).models.generateContent({model:"gemini-2.0-flash",contents:t,config:{systemInstruction:i,thinkingConfig:o>0?{thinkingBudget:o}:void 0}})).text},DR=async(t,e,i="16:9",o="1K")=>{var l,c,h;const r=`${e} design for: ${t}. High-contrast industrial pharmaceutical facility style.`;try{const p=await new ui({apiKey:ci()}).models.generateContent({model:"gemini-2.0-flash",contents:{parts:[{text:r}]},config:{imageConfig:{aspectRatio:i,imageSize:o}}});for(const v of((h=(c=(l=p.candidates)==null?void 0:l[0])==null?void 0:c.content)==null?void 0:h.parts)||[])if(v.inlineData)return`data:image/png;base64,${v.inlineData.data}`;return null}catch{return null}},kR=async(t,e,i)=>{var o,r,l;try{const h=await new ui({apiKey:ci()}).models.generateContent({model:"gemini-2.0-flash",contents:{parts:[{inlineData:{mimeType:e,data:t}},{text:i}]}});for(const g of((l=(r=(o=h.candidates)==null?void 0:o[0])==null?void 0:r.content)==null?void 0:l.parts)||[])if(g.inlineData)return`data:image/png;base64,${g.inlineData.data}`;return null}catch{return null}},UR=async(t,e)=>{try{return(await new ui({apiKey:ci()}).models.generateContent({model:"gemini-2.0-flash",contents:{parts:[{inlineData:{mimeType:e,data:t}},{text:"Transcribe this audio exactly as spoken."}]}})).text||""}catch{return""}};function fu(t,e){var i={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(i[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(i[o[r]]=t[o[r]]);return i}function OR(t,e,i,o){function r(l){return l instanceof i?l:new i(function(c){c(l)})}return new(i||(i=Promise))(function(l,c){function h(v){try{p(o.next(v))}catch(S){c(S)}}function g(v){try{p(o.throw(v))}catch(S){c(S)}}function p(v){v.done?l(v.value):r(v.value).then(h,g)}p((o=o.apply(t,e||[])).next())})}const PR=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class kf extends Error{constructor(e,i="FunctionsError",o){super(e),this.name=i,this.context=o}}class LR extends kf{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class py extends kf{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class my extends kf{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var uf;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(uf||(uf={}));class qR{constructor(e,{headers:i={},customFetch:o,region:r=uf.Any}={}){this.url=e,this.headers=i,this.region=r,this.fetch=PR(o)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return OR(this,arguments,void 0,function*(i,o={}){var r;let l,c;try{const{headers:h,method:g,body:p,signal:v,timeout:S}=o;let b={},{region:x}=o;x||(x=this.region);const A=new URL(`${this.url}/${i}`);x&&x!=="any"&&(b["x-region"]=x,A.searchParams.set("forceFunctionRegion",x));let C;p&&(h&&!Object.prototype.hasOwnProperty.call(h,"Content-Type")||!h)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(b["Content-Type"]="application/octet-stream",C=p):typeof p=="string"?(b["Content-Type"]="text/plain",C=p):typeof FormData<"u"&&p instanceof FormData?C=p:(b["Content-Type"]="application/json",C=JSON.stringify(p)):p&&typeof p!="string"&&!(typeof Blob<"u"&&p instanceof Blob)&&!(p instanceof ArrayBuffer)&&!(typeof FormData<"u"&&p instanceof FormData)?C=JSON.stringify(p):C=p;let R=v;S&&(c=new AbortController,l=setTimeout(()=>c.abort(),S),v?(R=c.signal,v.addEventListener("abort",()=>c.abort())):R=c.signal);const k=yield this.fetch(A.toString(),{method:g||"POST",headers:Object.assign(Object.assign(Object.assign({},b),this.headers),h),body:C,signal:R}).catch(Y=>{throw new LR(Y)}),z=k.headers.get("x-relay-error");if(z&&z==="true")throw new py(k);if(!k.ok)throw new my(k);let U=((r=k.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),H;return U==="application/json"?H=yield k.json():U==="application/octet-stream"||U==="application/pdf"?H=yield k.blob():U==="text/event-stream"?H=k:U==="multipart/form-data"?H=yield k.formData():H=yield k.text(),{data:H,error:null,response:k}}catch(h){return{data:null,error:h,response:h instanceof my||h instanceof py?h.context:void 0}}finally{l&&clearTimeout(l)}})}}var _t={},fo={},ho={},po={},mo={},go={},BR=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Do=BR();const GR=Do.fetch,Bv=Do.fetch.bind(Do),Gv=Do.Headers,zR=Do.Request,HR=Do.Response,VR=Object.freeze(Object.defineProperty({__proto__:null,Headers:Gv,Request:zR,Response:HR,default:Bv,fetch:GR},Symbol.toStringTag,{value:"Module"})),FR=cb(VR);var zl={},gy;function zv(){if(gy)return zl;gy=1,Object.defineProperty(zl,"__esModule",{value:!0});class t extends Error{constructor(i){super(i.message),this.name="PostgrestError",this.details=i.details,this.hint=i.hint,this.code=i.code}}return zl.default=t,zl}var yy;function Hv(){if(yy)return go;yy=1;var t=go&&go.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(go,"__esModule",{value:!0});const e=t(FR),i=t(zv());class o{constructor(l){var c,h;this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=new Headers(l.headers),this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=(c=l.shouldThrowOnError)!==null&&c!==void 0?c:!1,this.signal=l.signal,this.isMaybeSingle=(h=l.isMaybeSingle)!==null&&h!==void 0?h:!1,l.fetch?this.fetch=l.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,c){return this.headers=new Headers(this.headers),this.headers.set(l,c),this}then(l,c){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const h=this.fetch;let g=h(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async p=>{var v,S,b,x;let A=null,C=null,R=null,k=p.status,z=p.statusText;if(p.ok){if(this.method!=="HEAD"){const B=await p.text();B===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((v=this.headers.get("Accept"))===null||v===void 0)&&v.includes("application/vnd.pgrst.plan+text"))?C=B:C=JSON.parse(B))}const H=(S=this.headers.get("Prefer"))===null||S===void 0?void 0:S.match(/count=(exact|planned|estimated)/),Y=(b=p.headers.get("content-range"))===null||b===void 0?void 0:b.split("/");H&&Y&&Y.length>1&&(R=parseInt(Y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(C)&&(C.length>1?(A={code:"PGRST116",details:`Results contain ${C.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},C=null,R=null,k=406,z="Not Acceptable"):C.length===1?C=C[0]:C=null)}else{const H=await p.text();try{A=JSON.parse(H),Array.isArray(A)&&p.status===404&&(C=[],A=null,k=200,z="OK")}catch{p.status===404&&H===""?(k=204,z="No Content"):A={message:H}}if(A&&this.isMaybeSingle&&(!((x=A==null?void 0:A.details)===null||x===void 0)&&x.includes("0 rows"))&&(A=null,k=200,z="OK"),A&&this.shouldThrowOnError)throw new i.default(A)}return{error:A,data:C,count:R,status:k,statusText:z}});return this.shouldThrowOnError||(g=g.catch(p=>{var v,S,b;return{error:{message:`${(v=p==null?void 0:p.name)!==null&&v!==void 0?v:"FetchError"}: ${p==null?void 0:p.message}`,details:`${(S=p==null?void 0:p.stack)!==null&&S!==void 0?S:""}`,hint:"",code:`${(b=p==null?void 0:p.code)!==null&&b!==void 0?b:""}`},data:null,count:null,status:0,statusText:""}})),g.then(l,c)}returns(){return this}overrideTypes(){return this}}return go.default=o,go}var vy;function Vv(){if(vy)return mo;vy=1;var t=mo&&mo.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(mo,"__esModule",{value:!0});const e=t(Hv());class i extends e.default{select(r){let l=!1;const c=(r??"*").split("").map(h=>/\s/.test(h)&&!l?"":(h==='"'&&(l=!l),h)).join("");return this.url.searchParams.set("select",c),this.headers.append("Prefer","return=representation"),this}order(r,{ascending:l=!0,nullsFirst:c,foreignTable:h,referencedTable:g=h}={}){const p=g?`${g}.order`:"order",v=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${v?`${v},`:""}${r}.${l?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(r,{foreignTable:l,referencedTable:c=l}={}){const h=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(h,`${r}`),this}range(r,l,{foreignTable:c,referencedTable:h=c}={}){const g=typeof h>"u"?"offset":`${h}.offset`,p=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(g,`${r}`),this.url.searchParams.set(p,`${l-r+1}`),this}abortSignal(r){return this.signal=r,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:r=!1,verbose:l=!1,settings:c=!1,buffers:h=!1,wal:g=!1,format:p="text"}={}){var v;const S=[r?"analyze":null,l?"verbose":null,c?"settings":null,h?"buffers":null,g?"wal":null].filter(Boolean).join("|"),b=(v=this.headers.get("Accept"))!==null&&v!==void 0?v:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${p}; for="${b}"; options=${S};`),p==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(r){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${r}`),this}}return mo.default=i,mo}var _y;function Uf(){if(_y)return po;_y=1;var t=po&&po.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(po,"__esModule",{value:!0});const e=t(Vv());class i extends e.default{eq(r,l){return this.url.searchParams.append(r,`eq.${l}`),this}neq(r,l){return this.url.searchParams.append(r,`neq.${l}`),this}gt(r,l){return this.url.searchParams.append(r,`gt.${l}`),this}gte(r,l){return this.url.searchParams.append(r,`gte.${l}`),this}lt(r,l){return this.url.searchParams.append(r,`lt.${l}`),this}lte(r,l){return this.url.searchParams.append(r,`lte.${l}`),this}like(r,l){return this.url.searchParams.append(r,`like.${l}`),this}likeAllOf(r,l){return this.url.searchParams.append(r,`like(all).{${l.join(",")}}`),this}likeAnyOf(r,l){return this.url.searchParams.append(r,`like(any).{${l.join(",")}}`),this}ilike(r,l){return this.url.searchParams.append(r,`ilike.${l}`),this}ilikeAllOf(r,l){return this.url.searchParams.append(r,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(r,l){return this.url.searchParams.append(r,`ilike(any).{${l.join(",")}}`),this}is(r,l){return this.url.searchParams.append(r,`is.${l}`),this}in(r,l){const c=Array.from(new Set(l)).map(h=>typeof h=="string"&&new RegExp("[,()]").test(h)?`"${h}"`:`${h}`).join(",");return this.url.searchParams.append(r,`in.(${c})`),this}contains(r,l){return typeof l=="string"?this.url.searchParams.append(r,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(r,`cs.{${l.join(",")}}`):this.url.searchParams.append(r,`cs.${JSON.stringify(l)}`),this}containedBy(r,l){return typeof l=="string"?this.url.searchParams.append(r,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(r,`cd.{${l.join(",")}}`):this.url.searchParams.append(r,`cd.${JSON.stringify(l)}`),this}rangeGt(r,l){return this.url.searchParams.append(r,`sr.${l}`),this}rangeGte(r,l){return this.url.searchParams.append(r,`nxl.${l}`),this}rangeLt(r,l){return this.url.searchParams.append(r,`sl.${l}`),this}rangeLte(r,l){return this.url.searchParams.append(r,`nxr.${l}`),this}rangeAdjacent(r,l){return this.url.searchParams.append(r,`adj.${l}`),this}overlaps(r,l){return typeof l=="string"?this.url.searchParams.append(r,`ov.${l}`):this.url.searchParams.append(r,`ov.{${l.join(",")}}`),this}textSearch(r,l,{config:c,type:h}={}){let g="";h==="plain"?g="pl":h==="phrase"?g="ph":h==="websearch"&&(g="w");const p=c===void 0?"":`(${c})`;return this.url.searchParams.append(r,`${g}fts${p}.${l}`),this}match(r){return Object.entries(r).forEach(([l,c])=>{this.url.searchParams.append(l,`eq.${c}`)}),this}not(r,l,c){return this.url.searchParams.append(r,`not.${l}.${c}`),this}or(r,{foreignTable:l,referencedTable:c=l}={}){const h=c?`${c}.or`:"or";return this.url.searchParams.append(h,`(${r})`),this}filter(r,l,c){return this.url.searchParams.append(r,`${l}.${c}`),this}}return po.default=i,po}var Sy;function Fv(){if(Sy)return ho;Sy=1;var t=ho&&ho.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(ho,"__esModule",{value:!0});const e=t(Uf());class i{constructor(r,{headers:l={},schema:c,fetch:h}){this.url=r,this.headers=new Headers(l),this.schema=c,this.fetch=h}select(r,{head:l=!1,count:c}={}){const h=l?"HEAD":"GET";let g=!1;const p=(r??"*").split("").map(v=>/\s/.test(v)&&!g?"":(v==='"'&&(g=!g),v)).join("");return this.url.searchParams.set("select",p),c&&this.headers.append("Prefer",`count=${c}`),new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(r,{count:l,defaultToNull:c=!0}={}){var h;const g="POST";if(l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(r)){const p=r.reduce((v,S)=>v.concat(Object.keys(S)),[]);if(p.length>0){const v=[...new Set(p)].map(S=>`"${S}"`);this.url.searchParams.set("columns",v.join(","))}}return new e.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}upsert(r,{onConflict:l,ignoreDuplicates:c=!1,count:h,defaultToNull:g=!0}={}){var p;const v="POST";if(this.headers.append("Prefer",`resolution=${c?"ignore":"merge"}-duplicates`),l!==void 0&&this.url.searchParams.set("on_conflict",l),h&&this.headers.append("Prefer",`count=${h}`),g||this.headers.append("Prefer","missing=default"),Array.isArray(r)){const S=r.reduce((b,x)=>b.concat(Object.keys(x)),[]);if(S.length>0){const b=[...new Set(S)].map(x=>`"${x}"`);this.url.searchParams.set("columns",b.join(","))}}return new e.default({method:v,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}update(r,{count:l}={}){var c;const h="PATCH";return l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:r,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}delete({count:r}={}){var l;const c="DELETE";return r&&this.headers.append("Prefer",`count=${r}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}}return ho.default=i,ho}var by;function $R(){if(by)return fo;by=1;var t=fo&&fo.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(fo,"__esModule",{value:!0});const e=t(Fv()),i=t(Uf());class o{constructor(l,{headers:c={},schema:h,fetch:g}={}){this.url=l,this.headers=new Headers(c),this.schemaName=h,this.fetch=g}from(l){const c=new URL(`${this.url}/${l}`);return new e.default(c,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new o(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,c={},{head:h=!1,get:g=!1,count:p}={}){var v;let S;const b=new URL(`${this.url}/rpc/${l}`);let x;h||g?(S=h?"HEAD":"GET",Object.entries(c).filter(([C,R])=>R!==void 0).map(([C,R])=>[C,Array.isArray(R)?`{${R.join(",")}}`:`${R}`]).forEach(([C,R])=>{b.searchParams.append(C,R)})):(S="POST",x=c);const A=new Headers(this.headers);return p&&A.set("Prefer",`count=${p}`),new i.default({method:S,url:b,headers:A,schema:this.schemaName,body:x,fetch:(v=this.fetch)!==null&&v!==void 0?v:fetch})}}return fo.default=o,fo}var Ey;function jR(){if(Ey)return _t;Ey=1;var t=_t&&_t.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(_t,"__esModule",{value:!0}),_t.PostgrestError=_t.PostgrestBuilder=_t.PostgrestTransformBuilder=_t.PostgrestFilterBuilder=_t.PostgrestQueryBuilder=_t.PostgrestClient=void 0;const e=t($R());_t.PostgrestClient=e.default;const i=t(Fv());_t.PostgrestQueryBuilder=i.default;const o=t(Uf());_t.PostgrestFilterBuilder=o.default;const r=t(Vv());_t.PostgrestTransformBuilder=r.default;const l=t(Hv());_t.PostgrestBuilder=l.default;const c=t(zv());return _t.PostgrestError=c.default,_t.default={PostgrestClient:e.default,PostgrestQueryBuilder:i.default,PostgrestFilterBuilder:o.default,PostgrestTransformBuilder:r.default,PostgrestBuilder:l.default,PostgrestError:c.default},_t}var JR=jR();const KR=Sf(JR),{PostgrestClient:YR,PostgrestQueryBuilder:TM,PostgrestFilterBuilder:xM,PostgrestTransformBuilder:wM,PostgrestBuilder:AM,PostgrestError:CM}=KR;class XR{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const i=globalThis.process;if(i){const o=i.versions;if(o&&o.node){const r=o.node,l=parseInt(r.replace(/^v/,"").split(".")[0]);return l>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${l} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${l} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let i=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(i+=`

Suggested solution: ${e.workaround}`),new Error(i)}static createWebSocket(e,i){const o=this.getWebSocketConstructor();return new o(e,i)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const QR="2.95.3",WR=`realtime-js/${QR}`,ZR="1.0.0",$v="2.0.0",Ty=$v,cf=1e4,e2=1e3,t2=100;var Yi;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Yi||(Yi={}));var yt;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(yt||(yt={}));var An;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(An||(An={}));var df;(function(t){t.websocket="websocket"})(df||(df={}));var Ts;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ts||(Ts={}));class n2{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,i){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return i(this._binaryEncodeUserBroadcastPush(e));let o=[e.join_ref,e.ref,e.topic,e.event,e.payload];return i(JSON.stringify(o))}_binaryEncodeUserBroadcastPush(e){var i;return this._isArrayBuffer((i=e.payload)===null||i===void 0?void 0:i.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var i,o;const r=(o=(i=e.payload)===null||i===void 0?void 0:i.payload)!==null&&o!==void 0?o:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,r)}_encodeJsonUserBroadcastPush(e){var i,o;const r=(o=(i=e.payload)===null||i===void 0?void 0:i.payload)!==null&&o!==void 0?o:{},c=new TextEncoder().encode(JSON.stringify(r)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,c)}_encodeUserBroadcastPush(e,i,o){var r,l;const c=e.topic,h=(r=e.ref)!==null&&r!==void 0?r:"",g=(l=e.join_ref)!==null&&l!==void 0?l:"",p=e.payload.event,v=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},S=Object.keys(v).length===0?"":JSON.stringify(v);if(g.length>255)throw new Error(`joinRef length ${g.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`ref length ${h.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`topic length ${c.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`userEvent length ${p.length} exceeds maximum of 255`);if(S.length>255)throw new Error(`metadata length ${S.length} exceeds maximum of 255`);const b=this.USER_BROADCAST_PUSH_META_LENGTH+g.length+h.length+c.length+p.length+S.length,x=new ArrayBuffer(this.HEADER_LENGTH+b);let A=new DataView(x),C=0;A.setUint8(C++,this.KINDS.userBroadcastPush),A.setUint8(C++,g.length),A.setUint8(C++,h.length),A.setUint8(C++,c.length),A.setUint8(C++,p.length),A.setUint8(C++,S.length),A.setUint8(C++,i),Array.from(g,k=>A.setUint8(C++,k.charCodeAt(0))),Array.from(h,k=>A.setUint8(C++,k.charCodeAt(0))),Array.from(c,k=>A.setUint8(C++,k.charCodeAt(0))),Array.from(p,k=>A.setUint8(C++,k.charCodeAt(0))),Array.from(S,k=>A.setUint8(C++,k.charCodeAt(0)));var R=new Uint8Array(x.byteLength+o.byteLength);return R.set(new Uint8Array(x),0),R.set(new Uint8Array(o),x.byteLength),R.buffer}decode(e,i){if(this._isArrayBuffer(e)){let o=this._binaryDecode(e);return i(o)}if(typeof e=="string"){const o=JSON.parse(e),[r,l,c,h,g]=o;return i({join_ref:r,ref:l,topic:c,event:h,payload:g})}return i({})}_binaryDecode(e){const i=new DataView(e),o=i.getUint8(0),r=new TextDecoder;switch(o){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,i,r)}}_decodeUserBroadcast(e,i,o){const r=i.getUint8(1),l=i.getUint8(2),c=i.getUint8(3),h=i.getUint8(4);let g=this.HEADER_LENGTH+4;const p=o.decode(e.slice(g,g+r));g=g+r;const v=o.decode(e.slice(g,g+l));g=g+l;const S=o.decode(e.slice(g,g+c));g=g+c;const b=e.slice(g,e.byteLength),x=h===this.JSON_ENCODING?JSON.parse(o.decode(b)):b,A={type:this.BROADCAST_EVENT,event:v,payload:x};return c>0&&(A.meta=JSON.parse(S)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST_EVENT,payload:A}}_isArrayBuffer(e){var i;return e instanceof ArrayBuffer||((i=e==null?void 0:e.constructor)===null||i===void 0?void 0:i.name)==="ArrayBuffer"}_pick(e,i){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([o])=>i.includes(o)))}}class jv{constructor(e,i){this.callback=e,this.timerCalc=i,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=i}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Qe;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Qe||(Qe={}));const xy=(t,e,i={})=>{var o;const r=(o=i.skipTypes)!==null&&o!==void 0?o:[];return e?Object.keys(e).reduce((l,c)=>(l[c]=i2(c,t,e,r),l),{}):{}},i2=(t,e,i,o)=>{const r=e.find(h=>h.name===t),l=r==null?void 0:r.type,c=i[t];return l&&!o.includes(l)?Jv(l,c):ff(c)},Jv=(t,e)=>{if(t.charAt(0)==="_"){const i=t.slice(1,t.length);return a2(e,i)}switch(t){case Qe.bool:return s2(e);case Qe.float4:case Qe.float8:case Qe.int2:case Qe.int4:case Qe.int8:case Qe.numeric:case Qe.oid:return o2(e);case Qe.json:case Qe.jsonb:return r2(e);case Qe.timestamp:return l2(e);case Qe.abstime:case Qe.date:case Qe.daterange:case Qe.int4range:case Qe.int8range:case Qe.money:case Qe.reltime:case Qe.text:case Qe.time:case Qe.timestamptz:case Qe.timetz:case Qe.tsrange:case Qe.tstzrange:return ff(e);default:return ff(e)}},ff=t=>t,s2=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},o2=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},r2=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},a2=(t,e)=>{if(typeof t!="string")return t;const i=t.length-1,o=t[i];if(t[0]==="{"&&o==="}"){let l;const c=t.slice(1,i);try{l=JSON.parse("["+c+"]")}catch{l=c?c.split(","):[]}return l.map(h=>Jv(e,h))}return t},l2=t=>typeof t=="string"?t.replace(" ","T"):t,Kv=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Bd{constructor(e,i,o={},r=cf){this.channel=e,this.event=i,this.payload=o,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,i){var o;return this._hasReceived(e)&&i((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:e,callback:i}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=i=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=i,this._matchReceive(i)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,i){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:i})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:i}){this.recHooks.filter(o=>o.status===e).forEach(o=>o.callback(i))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var wy;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(wy||(wy={}));class Qr{constructor(e,i){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=(i==null?void 0:i.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},r=>{const{onJoin:l,onLeave:c,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Qr.syncState(this.state,r,l,c),this.pendingDiffs.forEach(g=>{this.state=Qr.syncDiff(this.state,g,l,c)}),this.pendingDiffs=[],h()}),this.channel._on(o.diff,{},r=>{const{onJoin:l,onLeave:c,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=Qr.syncDiff(this.state,r,l,c),h())}),this.onJoin((r,l,c)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:l,newPresences:c})}),this.onLeave((r,l,c)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:l,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,i,o,r){const l=this.cloneDeep(e),c=this.transformState(i),h={},g={};return this.map(l,(p,v)=>{c[p]||(g[p]=v)}),this.map(c,(p,v)=>{const S=l[p];if(S){const b=v.map(R=>R.presence_ref),x=S.map(R=>R.presence_ref),A=v.filter(R=>x.indexOf(R.presence_ref)<0),C=S.filter(R=>b.indexOf(R.presence_ref)<0);A.length>0&&(h[p]=A),C.length>0&&(g[p]=C)}else h[p]=v}),this.syncDiff(l,{joins:h,leaves:g},o,r)}static syncDiff(e,i,o,r){const{joins:l,leaves:c}={joins:this.transformState(i.joins),leaves:this.transformState(i.leaves)};return o||(o=()=>{}),r||(r=()=>{}),this.map(l,(h,g)=>{var p;const v=(p=e[h])!==null&&p!==void 0?p:[];if(e[h]=this.cloneDeep(g),v.length>0){const S=e[h].map(x=>x.presence_ref),b=v.filter(x=>S.indexOf(x.presence_ref)<0);e[h].unshift(...b)}o(h,v,g)}),this.map(c,(h,g)=>{let p=e[h];if(!p)return;const v=g.map(S=>S.presence_ref);p=p.filter(S=>v.indexOf(S.presence_ref)<0),e[h]=p,r(h,p,g),p.length===0&&delete e[h]}),e}static map(e,i){return Object.getOwnPropertyNames(e).map(o=>i(o,e[o]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((i,o)=>{const r=e[o];return"metas"in r?i[o]=r.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):i[o]=r,i},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Ay;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Ay||(Ay={}));var Wr;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Wr||(Wr={}));var oi;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(oi||(oi={}));class No{constructor(e,i={config:{}},o){var r,l;if(this.topic=e,this.params=i,this.socket=o,this.bindings={},this.state=yt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},i.config),this.timeout=this.socket.timeout,this.joinPush=new Bd(this,An.join,this.params,this.timeout),this.rejoinTimer=new jv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=yt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=yt.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=yt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=yt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=yt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(An.reply,{},(c,h)=>{this._trigger(this._replyEventName(h),c)}),this.presence=new Qr(this),this.broadcastEndpointURL=Kv(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(r=this.params.config)===null||r===void 0?void 0:r.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,i=this.timeout){var o,r,l;if(this.socket.isConnected()||this.socket.connect(),this.state==yt.closed){const{config:{broadcast:c,presence:h,private:g}}=this.params,p=(r=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(x=>x.filter))!==null&&r!==void 0?r:[],v=!!this.bindings[Wr.PRESENCE]&&this.bindings[Wr.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,S={},b={broadcast:c,presence:Object.assign(Object.assign({},h),{enabled:v}),postgres_changes:p,private:g};this.socket.accessTokenValue&&(S.access_token=this.socket.accessTokenValue),this._onError(x=>e==null?void 0:e(oi.CHANNEL_ERROR,x)),this._onClose(()=>e==null?void 0:e(oi.CLOSED)),this.updateJoinPayload(Object.assign({config:b},S)),this.joinedOnce=!0,this._rejoin(i),this.joinPush.receive("ok",async({postgres_changes:x})=>{var A;if(this.socket._isManualToken()||this.socket.setAuth(),x===void 0){e==null||e(oi.SUBSCRIBED);return}else{const C=this.bindings.postgres_changes,R=(A=C==null?void 0:C.length)!==null&&A!==void 0?A:0,k=[];for(let z=0;z<R;z++){const U=C[z],{filter:{event:H,schema:Y,table:B,filter:K}}=U,fe=x&&x[z];if(fe&&fe.event===H&&No.isFilterValueEqual(fe.schema,Y)&&No.isFilterValueEqual(fe.table,B)&&No.isFilterValueEqual(fe.filter,K))k.push(Object.assign(Object.assign({},U),{id:fe.id}));else{this.unsubscribe(),this.state=yt.errored,e==null||e(oi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=k,e&&e(oi.SUBSCRIBED);return}}).receive("error",x=>{this.state=yt.errored,e==null||e(oi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(oi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,i={}){return await this.send({type:"presence",event:"track",payload:e},i.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,i,o){return this.state===yt.joined&&e===Wr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,i,o)}async httpSend(e,i,o={}){var r;if(i==null)return Promise.reject("Payload is required for httpSend()");const l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:i,private:this.private}]})},h=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=o.timeout)!==null&&r!==void 0?r:this.timeout);if(h.status===202)return{success:!0};let g=h.statusText;try{const p=await h.json();g=p.error||p.message||g}catch{}return Promise.reject(new Error(g))}async send(e,i={}){var o,r;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:c}=e,h={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(h.Authorization=`Bearer ${this.socket.accessTokenValue}`);const g={method:"POST",headers:h,body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:c,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(o=i.timeout)!==null&&o!==void 0?o:this.timeout);return await((r=p.body)===null||r===void 0?void 0:r.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var c,h,g;const p=this._push(e.type,e,i.timeout||this.timeout);e.type==="broadcast"&&!(!((g=(h=(c=this.params)===null||c===void 0?void 0:c.config)===null||h===void 0?void 0:h.broadcast)===null||g===void 0)&&g.ack)&&l("ok"),p.receive("ok",()=>l("ok")),p.receive("error",()=>l("error")),p.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=yt.leaving;const i=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(An.close,"leave",this._joinRef())};this.joinPush.destroy();let o=null;return new Promise(r=>{o=new Bd(this,An.leave,{},e),o.receive("ok",()=>{i(),r("ok")}).receive("timeout",()=>{i(),r("timed out")}).receive("error",()=>{r("error")}),o.send(),this._canPush()||o.trigger("ok",{})}).finally(()=>{o==null||o.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=yt.closed,this.bindings={}}async _fetchWithTimeout(e,i,o){const r=new AbortController,l=setTimeout(()=>r.abort(),o),c=await this.socket.fetch(e,Object.assign(Object.assign({},i),{signal:r.signal}));return clearTimeout(l),c}_push(e,i,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new Bd(this,e,i,o);return this._canPush()?r.send():this._addToPushBuffer(r),r}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>t2){const i=this.pushBuffer.shift();i&&(i.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${i.event}`,i.payload))}}_onMessage(e,i,o){return i}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,i,o){var r,l;const c=e.toLocaleLowerCase(),{close:h,error:g,leave:p,join:v}=An;if(o&&[h,g,p,v].indexOf(c)>=0&&o!==this._joinRef())return;let b=this._onMessage(c,i,o);if(i&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(x=>{var A,C,R;return((A=x.filter)===null||A===void 0?void 0:A.event)==="*"||((R=(C=x.filter)===null||C===void 0?void 0:C.event)===null||R===void 0?void 0:R.toLocaleLowerCase())===c}).map(x=>x.callback(b,o)):(l=this.bindings[c])===null||l===void 0||l.filter(x=>{var A,C,R,k,z,U;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in x){const H=x.id,Y=(A=x.filter)===null||A===void 0?void 0:A.event;return H&&((C=i.ids)===null||C===void 0?void 0:C.includes(H))&&(Y==="*"||(Y==null?void 0:Y.toLocaleLowerCase())===((R=i.data)===null||R===void 0?void 0:R.type.toLocaleLowerCase()))}else{const H=(z=(k=x==null?void 0:x.filter)===null||k===void 0?void 0:k.event)===null||z===void 0?void 0:z.toLocaleLowerCase();return H==="*"||H===((U=i==null?void 0:i.event)===null||U===void 0?void 0:U.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===c}).map(x=>{if(typeof b=="object"&&"ids"in b){const A=b.data,{schema:C,table:R,commit_timestamp:k,type:z,errors:U}=A;b=Object.assign(Object.assign({},{schema:C,table:R,commit_timestamp:k,eventType:z,new:{},old:{},errors:U}),this._getPayloadRecords(A))}x.callback(b,o)})}_isClosed(){return this.state===yt.closed}_isJoined(){return this.state===yt.joined}_isJoining(){return this.state===yt.joining}_isLeaving(){return this.state===yt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,i,o){const r=e.toLocaleLowerCase(),l={type:r,filter:i,callback:o};return this.bindings[r]?this.bindings[r].push(l):this.bindings[r]=[l],this}_off(e,i){const o=e.toLocaleLowerCase();return this.bindings[o]&&(this.bindings[o]=this.bindings[o].filter(r=>{var l;return!(((l=r.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===o&&No.isEqual(r.filter,i))})),this}static isEqual(e,i){if(Object.keys(e).length!==Object.keys(i).length)return!1;for(const o in e)if(e[o]!==i[o])return!1;return!0}static isFilterValueEqual(e,i){return(e??void 0)===(i??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(An.close,{},e)}_onError(e){this._on(An.error,{},i=>e(i))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=yt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const i={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(i.new=xy(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(i.old=xy(e.columns,e.old_record)),i}}const Gd=()=>{},Hl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},u2=[1e3,2e3,5e3,1e4],c2=1e4,d2=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class f2{constructor(e,i){var o;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=cf,this.transport=null,this.heartbeatIntervalMs=Hl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Gd,this.ref=0,this.reconnectTimer=null,this.vsn=Ty,this.logger=Gd,this.conn=null,this.sendBuffer=[],this.serializer=new n2,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=r=>r?(...l)=>r(...l):(...l)=>fetch(...l),!(!((o=i==null?void 0:i.params)===null||o===void 0)&&o.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=i.params.apikey,this.endPoint=`${e}/${df.websocket}`,this.httpEndpoint=Kv(e),this._initializeOptions(i),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(i==null?void 0:i.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=XR.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const i=e.message;throw i.includes("Node.js")?new Error(`${i}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${i}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,i){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const o=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(o),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,i??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const i=await e.unsubscribe();return i==="ok"&&this._remove(e),this.channels.length===0&&this.disconnect(),i}async removeAllChannels(){const e=await Promise.all(this.channels.map(i=>i.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,i,o){this.logger(e,i,o)}connectionState(){switch(this.conn&&this.conn.readyState){case Yi.connecting:return Ts.Connecting;case Yi.open:return Ts.Open;case Yi.closing:return Ts.Closing;default:return Ts.Closed}}isConnected(){return this.connectionState()===Ts.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,i={config:{}}){const o=`realtime:${e}`,r=this.getChannels().find(l=>l.topic===o);if(r)return r;{const l=new No(`realtime:${e}`,i,this);return this.channels.push(l),l}}push(e){const{topic:i,event:o,payload:r,ref:l}=e,c=()=>{this.encode(e,h=>{var g;(g=this.conn)===null||g===void 0||g.send(h)})};this.log("push",`${i} ${o} (${l})`,r),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(i){this.log("error","error in heartbeat callback",i)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(i){this.log("error","error in heartbeat callback",i)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(e2,"heartbeat timeout"),setTimeout(()=>{var i;this.isConnected()||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout()},Hl.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(i){this.log("error","error in heartbeat callback",i)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let i=this.channels.find(o=>o.topic===e&&(o._isJoined()||o._isJoining()));i&&(this.log("transport",`leaving duplicate topic "${e}"`),i.unsubscribe())}_remove(e){this.channels=this.channels.filter(i=>i.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,i=>{if(i.topic==="phoenix"&&i.event==="phx_reply"&&i.ref&&i.ref===this.pendingHeartbeatRef){const p=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(i.payload.status==="ok"?"ok":"error",p)}catch(v){this.log("error","error in heartbeat callback",v)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:o,event:r,payload:l,ref:c}=i,h=c?`(${c})`:"",g=l.status||"";this.log("receive",`${g} ${o} ${r} ${h}`.trim(),l),this.channels.filter(p=>p._isMember(o)).forEach(p=>p._trigger(r,l,c)),this._triggerStateCallbacks("message",i)})}_clearTimer(e){var i;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((i=this.reconnectTimer)===null||i===void 0||i.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Yi.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Yi.open||this.conn.readyState===Yi.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(i=>{this.log("error","error waiting for auth on connect",i),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=i=>{this.log("worker","worker error",i.message),this._terminateWorker()},this.workerRef.onmessage=i=>{i.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var i;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e);try{this.heartbeatCallback("error")}catch(i){this.log("error","error in heartbeat callback",i)}}_triggerChanError(){this.channels.forEach(e=>e._trigger(An.error))}_appendParams(e,i){if(Object.keys(i).length===0)return e;const o=e.match(/\?/)?"&":"?",r=new URLSearchParams(i);return`${e}${o}${r}`}_workerObjectUrl(e){let i;if(e)i=e;else{const o=new Blob([d2],{type:"application/javascript"});i=URL.createObjectURL(o)}return i}_setConnectionState(e,i=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=i)}async _performAuth(e=null){let i,o=!1;if(e)i=e,o=!0;else if(this.accessToken)try{i=await this.accessToken()}catch(r){this.log("error","Error fetching access token from callback",r),i=this.accessTokenValue}else i=this.accessTokenValue;o?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=i&&(this.accessTokenValue=i,this.channels.forEach(r=>{const l={access_token:i,version:WR};i&&r.updateJoinPayload(l),r.joinedOnce&&r._isJoined()&&r._push(An.access_token,{access_token:i})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(i=>{this.log("error",`Error setting auth in ${e}`,i)})}_triggerStateCallbacks(e,i){try{this.stateChangeCallbacks[e].forEach(o=>{try{o(i)}catch(r){this.log("error",`error in ${e} callback`,r)}})}catch(o){this.log("error",`error triggering ${e} callbacks`,o)}}_setupReconnectionTimer(){this.reconnectTimer=new jv(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Hl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var i,o,r,l,c,h,g,p,v,S,b,x;switch(this.transport=(i=e==null?void 0:e.transport)!==null&&i!==void 0?i:null,this.timeout=(o=e==null?void 0:e.timeout)!==null&&o!==void 0?o:cf,this.heartbeatIntervalMs=(r=e==null?void 0:e.heartbeatIntervalMs)!==null&&r!==void 0?r:Hl.HEARTBEAT_INTERVAL,this.worker=(l=e==null?void 0:e.worker)!==null&&l!==void 0?l:!1,this.accessToken=(c=e==null?void 0:e.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(h=e==null?void 0:e.heartbeatCallback)!==null&&h!==void 0?h:Gd,this.vsn=(g=e==null?void 0:e.vsn)!==null&&g!==void 0?g:Ty,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=e==null?void 0:e.reconnectAfterMs)!==null&&p!==void 0?p:(A=>u2[A-1]||c2),this.vsn){case ZR:this.encode=(v=e==null?void 0:e.encode)!==null&&v!==void 0?v:((A,C)=>C(JSON.stringify(A))),this.decode=(S=e==null?void 0:e.decode)!==null&&S!==void 0?S:((A,C)=>C(JSON.parse(A)));break;case $v:this.encode=(b=e==null?void 0:e.encode)!==null&&b!==void 0?b:this.serializer.encode.bind(this.serializer),this.decode=(x=e==null?void 0:e.decode)!==null&&x!==void 0?x:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var ea=class extends Error{constructor(t,e){var i;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((i=e.icebergType)==null?void 0:i.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function h2(t,e,i){const o=new URL(e,t);if(i)for(const[r,l]of Object.entries(i))l!==void 0&&o.searchParams.set(r,l);return o.toString()}async function p2(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function m2(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:i,path:o,query:r,body:l,headers:c}){const h=h2(t.baseUrl,o,r),g=await p2(t.auth),p=await e(h,{method:i,headers:{...l?{"Content-Type":"application/json"}:{},...g,...c},body:l?JSON.stringify(l):void 0}),v=await p.text(),S=(p.headers.get("content-type")||"").includes("application/json"),b=S&&v?JSON.parse(v):v;if(!p.ok){const x=S?b:void 0,A=x==null?void 0:x.error;throw new ea((A==null?void 0:A.message)??`Request failed with status ${p.status}`,{status:p.status,icebergType:A==null?void 0:A.type,icebergCode:A==null?void 0:A.code,details:x})}return{status:p.status,headers:p.headers,data:b}}}}function Vl(t){return t.join("")}var g2=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Vl(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(o=>({namespace:o}))}async createNamespace(t,e){const i={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:i})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Vl(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Vl(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Vl(t.namespace)}`}),!0}catch(e){if(e instanceof ea&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(i){if(i instanceof ea&&i.status===409)return;throw i}}};function yo(t){return t.join("")}var y2=class{constructor(t,e="",i){this.client=t,this.prefix=e,this.accessDelegation=i}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${yo(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const i={};return this.accessDelegation&&(i["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${yo(t.namespace)}/tables`,body:e,headers:i})).data.metadata}async updateTable(t,e){const i=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${yo(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":i.data["metadata-location"],metadata:i.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${yo(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${yo(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${yo(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(i){if(i instanceof ea&&i.status===404)return!1;throw i}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(i){if(i instanceof ea&&i.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw i}}},v2=class{constructor(t){var o;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const i=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=m2({baseUrl:i,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(o=t.accessDelegation)==null?void 0:o.join(","),this.namespaceOps=new g2(this.client,e),this.tableOps=new y2(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},hu=class extends Error{constructor(t,e="storage",i,o){super(t),this.__isStorageError=!0,this.namespace=e,this.name=e==="vectors"?"StorageVectorsError":"StorageError",this.status=i,this.statusCode=o}};function pu(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var Fl=class extends hu{constructor(t,e,i,o="storage"){super(t,o,e,i),this.name=o==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=e,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Yv=class extends hu{constructor(t,e,i="storage"){super(t,i),this.name=i==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=e}};const _2=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),S2=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},hf=t=>{if(Array.isArray(t))return t.map(i=>hf(i));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([i,o])=>{const r=i.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[r]=hf(o)}),e},b2=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function ta(t){"@babel/helpers - typeof";return ta=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ta(t)}function E2(t,e){if(ta(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var o=i.call(t,e);if(ta(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function T2(t){var e=E2(t,"string");return ta(e)=="symbol"?e:e+""}function x2(t,e,i){return(e=T2(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Cy(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),i.push.apply(i,o)}return i}function ge(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?Cy(Object(i),!0).forEach(function(o){x2(t,o,i[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Cy(Object(i)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(i,o))})}return t}const Ny=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},w2=async(t,e,i,o)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(i!=null&&i.noResolveJson)){const r=t,l=r.status||500;if(typeof r.json=="function")r.json().then(c=>{const h=(c==null?void 0:c.statusCode)||(c==null?void 0:c.code)||l+"";e(new Fl(Ny(c),l,h,o))}).catch(()=>{if(o==="vectors"){const c=l+"";e(new Fl(r.statusText||`HTTP ${l} error`,l,c,o))}else{const c=l+"";e(new Fl(r.statusText||`HTTP ${l} error`,l,c,o))}});else{const c=l+"";e(new Fl(r.statusText||`HTTP ${l} error`,l,c,o))}}else e(new Yv(Ny(t),t,o))},A2=(t,e,i,o)=>{const r={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||t==="HEAD"||!o?ge(ge({},r),i):(S2(o)?(r.headers=ge({"Content-Type":"application/json"},e==null?void 0:e.headers),r.body=JSON.stringify(o)):r.body=o,e!=null&&e.duplex&&(r.duplex=e.duplex),ge(ge({},r),i))};async function Kr(t,e,i,o,r,l,c){return new Promise((h,g)=>{t(i,A2(e,o,r,l)).then(p=>{if(!p.ok)throw p;if(o!=null&&o.noResolveJson)return p;if(c==="vectors"){const v=p.headers.get("content-type");if(p.headers.get("content-length")==="0"||p.status===204)return{};if(!v||!v.includes("application/json"))return{}}return p.json()}).then(p=>h(p)).catch(p=>w2(p,g,o,c))})}function Xv(t="storage"){return{get:async(e,i,o,r)=>Kr(e,"GET",i,o,r,void 0,t),post:async(e,i,o,r,l)=>Kr(e,"POST",i,r,l,o,t),put:async(e,i,o,r,l)=>Kr(e,"PUT",i,r,l,o,t),head:async(e,i,o,r)=>Kr(e,"HEAD",i,ge(ge({},o),{},{noResolveJson:!0}),r,void 0,t),remove:async(e,i,o,r,l)=>Kr(e,"DELETE",i,r,l,o,t)}}const C2=Xv("storage"),{get:na,post:wn,put:pf,head:N2,remove:Of}=C2,on=Xv("vectors");var Po=class{constructor(t,e={},i,o="storage"){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.fetch=_2(i),this.namespace=o}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(t){var e=this;try{return{data:await t(),error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(pu(i))return{data:null,error:i};throw i}}},R2=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(pu(e))return{data:null,error:e};throw e}}};let Qv;Qv=Symbol.toStringTag;var I2=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[Qv]="BlobDownloadBuilder",this.promise=null}asStream(){return new R2(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(pu(e))return{data:null,error:e};throw e}}};const M2={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ry={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var D2=class extends Po{constructor(t,e={},i,o){super(t,e,o,"storage"),this.bucketId=i}async uploadOrUpdate(t,e,i,o){var r=this;return r.handleOperation(async()=>{let l;const c=ge(ge({},Ry),o);let h=ge(ge({},r.headers),t==="POST"&&{"x-upsert":String(c.upsert)});const g=c.metadata;typeof Blob<"u"&&i instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),g&&l.append("metadata",r.encodeMetadata(g)),l.append("",i)):typeof FormData<"u"&&i instanceof FormData?(l=i,l.has("cacheControl")||l.append("cacheControl",c.cacheControl),g&&!l.has("metadata")&&l.append("metadata",r.encodeMetadata(g))):(l=i,h["cache-control"]=`max-age=${c.cacheControl}`,h["content-type"]=c.contentType,g&&(h["x-metadata"]=r.toBase64(r.encodeMetadata(g))),(typeof ReadableStream<"u"&&l instanceof ReadableStream||l&&typeof l=="object"&&"pipe"in l&&typeof l.pipe=="function")&&!c.duplex&&(c.duplex="half")),o!=null&&o.headers&&(h=ge(ge({},h),o.headers));const p=r._removeEmptyFolders(e),v=r._getFinalPath(p),S=await(t=="PUT"?pf:wn)(r.fetch,`${r.url}/object/${v}`,l,ge({headers:h},c!=null&&c.duplex?{duplex:c.duplex}:{}));return{path:p,id:S.Id,fullPath:S.Key}})}async upload(t,e,i){return this.uploadOrUpdate("POST",t,e,i)}async uploadToSignedUrl(t,e,i,o){var r=this;const l=r._removeEmptyFolders(t),c=r._getFinalPath(l),h=new URL(r.url+`/object/upload/sign/${c}`);return h.searchParams.set("token",e),r.handleOperation(async()=>{let g;const p=ge({upsert:Ry.upsert},o),v=ge(ge({},r.headers),{"x-upsert":String(p.upsert)});return typeof Blob<"u"&&i instanceof Blob?(g=new FormData,g.append("cacheControl",p.cacheControl),g.append("",i)):typeof FormData<"u"&&i instanceof FormData?(g=i,g.append("cacheControl",p.cacheControl)):(g=i,v["cache-control"]=`max-age=${p.cacheControl}`,v["content-type"]=p.contentType),{path:l,fullPath:(await pf(r.fetch,h.toString(),g,{headers:v})).Key}})}async createSignedUploadUrl(t,e){var i=this;return i.handleOperation(async()=>{let o=i._getFinalPath(t);const r=ge({},i.headers);e!=null&&e.upsert&&(r["x-upsert"]="true");const l=await wn(i.fetch,`${i.url}/object/upload/sign/${o}`,{},{headers:r}),c=new URL(i.url+l.url),h=c.searchParams.get("token");if(!h)throw new hu("No token returned by API");return{signedUrl:c.toString(),path:t,token:h}})}async update(t,e,i){return this.uploadOrUpdate("PUT",t,e,i)}async move(t,e,i){var o=this;return o.handleOperation(async()=>await wn(o.fetch,`${o.url}/object/move`,{bucketId:o.bucketId,sourceKey:t,destinationKey:e,destinationBucket:i==null?void 0:i.destinationBucket},{headers:o.headers}))}async copy(t,e,i){var o=this;return o.handleOperation(async()=>({path:(await wn(o.fetch,`${o.url}/object/copy`,{bucketId:o.bucketId,sourceKey:t,destinationKey:e,destinationBucket:i==null?void 0:i.destinationBucket},{headers:o.headers})).Key}))}async createSignedUrl(t,e,i){var o=this;return o.handleOperation(async()=>{let r=o._getFinalPath(t),l=await wn(o.fetch,`${o.url}/object/sign/${r}`,ge({expiresIn:e},i!=null&&i.transform?{transform:i.transform}:{}),{headers:o.headers});const c=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return{signedUrl:encodeURI(`${o.url}${l.signedURL}${c}`)}})}async createSignedUrls(t,e,i){var o=this;return o.handleOperation(async()=>{const r=await wn(o.fetch,`${o.url}/object/sign/${o.bucketId}`,{expiresIn:e,paths:t},{headers:o.headers}),l=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return r.map(c=>ge(ge({},c),{},{signedUrl:c.signedURL?encodeURI(`${o.url}${c.signedURL}${l}`):null}))})}download(t,e,i){const o=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),l=r?`?${r}`:"",c=this._getFinalPath(t),h=()=>na(this.fetch,`${this.url}/${o}/${c}${l}`,{headers:this.headers,noResolveJson:!0},i);return new I2(h,this.shouldThrowOnError)}async info(t){var e=this;const i=e._getFinalPath(t);return e.handleOperation(async()=>hf(await na(e.fetch,`${e.url}/object/info/${i}`,{headers:e.headers})))}async exists(t){var e=this;const i=e._getFinalPath(t);try{return await N2(e.fetch,`${e.url}/object/${i}`,{headers:e.headers}),{data:!0,error:null}}catch(o){if(e.shouldThrowOnError)throw o;if(pu(o)&&o instanceof Yv){const r=o.originalError;if([400,404].includes(r==null?void 0:r.status))return{data:!1,error:o}}throw o}}getPublicUrl(t,e){const i=this._getFinalPath(t),o=[],r=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";r!==""&&o.push(r);const l=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});c!==""&&o.push(c);let h=o.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${i}${h}`)}}}async remove(t){var e=this;return e.handleOperation(async()=>await Of(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}))}async list(t,e,i){var o=this;return o.handleOperation(async()=>{const r=ge(ge(ge({},M2),e),{},{prefix:t||""});return await wn(o.fetch,`${o.url}/object/list/${o.bucketId}`,r,{headers:o.headers},i)})}async listV2(t,e){var i=this;return i.handleOperation(async()=>{const o=ge({},t);return await wn(i.fetch,`${i.url}/object/list-v2/${i.bucketId}`,o,{headers:i.headers},e)})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const k2="2.95.3",oa={"X-Client-Info":`storage-js/${k2}`};var U2=class extends Po{constructor(t,e={},i,o){const r=new URL(t);o!=null&&o.useNewHostname&&/supabase\.(co|in|red)$/.test(r.hostname)&&!r.hostname.includes("storage.supabase.")&&(r.hostname=r.hostname.replace("supabase.","storage.supabase."));const l=r.href.replace(/\/$/,""),c=ge(ge({},oa),e);super(l,c,i,"storage")}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const i=e.listBucketOptionsToQueryString(t);return await na(e.fetch,`${e.url}/bucket${i}`,{headers:e.headers})})}async getBucket(t){var e=this;return e.handleOperation(async()=>await na(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}))}async createBucket(t,e={public:!1}){var i=this;return i.handleOperation(async()=>await wn(i.fetch,`${i.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:i.headers}))}async updateBucket(t,e){var i=this;return i.handleOperation(async()=>await pf(i.fetch,`${i.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:i.headers}))}async emptyBucket(t){var e=this;return e.handleOperation(async()=>await wn(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await Of(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},O2=class extends Po{constructor(t,e={},i){const o=t.replace(/\/$/,""),r=ge(ge({},oa),e);super(o,r,i,"storage")}async createBucket(t){var e=this;return e.handleOperation(async()=>await wn(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}))}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const i=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&i.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&i.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&i.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&i.set("sortOrder",t.sortOrder),t!=null&&t.search&&i.set("search",t.search);const o=i.toString(),r=o?`${e.url}/bucket?${o}`:`${e.url}/bucket`;return await na(e.fetch,r,{headers:e.headers})})}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await Of(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}from(t){var e=this;if(!b2(t))throw new hu("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const i=new v2({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),o=this.shouldThrowOnError;return new Proxy(i,{get(r,l){const c=r[l];return typeof c!="function"?c:async(...h)=>{try{return{data:await c.apply(r,h),error:null}}catch(g){if(o)throw g;return{data:null,error:g}}}}})}},P2=class extends Po{constructor(t,e={},i){const o=t.replace(/\/$/,""),r=ge(ge({},oa),{},{"Content-Type":"application/json"},e);super(o,r,i,"vectors")}async createIndex(t){var e=this;return e.handleOperation(async()=>await on.post(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{})}async getIndex(t,e){var i=this;return i.handleOperation(async()=>await on.post(i.fetch,`${i.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:i.headers}))}async listIndexes(t){var e=this;return e.handleOperation(async()=>await on.post(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}))}async deleteIndex(t,e){var i=this;return i.handleOperation(async()=>await on.post(i.fetch,`${i.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:i.headers})||{})}},L2=class extends Po{constructor(t,e={},i){const o=t.replace(/\/$/,""),r=ge(ge({},oa),{},{"Content-Type":"application/json"},e);super(o,r,i,"vectors")}async putVectors(t){var e=this;if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return e.handleOperation(async()=>await on.post(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{})}async getVectors(t){var e=this;return e.handleOperation(async()=>await on.post(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}))}async listVectors(t){var e=this;if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return e.handleOperation(async()=>await on.post(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}))}async queryVectors(t){var e=this;return e.handleOperation(async()=>await on.post(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}))}async deleteVectors(t){var e=this;if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return e.handleOperation(async()=>await on.post(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{})}},q2=class extends Po{constructor(t,e={},i){const o=t.replace(/\/$/,""),r=ge(ge({},oa),{},{"Content-Type":"application/json"},e);super(o,r,i,"vectors")}async createBucket(t){var e=this;return e.handleOperation(async()=>await on.post(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}async getBucket(t){var e=this;return e.handleOperation(async()=>await on.post(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}))}async listBuckets(t={}){var e=this;return e.handleOperation(async()=>await on.post(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await on.post(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}},B2=class extends q2{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new G2(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,i=this;return e().call(i,t)}async getBucket(t){var e=()=>super.getBucket,i=this;return e().call(i,t)}async listBuckets(t={}){var e=()=>super.listBuckets,i=this;return e().call(i,t)}async deleteBucket(t){var e=()=>super.deleteBucket,i=this;return e().call(i,t)}},G2=class extends P2{constructor(t,e,i,o){super(t,e,o),this.vectorBucketName=i}async createIndex(t){var e=()=>super.createIndex,i=this;return e().call(i,ge(ge({},t),{},{vectorBucketName:i.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,i=this;return e().call(i,ge(ge({},t),{},{vectorBucketName:i.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,i=this;return e().call(i,i.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,i=this;return e().call(i,i.vectorBucketName,t)}index(t){return new z2(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},z2=class extends L2{constructor(t,e,i,o,r){super(t,e,r),this.vectorBucketName=i,this.indexName=o}async putVectors(t){var e=()=>super.putVectors,i=this;return e().call(i,ge(ge({},t),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async getVectors(t){var e=()=>super.getVectors,i=this;return e().call(i,ge(ge({},t),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,i=this;return e().call(i,ge(ge({},t),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,i=this;return e().call(i,ge(ge({},t),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,i=this;return e().call(i,ge(ge({},t),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}},H2=class extends U2{constructor(t,e={},i,o){super(t,e,i,o)}from(t){return new D2(this.url,this.headers,t,this.fetch)}get vectors(){return new B2(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new O2(this.url+"/iceberg",this.headers,this.fetch)}};const V2="2.39.0";let Xr="";typeof Deno<"u"?Xr="deno":typeof document<"u"?Xr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Xr="react-native":Xr="node";const F2={"X-Client-Info":`supabase-js-${Xr}/${V2}`};var $2=function(t,e,i,o){function r(l){return l instanceof i?l:new i(function(c){c(l)})}return new(i||(i=Promise))(function(l,c){function h(v){try{p(o.next(v))}catch(S){c(S)}}function g(v){try{p(o.throw(v))}catch(S){c(S)}}function p(v){v.done?l(v.value):r(v.value).then(h,g)}p((o=o.apply(t,e||[])).next())})};const j2=t=>{let e;return t?e=t:typeof fetch>"u"?e=Bv:e=fetch,(...i)=>e(...i)},J2=()=>typeof Headers>"u"?Gv:Headers,K2=(t,e,i)=>{const o=j2(i),r=J2();return(l,c)=>$2(void 0,void 0,void 0,function*(){var h;const g=(h=yield e())!==null&&h!==void 0?h:t;let p=new r(c==null?void 0:c.headers);return p.has("apikey")||p.set("apikey",t),p.has("Authorization")||p.set("Authorization",`Bearer ${g}`),o(l,Object.assign(Object.assign({},c),{headers:p}))})};function Y2(t){return t.replace(/\/$/,"")}function X2(t,e){const{db:i,auth:o,realtime:r,global:l}=t,{db:c,auth:h,realtime:g,global:p}=e;return{db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},h),o),realtime:Object.assign(Object.assign({},g),r),global:Object.assign(Object.assign({},p),l)}}const Wv="2.95.3",xo=30*1e3,mf=3,zd=mf*xo,Q2="http://localhost:9999",W2="supabase.auth.token",Z2={"X-Client-Info":`gotrue-js/${Wv}`},gf="X-Supabase-Api-Version",Zv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},eI=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,tI=600*1e3;class ia extends Error{constructor(e,i,o){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=i,this.code=o}}function ue(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class nI extends ia{constructor(e,i,o){super(e,i,o),this.name="AuthApiError",this.status=i,this.code=o}}function iI(t){return ue(t)&&t.name==="AuthApiError"}class xs extends ia{constructor(e,i){super(e),this.name="AuthUnknownError",this.originalError=i}}class di extends ia{constructor(e,i,o,r){super(e,o,r),this.name=i,this.status=o}}class sn extends di{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Hd(t){return ue(t)&&t.name==="AuthSessionMissingError"}class vo extends di{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class $l extends di{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class jl extends di{constructor(e,i=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function sI(t){return ue(t)&&t.name==="AuthImplicitGrantRedirectError"}class Iy extends di{constructor(e,i=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class oI extends di{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class yf extends di{constructor(e,i){super(e,"AuthRetryableFetchError",i,void 0)}}function Vd(t){return ue(t)&&t.name==="AuthRetryableFetchError"}class My extends di{constructor(e,i,o){super(e,"AuthWeakPasswordError",i,"weak_password"),this.reasons=o}}class vf extends di{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const nu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Dy=` 	
\r=`.split(""),rI=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Dy.length;e+=1)t[Dy[e].charCodeAt(0)]=-2;for(let e=0;e<nu.length;e+=1)t[nu[e].charCodeAt(0)]=e;return t})();function ky(t,e,i){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const o=e.queue>>e.queuedBits-6&63;i(nu[o]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const o=e.queue>>e.queuedBits-6&63;i(nu[o]),e.queuedBits-=6}}function e_(t,e,i){const o=rI[t];if(o>-1)for(e.queue=e.queue<<6|o,e.queuedBits+=6;e.queuedBits>=8;)i(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(o===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Uy(t){const e=[],i=c=>{e.push(String.fromCodePoint(c))},o={utf8seq:0,codepoint:0},r={queue:0,queuedBits:0},l=c=>{uI(c,o,i)};for(let c=0;c<t.length;c+=1)e_(t.charCodeAt(c),r,l);return e.join("")}function aI(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function lI(t,e){for(let i=0;i<t.length;i+=1){let o=t.charCodeAt(i);if(o>55295&&o<=56319){const r=(o-55296)*1024&65535;o=(t.charCodeAt(i+1)-56320&65535|r)+65536,i+=1}aI(o,e)}}function uI(t,e,i){if(e.utf8seq===0){if(t<=127){i(t);return}for(let o=1;o<6;o+=1)if((t>>7-o&1)===0){e.utf8seq=o;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&i(e.codepoint)}}function Mo(t){const e=[],i={queue:0,queuedBits:0},o=r=>{e.push(r)};for(let r=0;r<t.length;r+=1)e_(t.charCodeAt(r),i,o);return new Uint8Array(e)}function cI(t){const e=[];return lI(t,i=>e.push(i)),new Uint8Array(e)}function ws(t){const e=[],i={queue:0,queuedBits:0},o=r=>{e.push(r)};return t.forEach(r=>ky(r,i,o)),ky(null,i,o),e.join("")}function dI(t){return Math.round(Date.now()/1e3)+t}function fI(){return Symbol("auth-callback")}const Nt=()=>typeof window<"u"&&typeof document<"u",_s={tested:!1,writable:!1},t_=()=>{if(!Nt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(_s.tested)return _s.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),_s.tested=!0,_s.writable=!0}catch{_s.tested=!0,_s.writable=!1}return _s.writable};function hI(t){const e={},i=new URL(t);if(i.hash&&i.hash[0]==="#")try{new URLSearchParams(i.hash.substring(1)).forEach((r,l)=>{e[l]=r})}catch{}return i.searchParams.forEach((o,r)=>{e[r]=o}),e}const n_=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),pI=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",wo=async(t,e,i)=>{await t.setItem(e,JSON.stringify(i))},Ss=async(t,e)=>{const i=await t.getItem(e);if(!i)return null;try{return JSON.parse(i)}catch{return i}},Ct=async(t,e)=>{await t.removeItem(e)};class mu{constructor(){this.promise=new mu.promiseConstructor((e,i)=>{this.resolve=e,this.reject=i})}}mu.promiseConstructor=Promise;function Jl(t){const e=t.split(".");if(e.length!==3)throw new vf("Invalid JWT structure");for(let o=0;o<e.length;o++)if(!eI.test(e[o]))throw new vf("JWT not in base64url format");return{header:JSON.parse(Uy(e[0])),payload:JSON.parse(Uy(e[1])),signature:Mo(e[2]),raw:{header:e[0],payload:e[1]}}}async function mI(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function gI(t,e){return new Promise((o,r)=>{(async()=>{for(let l=0;l<1/0;l++)try{const c=await t(l);if(!e(l,null,c)){o(c);return}}catch(c){if(!e(l,c)){r(c);return}}})()})}function yI(t){return("0"+t.toString(16)).substr(-2)}function vI(){const e=new Uint32Array(56);if(typeof crypto>"u"){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",o=i.length;let r="";for(let l=0;l<56;l++)r+=i.charAt(Math.floor(Math.random()*o));return r}return crypto.getRandomValues(e),Array.from(e,yI).join("")}async function _I(t){const i=new TextEncoder().encode(t),o=await crypto.subtle.digest("SHA-256",i),r=new Uint8Array(o);return Array.from(r).map(l=>String.fromCharCode(l)).join("")}async function SI(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const i=await _I(t);return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function _o(t,e,i=!1){const o=vI();let r=o;i&&(r+="/PASSWORD_RECOVERY"),await wo(t,`${e}-code-verifier`,r);const l=await SI(o);return[l,o===l?"plain":"s256"]}const bI=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function EI(t){const e=t.headers.get(gf);if(!e||!e.match(bI))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function TI(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function xI(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const wI=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function So(t){if(!wI.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Fd(){const t={};return new Proxy(t,{get:(e,i)=>{if(i==="__isUserNotAvailableProxy")return!0;if(typeof i=="symbol"){const o=i.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${i}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function AI(t,e){return new Proxy(t,{get:(i,o,r)=>{if(o==="__isInsecureUserWarningProxy")return!0;if(typeof o=="symbol"){const l=o.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(i,o,r)}return!e.value&&typeof o=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(i,o,r)}})}function Oy(t){return JSON.parse(JSON.stringify(t))}const Es=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),CI=[502,503,504];async function Py(t){var e;if(!pI(t))throw new yf(Es(t),0);if(CI.includes(t.status))throw new yf(Es(t),t.status);let i;try{i=await t.json()}catch(l){throw new xs(Es(l),l)}let o;const r=EI(t);if(r&&r.getTime()>=Zv["2024-01-01"].timestamp&&typeof i=="object"&&i&&typeof i.code=="string"?o=i.code:typeof i=="object"&&i&&typeof i.error_code=="string"&&(o=i.error_code),o){if(o==="weak_password")throw new My(Es(i),t.status,((e=i.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(o==="session_not_found")throw new sn}else if(typeof i=="object"&&i&&typeof i.weak_password=="object"&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce((l,c)=>l&&typeof c=="string",!0))throw new My(Es(i),t.status,i.weak_password.reasons);throw new nI(Es(i),t.status||500,o)}const NI=(t,e,i,o)=>{const r={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),r.body=JSON.stringify(o),Object.assign(Object.assign({},r),i))};async function me(t,e,i,o){var r;const l=Object.assign({},o==null?void 0:o.headers);l[gf]||(l[gf]=Zv["2024-01-01"].name),o!=null&&o.jwt&&(l.Authorization=`Bearer ${o.jwt}`);const c=(r=o==null?void 0:o.query)!==null&&r!==void 0?r:{};o!=null&&o.redirectTo&&(c.redirect_to=o.redirectTo);const h=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",g=await RI(t,e,i+h,{headers:l,noResolveJson:o==null?void 0:o.noResolveJson},{},o==null?void 0:o.body);return o!=null&&o.xform?o==null?void 0:o.xform(g):{data:Object.assign({},g),error:null}}async function RI(t,e,i,o,r,l){const c=NI(e,o,r,l);let h;try{h=await t(i,Object.assign({},c))}catch(g){throw console.error(g),new yf(Es(g),0)}if(h.ok||await Py(h),o!=null&&o.noResolveJson)return h;try{return await h.json()}catch(g){await Py(g)}}function xn(t){var e;let i=null;DI(t)&&(i=Object.assign({},t),t.expires_at||(i.expires_at=dI(t.expires_in)));const o=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:i,user:o},error:null}}function Ly(t){const e=xn(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Xi(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function II(t){return{data:t,error:null}}function MI(t){const{action_link:e,email_otp:i,hashed_token:o,redirect_to:r,verification_type:l}=t,c=fu(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:e,email_otp:i,hashed_token:o,redirect_to:r,verification_type:l},g=Object.assign({},c);return{data:{properties:h,user:g},error:null}}function qy(t){return t}function DI(t){return t.access_token&&t.refresh_token&&t.expires_in}const $d=["global","local","others"];class kI{constructor({url:e="",headers:i={},fetch:o}){this.url=e,this.headers=i,this.fetch=n_(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,i=$d[0]){if($d.indexOf(i)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${$d.join(", ")}`);try{return await me(this.fetch,"POST",`${this.url}/logout?scope=${i}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(o){if(ue(o))return{data:null,error:o};throw o}}async inviteUserByEmail(e,i={}){try{return await me(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:i.data},headers:this.headers,redirectTo:i.redirectTo,xform:Xi})}catch(o){if(ue(o))return{data:{user:null},error:o};throw o}}async generateLink(e){try{const{options:i}=e,o=fu(e,["options"]),r=Object.assign(Object.assign({},o),i);return"newEmail"in o&&(r.new_email=o==null?void 0:o.newEmail,delete r.newEmail),await me(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:MI,redirectTo:i==null?void 0:i.redirectTo})}catch(i){if(ue(i))return{data:{properties:null,user:null},error:i};throw i}}async createUser(e){try{return await me(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Xi})}catch(i){if(ue(i))return{data:{user:null},error:i};throw i}}async listUsers(e){var i,o,r,l,c,h,g;try{const p={nextPage:null,lastPage:0,total:0},v=await me(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(i=e==null?void 0:e.page)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:"",per_page:(l=(r=e==null?void 0:e.perPage)===null||r===void 0?void 0:r.toString())!==null&&l!==void 0?l:""},xform:qy});if(v.error)throw v.error;const S=await v.json(),b=(c=v.headers.get("x-total-count"))!==null&&c!==void 0?c:0,x=(g=(h=v.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&g!==void 0?g:[];return x.length>0&&(x.forEach(A=>{const C=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),R=JSON.parse(A.split(";")[1].split("=")[1]);p[`${R}Page`]=C}),p.total=parseInt(b)),{data:Object.assign(Object.assign({},S),p),error:null}}catch(p){if(ue(p))return{data:{users:[]},error:p};throw p}}async getUserById(e){So(e);try{return await me(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Xi})}catch(i){if(ue(i))return{data:{user:null},error:i};throw i}}async updateUserById(e,i){So(e);try{return await me(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:i,headers:this.headers,xform:Xi})}catch(o){if(ue(o))return{data:{user:null},error:o};throw o}}async deleteUser(e,i=!1){So(e);try{return await me(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:i},xform:Xi})}catch(o){if(ue(o))return{data:{user:null},error:o};throw o}}async _listFactors(e){So(e.userId);try{const{data:i,error:o}=await me(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:i,error:o}}catch(i){if(ue(i))return{data:null,error:i};throw i}}async _deleteFactor(e){So(e.userId),So(e.id);try{return{data:await me(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(i){if(ue(i))return{data:null,error:i};throw i}}async _listOAuthClients(e){var i,o,r,l,c,h,g;try{const p={nextPage:null,lastPage:0,total:0},v=await me(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(i=e==null?void 0:e.page)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:"",per_page:(l=(r=e==null?void 0:e.perPage)===null||r===void 0?void 0:r.toString())!==null&&l!==void 0?l:""},xform:qy});if(v.error)throw v.error;const S=await v.json(),b=(c=v.headers.get("x-total-count"))!==null&&c!==void 0?c:0,x=(g=(h=v.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&g!==void 0?g:[];return x.length>0&&(x.forEach(A=>{const C=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),R=JSON.parse(A.split(";")[1].split("=")[1]);p[`${R}Page`]=C}),p.total=parseInt(b)),{data:Object.assign(Object.assign({},S),p),error:null}}catch(p){if(ue(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(e){try{return await me(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(ue(i))return{data:null,error:i};throw i}}async _getOAuthClient(e){try{return await me(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(ue(i))return{data:null,error:i};throw i}}async _updateOAuthClient(e,i){try{return await me(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:i,headers:this.headers,xform:o=>({data:o,error:null})})}catch(o){if(ue(o))return{data:null,error:o};throw o}}async _deleteOAuthClient(e){try{return await me(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(i){if(ue(i))return{data:null,error:i};throw i}}async _regenerateOAuthClientSecret(e){try{return await me(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(ue(i))return{data:null,error:i};throw i}}}function By(t={}){return{getItem:e=>t[e]||null,setItem:(e,i)=>{t[e]=i},removeItem:e=>{delete t[e]}}}const bo={debug:!!(globalThis&&t_()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class i_ extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class UI extends i_{}async function OI(t,e,i){bo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const o=new globalThis.AbortController;return e>0&&setTimeout(()=>{o.abort(),bo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async r=>{if(r){bo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,r.name);try{return await i()}finally{bo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,r.name)}}else{if(e===0)throw bo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new UI(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(bo.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await i()}}))}function PI(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function s_(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function LI(t){return parseInt(t,16)}function qI(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,o=>o.toString(16).padStart(2,"0")).join("")}function BI(t){var e;const{chainId:i,domain:o,expirationTime:r,issuedAt:l=new Date,nonce:c,notBefore:h,requestId:g,resources:p,scheme:v,uri:S,version:b}=t;{if(!Number.isInteger(i))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${i}`);if(!o)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!S)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(b!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${b}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const x=s_(t.address),A=v?`${v}://${o}`:o,C=t.statement?`${t.statement}
`:"",R=`${A} wants you to sign in with your Ethereum account:
${x}

${C}`;let k=`URI: ${S}
Version: ${b}
Chain ID: ${i}${c?`
Nonce: ${c}`:""}
Issued At: ${l.toISOString()}`;if(r&&(k+=`
Expiration Time: ${r.toISOString()}`),h&&(k+=`
Not Before: ${h.toISOString()}`),g&&(k+=`
Request ID: ${g}`),p){let z=`
Resources:`;for(const U of p){if(!U||typeof U!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${U}`);z+=`
- ${U}`}k+=z}return`${R}
${k}`}class mt extends Error{constructor({message:e,code:i,cause:o,name:r}){var l;super(e,{cause:o}),this.__isWebAuthnError=!0,this.name=(l=r??(o instanceof Error?o.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=i}}class iu extends mt{constructor(e,i){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i,message:e}),this.name="WebAuthnUnknownError",this.originalError=i}}function GI({error:t,options:e}){var i,o,r;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new mt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((i=l.authenticatorSelection)===null||i===void 0?void 0:i.requireResidentKey)===!0)return new mt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((o=l.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new mt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((r=l.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new mt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new mt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new mt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return l.pubKeyCredParams.filter(h=>h.type==="public-key").length===0?new mt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new mt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const c=window.location.hostname;if(o_(c)){if(l.rp.id!==c)return new mt({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new mt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new mt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new mt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new mt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function zI({error:t,options:e}){const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new mt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new mt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(o_(o)){if(i.rpId!==o)return new mt({message:`The RP ID "${i.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new mt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new mt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new mt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class HI{createNewAbortSignal(){if(this.controller){const i=new Error("Cancelling existing WebAuthn API call for new one");i.name="AbortError",this.controller.abort(i)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const VI=new HI;function FI(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:i,excludeCredentials:o}=t,r=fu(t,["challenge","user","excludeCredentials"]),l=Mo(e).buffer,c=Object.assign(Object.assign({},i),{id:Mo(i.id).buffer}),h=Object.assign(Object.assign({},r),{challenge:l,user:c});if(o&&o.length>0){h.excludeCredentials=new Array(o.length);for(let g=0;g<o.length;g++){const p=o[g];h.excludeCredentials[g]=Object.assign(Object.assign({},p),{id:Mo(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return h}function $I(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:i}=t,o=fu(t,["challenge","allowCredentials"]),r=Mo(e).buffer,l=Object.assign(Object.assign({},o),{challenge:r});if(i&&i.length>0){l.allowCredentials=new Array(i.length);for(let c=0;c<i.length;c++){const h=i[c];l.allowCredentials[c]=Object.assign(Object.assign({},h),{id:Mo(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return l}function jI(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const i=t;return{id:t.id,rawId:t.id,response:{attestationObject:ws(new Uint8Array(t.response.attestationObject)),clientDataJSON:ws(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=i.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function JI(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const i=t,o=t.getClientExtensionResults(),r=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:ws(new Uint8Array(r.authenticatorData)),clientDataJSON:ws(new Uint8Array(r.clientDataJSON)),signature:ws(new Uint8Array(r.signature)),userHandle:r.userHandle?ws(new Uint8Array(r.userHandle)):void 0},type:"public-key",clientExtensionResults:o,authenticatorAttachment:(e=i.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function o_(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Gy(){var t,e;return!!(Nt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function KI(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new iu("Browser returned unexpected credential type",e)}:{data:null,error:new iu("Empty credential response",e)}}catch(e){return{data:null,error:GI({error:e,options:t})}}}async function YI(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new iu("Browser returned unexpected credential type",e)}:{data:null,error:new iu("Empty credential response",e)}}catch(e){return{data:null,error:zI({error:e,options:t})}}}const XI={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},QI={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function su(...t){const e=r=>r!==null&&typeof r=="object"&&!Array.isArray(r),i=r=>r instanceof ArrayBuffer||ArrayBuffer.isView(r),o={};for(const r of t)if(r)for(const l in r){const c=r[l];if(c!==void 0)if(Array.isArray(c))o[l]=c;else if(i(c))o[l]=c;else if(e(c)){const h=o[l];e(h)?o[l]=su(h,c):o[l]=su(c)}else o[l]=c}return o}function WI(t,e){return su(XI,t,e||{})}function ZI(t,e){return su(QI,t,e||{})}class eM{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:i,friendlyName:o,signal:r},l){var c;try{const{data:h,error:g}=await this.client.mfa.challenge({factorId:e,webauthn:i});if(!h)return{data:null,error:g};const p=r??VI.createNewAbortSignal();if(h.webauthn.type==="create"){const{user:v}=h.webauthn.credential_options.publicKey;if(!v.name){const S=o;if(S)v.name=`${v.id}:${S}`;else{const x=(await this.client.getUser()).data.user,A=((c=x==null?void 0:x.user_metadata)===null||c===void 0?void 0:c.name)||(x==null?void 0:x.email)||(x==null?void 0:x.id)||"User";v.name=`${v.id}:${A}`}}v.displayName||(v.displayName=v.name)}switch(h.webauthn.type){case"create":{const v=WI(h.webauthn.credential_options.publicKey,l==null?void 0:l.create),{data:S,error:b}=await KI({publicKey:v,signal:p});return S?{data:{factorId:e,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:S}},error:null}:{data:null,error:b}}case"request":{const v=ZI(h.webauthn.credential_options.publicKey,l==null?void 0:l.request),{data:S,error:b}=await YI(Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:v,signal:p}));return S?{data:{factorId:e,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:S}},error:null}:{data:null,error:b}}}}catch(h){return ue(h)?{data:null,error:h}:{data:null,error:new xs("Unexpected error in challenge",h)}}}async _verify({challengeId:e,factorId:i,webauthn:o}){return this.client.mfa.verify({factorId:i,challengeId:e,webauthn:o})}async _authenticate({factorId:e,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:r}={}},l){if(!i)return{data:null,error:new ia("rpId is required for WebAuthn authentication")};try{if(!Gy())return{data:null,error:new xs("Browser does not support WebAuthn",null)};const{data:c,error:h}=await this.challenge({factorId:e,webauthn:{rpId:i,rpOrigins:o},signal:r},{request:l});if(!c)return{data:null,error:h};const{webauthn:g}=c;return this._verify({factorId:e,challengeId:c.challengeId,webauthn:{type:g.type,rpId:i,rpOrigins:o,credential_response:g.credential_response}})}catch(c){return ue(c)?{data:null,error:c}:{data:null,error:new xs("Unexpected error in authenticate",c)}}}async _register({friendlyName:e,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:r}={}},l){if(!i)return{data:null,error:new ia("rpId is required for WebAuthn registration")};try{if(!Gy())return{data:null,error:new xs("Browser does not support WebAuthn",null)};const{data:c,error:h}=await this._enroll({friendlyName:e});if(!c)return await this.client.mfa.listFactors().then(v=>{var S;return(S=v.data)===null||S===void 0?void 0:S.all.find(b=>b.factor_type==="webauthn"&&b.friendly_name===e&&b.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v==null?void 0:v.id}):void 0),{data:null,error:h};const{data:g,error:p}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:i,rpOrigins:o},signal:r},{create:l});return g?this._verify({factorId:c.id,challengeId:g.challengeId,webauthn:{rpId:i,rpOrigins:o,type:g.webauthn.type,credential_response:g.webauthn.credential_response}}):{data:null,error:p}}catch(c){return ue(c)?{data:null,error:c}:{data:null,error:new xs("Unexpected error in register",c)}}}}PI();const tM={url:Q2,storageKey:W2,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Z2,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function zy(t,e,i){return await i()}const Eo={};class sa{get jwks(){var e,i;return(i=(e=Eo[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&i!==void 0?i:{keys:[]}}set jwks(e){Eo[this.storageKey]=Object.assign(Object.assign({},Eo[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,i;return(i=(e=Eo[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&i!==void 0?i:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Eo[this.storageKey]=Object.assign(Object.assign({},Eo[this.storageKey]),{cachedAt:e})}constructor(e){var i,o,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const l=Object.assign(Object.assign({},tM),e);if(this.storageKey=l.storageKey,this.instanceID=(i=sa.nextInstanceID[this.storageKey])!==null&&i!==void 0?i:0,sa.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.instanceID>0&&Nt()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=l.persistSession,this.autoRefreshToken=l.autoRefreshToken,this.admin=new kI({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=n_(l.fetch),this.lock=l.lock||zy,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,this.throwOnError=l.throwOnError,this.lockAcquireTimeout=l.lockAcquireTimeout,l.lock?this.lock=l.lock:this.persistSession&&Nt()&&(!((o=globalThis==null?void 0:globalThis.navigator)===null||o===void 0)&&o.locks)?this.lock=OI:this.lock=zy,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new eM(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:t_()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=By(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=By(this.memoryStorage)),Nt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c);try{await this._notifyAllSubscribers(c.data.event,c.data.session,!1)}catch(h){this._debug("#broadcastChannel","error",h)}})}this.initialize().catch(c=>{this._debug("#initialize()","error",c)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Wv}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let i={},o="none";if(Nt()&&(i=hI(window.location.href),this._isImplicitGrantCallback(i)?o="implicit":await this._isPKCECallback(i)&&(o="pkce")),Nt()&&this.detectSessionInUrl&&o!=="none"){const{data:r,error:l}=await this._getSessionFromURL(i,o);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),sI(l)){const g=(e=l.details)===null||e===void 0?void 0:e.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:l}}return{error:l}}const{session:c,redirectType:h}=r;return this._debug("#_initialize()","detected session in URL",c,"redirect type",h),await this._saveSession(c),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(i){return ue(i)?this._returnResult({error:i}):this._returnResult({error:new xs("Unexpected error during initialization",i)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var i,o,r;try{const l=await me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.captchaToken}},xform:xn}),{data:c,error:h}=l;if(h||!c)return this._returnResult({data:{user:null,session:null},error:h});const g=c.session,p=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:p,session:g},error:null})}catch(l){if(ue(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signUp(e){var i,o,r;try{let l;if("email"in e){const{email:v,password:S,options:b}=e;let x=null,A=null;this.flowType==="pkce"&&([x,A]=await _o(this.storage,this.storageKey)),l=await me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b==null?void 0:b.emailRedirectTo,body:{email:v,password:S,data:(i=b==null?void 0:b.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken},code_challenge:x,code_challenge_method:A},xform:xn})}else if("phone"in e){const{phone:v,password:S,options:b}=e;l=await me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:S,data:(o=b==null?void 0:b.data)!==null&&o!==void 0?o:{},channel:(r=b==null?void 0:b.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken}},xform:xn})}else throw new $l("You must provide either an email or phone number and a password");const{data:c,error:h}=l;if(h||!c)return await Ct(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:h});const g=c.session,p=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:p,session:g},error:null})}catch(l){if(await Ct(this.storage,`${this.storageKey}-code-verifier`),ue(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithPassword(e){try{let i;if("email"in e){const{email:l,password:c,options:h}=e;i=await me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:c,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Ly})}else if("phone"in e){const{phone:l,password:c,options:h}=e;i=await me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:c,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Ly})}else throw new $l("You must provide either an email or phone number and a password");const{data:o,error:r}=i;if(r)return this._returnResult({data:{user:null,session:null},error:r});if(!o||!o.session||!o.user){const l=new vo;return this._returnResult({data:{user:null,session:null},error:l})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:r})}catch(i){if(ue(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOAuth(e){var i,o,r,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(i=e.options)===null||i===void 0?void 0:i.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(r=e.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:i}=e;switch(i){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${i}"`)}}async signInWithEthereum(e){var i,o,r,l,c,h,g,p,v,S,b;let x,A;if("message"in e)x=e.message,A=e.signature;else{const{chain:C,wallet:R,statement:k,options:z}=e;let U;if(Nt())if(typeof R=="object")U=R;else{const te=window;if("ethereum"in te&&typeof te.ethereum=="object"&&"request"in te.ethereum&&typeof te.ethereum.request=="function")U=te.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof R!="object"||!(z!=null&&z.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");U=R}const H=new URL((i=z==null?void 0:z.url)!==null&&i!==void 0?i:window.location.href),Y=await U.request({method:"eth_requestAccounts"}).then(te=>te).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!Y||Y.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const B=s_(Y[0]);let K=(o=z==null?void 0:z.signInWithEthereum)===null||o===void 0?void 0:o.chainId;if(!K){const te=await U.request({method:"eth_chainId"});K=LI(te)}const fe={domain:H.host,address:B,statement:k,uri:H.href,version:"1",chainId:K,nonce:(r=z==null?void 0:z.signInWithEthereum)===null||r===void 0?void 0:r.nonce,issuedAt:(c=(l=z==null?void 0:z.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(h=z==null?void 0:z.signInWithEthereum)===null||h===void 0?void 0:h.expirationTime,notBefore:(g=z==null?void 0:z.signInWithEthereum)===null||g===void 0?void 0:g.notBefore,requestId:(p=z==null?void 0:z.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(v=z==null?void 0:z.signInWithEthereum)===null||v===void 0?void 0:v.resources};x=BI(fe),A=await U.request({method:"personal_sign",params:[qI(x),B]})}try{const{data:C,error:R}=await me(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:x,signature:A},!((S=e.options)===null||S===void 0)&&S.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:xn});if(R)throw R;if(!C||!C.session||!C.user){const k=new vo;return this._returnResult({data:{user:null,session:null},error:k})}return C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),this._returnResult({data:Object.assign({},C),error:R})}catch(C){if(ue(C))return this._returnResult({data:{user:null,session:null},error:C});throw C}}async signInWithSolana(e){var i,o,r,l,c,h,g,p,v,S,b,x;let A,C;if("message"in e)A=e.message,C=e.signature;else{const{chain:R,wallet:k,statement:z,options:U}=e;let H;if(Nt())if(typeof k=="object")H=k;else{const B=window;if("solana"in B&&typeof B.solana=="object"&&("signIn"in B.solana&&typeof B.solana.signIn=="function"||"signMessage"in B.solana&&typeof B.solana.signMessage=="function"))H=B.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!(U!=null&&U.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");H=k}const Y=new URL((i=U==null?void 0:U.url)!==null&&i!==void 0?i:window.location.href);if("signIn"in H&&H.signIn){const B=await H.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},U==null?void 0:U.signInWithSolana),{version:"1",domain:Y.host,uri:Y.href}),z?{statement:z}:null));let K;if(Array.isArray(B)&&B[0]&&typeof B[0]=="object")K=B[0];else if(B&&typeof B=="object"&&"signedMessage"in B&&"signature"in B)K=B;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in K&&"signature"in K&&(typeof K.signedMessage=="string"||K.signedMessage instanceof Uint8Array)&&K.signature instanceof Uint8Array)A=typeof K.signedMessage=="string"?K.signedMessage:new TextDecoder().decode(K.signedMessage),C=K.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in H)||typeof H.signMessage!="function"||!("publicKey"in H)||typeof H!="object"||!H.publicKey||!("toBase58"in H.publicKey)||typeof H.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");A=[`${Y.host} wants you to sign in with your Solana account:`,H.publicKey.toBase58(),...z?["",z,""]:[""],"Version: 1",`URI: ${Y.href}`,`Issued At: ${(r=(o=U==null?void 0:U.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&r!==void 0?r:new Date().toISOString()}`,...!((l=U==null?void 0:U.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${U.signInWithSolana.notBefore}`]:[],...!((c=U==null?void 0:U.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${U.signInWithSolana.expirationTime}`]:[],...!((h=U==null?void 0:U.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${U.signInWithSolana.chainId}`]:[],...!((g=U==null?void 0:U.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${U.signInWithSolana.nonce}`]:[],...!((p=U==null?void 0:U.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${U.signInWithSolana.requestId}`]:[],...!((S=(v=U==null?void 0:U.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||S===void 0)&&S.length?["Resources",...U.signInWithSolana.resources.map(K=>`- ${K}`)]:[]].join(`
`);const B=await H.signMessage(new TextEncoder().encode(A),"utf8");if(!B||!(B instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");C=B}}try{const{data:R,error:k}=await me(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:A,signature:ws(C)},!((b=e.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(x=e.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:xn});if(k)throw k;if(!R||!R.session||!R.user){const z=new vo;return this._returnResult({data:{user:null,session:null},error:z})}return R.session&&(await this._saveSession(R.session),await this._notifyAllSubscribers("SIGNED_IN",R.session)),this._returnResult({data:Object.assign({},R),error:k})}catch(R){if(ue(R))return this._returnResult({data:{user:null,session:null},error:R});throw R}}async _exchangeCodeForSession(e){const i=await Ss(this.storage,`${this.storageKey}-code-verifier`),[o,r]=(i??"").split("/");try{if(!o&&this.flowType==="pkce")throw new oI;const{data:l,error:c}=await me(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:o},xform:xn});if(await Ct(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!l||!l.session||!l.user){const h=new vo;return this._returnResult({data:{user:null,session:null,redirectType:null},error:h})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign(Object.assign({},l),{redirectType:r??null}),error:c})}catch(l){if(await Ct(this.storage,`${this.storageKey}-code-verifier`),ue(l))return this._returnResult({data:{user:null,session:null,redirectType:null},error:l});throw l}}async signInWithIdToken(e){try{const{options:i,provider:o,token:r,access_token:l,nonce:c}=e,h=await me(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:r,access_token:l,nonce:c,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:xn}),{data:g,error:p}=h;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!g||!g.session||!g.user){const v=new vo;return this._returnResult({data:{user:null,session:null},error:v})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:g,error:p})}catch(i){if(ue(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOtp(e){var i,o,r,l,c;try{if("email"in e){const{email:h,options:g}=e;let p=null,v=null;this.flowType==="pkce"&&([p,v]=await _o(this.storage,this.storageKey));const{error:S}=await me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(i=g==null?void 0:g.data)!==null&&i!==void 0?i:{},create_user:(o=g==null?void 0:g.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:p,code_challenge_method:v},redirectTo:g==null?void 0:g.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:S})}if("phone"in e){const{phone:h,options:g}=e,{data:p,error:v}=await me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},create_user:(l=g==null?void 0:g.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},channel:(c=g==null?void 0:g.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:v})}throw new $l("You must provide either an email or phone number.")}catch(h){if(await Ct(this.storage,`${this.storageKey}-code-verifier`),ue(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async verifyOtp(e){var i,o;try{let r,l;"options"in e&&(r=(i=e.options)===null||i===void 0?void 0:i.redirectTo,l=(o=e.options)===null||o===void 0?void 0:o.captchaToken);const{data:c,error:h}=await me(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:r,xform:xn});if(h)throw h;if(!c)throw new Error("An error occurred on token verification.");const g=c.session,p=c.user;return g!=null&&g.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),this._returnResult({data:{user:p,session:g},error:null})}catch(r){if(ue(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithSSO(e){var i,o,r,l,c;try{let h=null,g=null;this.flowType==="pkce"&&([h,g]=await _o(this.storage,this.storageKey));const p=await me(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(o=(i=e.options)===null||i===void 0?void 0:i.redirectTo)!==null&&o!==void 0?o:void 0}),!((r=e==null?void 0:e.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:h,code_challenge_method:g}),headers:this.headers,xform:II});return!((l=p.data)===null||l===void 0)&&l.url&&Nt()&&!(!((c=e.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(h){if(await Ct(this.storage,`${this.storageKey}-code-verifier`),ue(h))return this._returnResult({data:null,error:h});throw h}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:i},error:o}=e;if(o)throw o;if(!i)throw new sn;const{error:r}=await me(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return this._returnResult({data:{user:null,session:null},error:r})})}catch(e){if(ue(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const i=`${this.url}/resend`;if("email"in e){const{email:o,type:r,options:l}=e,{error:c}=await me(this.fetch,"POST",i,{headers:this.headers,body:{email:o,type:r,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in e){const{phone:o,type:r,options:l}=e,{data:c,error:h}=await me(this.fetch,"POST",i,{headers:this.headers,body:{phone:o,type:r,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:h})}throw new $l("You must provide either an email or phone number and a type")}catch(i){if(ue(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async i=>i))}async _acquireLock(e,i){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await o,await i()))();return this.pendingInLock.push((async()=>{try{await r}catch{}})()),r}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const o=i();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){const r=[...this.pendingInLock];await Promise.all(r),this.pendingInLock.splice(0,r.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const i=await this.__loadSession();return await e(i)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const i=await Ss(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?e=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const o=e.expires_at?e.expires_at*1e3-Date.now()<zd:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",e.expires_at),!o){if(this.userStorage){const c=await Ss(this.userStorage,this.storageKey+"-user");c!=null&&c.user?e.user=c.user:e.user=Fd()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};e.user=AI(e.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:r,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{session:null},error:l}):this._returnResult({data:{session:r},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const i=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return i.data.user&&(this.suppressGetSessionWarning=!0),i}async _getUser(e){try{return e?await me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Xi}):await this._useSession(async i=>{var o,r,l;const{data:c,error:h}=i;if(h)throw h;return!(!((o=c.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new sn}:await me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(r=c.session)===null||r===void 0?void 0:r.access_token)!==null&&l!==void 0?l:void 0,xform:Xi})})}catch(i){if(ue(i))return Hd(i)&&(await this._removeSession(),await Ct(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:i});throw i}}async updateUser(e,i={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,i))}async _updateUser(e,i={}){try{return await this._useSession(async o=>{const{data:r,error:l}=o;if(l)throw l;if(!r.session)throw new sn;const c=r.session;let h=null,g=null;this.flowType==="pkce"&&e.email!=null&&([h,g]=await _o(this.storage,this.storageKey));const{data:p,error:v}=await me(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i==null?void 0:i.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:h,code_challenge_method:g}),jwt:c.access_token,xform:Xi});if(v)throw v;return c.user=p.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(o){if(await Ct(this.storage,`${this.storageKey}-code-verifier`),ue(o))return this._returnResult({data:{user:null},error:o});throw o}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new sn;const i=Date.now()/1e3;let o=i,r=!0,l=null;const{payload:c}=Jl(e.access_token);if(c.exp&&(o=c.exp,r=o<=i),r){const{data:h,error:g}=await this._callRefreshToken(e.refresh_token);if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!h)return{data:{user:null,session:null},error:null};l=h}else{const{data:h,error:g}=await this._getUser(e.access_token);if(g)return this._returnResult({data:{user:null,session:null},error:g});l={access_token:e.access_token,refresh_token:e.refresh_token,user:h.user,token_type:"bearer",expires_in:o-i,expires_at:o},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return this._returnResult({data:{user:l.user,session:l},error:null})}catch(i){if(ue(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async i=>{var o;if(!e){const{data:c,error:h}=i;if(h)throw h;e=(o=c.session)!==null&&o!==void 0?o:void 0}if(!(e!=null&&e.refresh_token))throw new sn;const{data:r,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{user:null,session:null},error:l}):r?this._returnResult({data:{user:r.user,session:r},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(i){if(ue(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async _getSessionFromURL(e,i){try{if(!Nt())throw new jl("No browser detected.");if(e.error||e.error_description||e.error_code)throw new jl(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(i){case"implicit":if(this.flowType==="pkce")throw new Iy("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new jl("Not a valid implicit grant flow url.");break;default:}if(i==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Iy("No code detected.");const{data:z,error:U}=await this._exchangeCodeForSession(e.code);if(U)throw U;const H=new URL(window.location.href);return H.searchParams.delete("code"),window.history.replaceState(window.history.state,"",H.toString()),{data:{session:z.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:r,access_token:l,refresh_token:c,expires_in:h,expires_at:g,token_type:p}=e;if(!l||!h||!c||!p)throw new jl("No session defined in URL");const v=Math.round(Date.now()/1e3),S=parseInt(h);let b=v+S;g&&(b=parseInt(g));const x=b-v;x*1e3<=xo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${S}s`);const A=b-S;v-A>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",A,b,v):v-A<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",A,b,v);const{data:C,error:R}=await this._getUser(l);if(R)throw R;const k={provider_token:o,provider_refresh_token:r,access_token:l,expires_in:S,expires_at:b,refresh_token:c,token_type:p,user:C.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:k,redirectType:e.type},error:null})}catch(o){if(ue(o))return this._returnResult({data:{session:null,redirectType:null},error:o});throw o}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const i=await Ss(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&i)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async i=>{var o;const{data:r,error:l}=i;if(l&&!Hd(l))return this._returnResult({error:l});const c=(o=r.session)===null||o===void 0?void 0:o.access_token;if(c){const{error:h}=await this.admin.signOut(c,e);if(h&&!(iI(h)&&(h.status===404||h.status===401||h.status===403)||Hd(h)))return this._returnResult({error:h})}return e!=="others"&&(await this._removeSession(),await Ct(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const i=fI(),o={id:i,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,o),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(i)})))(),{data:{subscription:o}}}async _emitInitialSession(e){return await this._useSession(async i=>{var o,r;try{const{data:{session:l},error:c}=i;if(c)throw c;await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,i={}){let o=null,r=null;this.flowType==="pkce"&&([o,r]=await _o(this.storage,this.storageKey,!0));try{return await me(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:o,code_challenge_method:r,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(l){if(await Ct(this.storage,`${this.storageKey}-code-verifier`),ue(l))return this._returnResult({data:null,error:l});throw l}}async getUserIdentities(){var e;try{const{data:i,error:o}=await this.getUser();if(o)throw o;return this._returnResult({data:{identities:(e=i.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(i){if(ue(i))return this._returnResult({data:null,error:i});throw i}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var i;try{const{data:o,error:r}=await this._useSession(async l=>{var c,h,g,p,v;const{data:S,error:b}=l;if(b)throw b;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(h=e.options)===null||h===void 0?void 0:h.scopes,queryParams:(g=e.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await me(this.fetch,"GET",x,{headers:this.headers,jwt:(v=(p=S.session)===null||p===void 0?void 0:p.access_token)!==null&&v!==void 0?v:void 0})});if(r)throw r;return Nt()&&!(!((i=e.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(o==null?void 0:o.url),this._returnResult({data:{provider:e.provider,url:o==null?void 0:o.url},error:null})}catch(o){if(ue(o))return this._returnResult({data:{provider:e.provider,url:null},error:o});throw o}}async linkIdentityIdToken(e){return await this._useSession(async i=>{var o;try{const{error:r,data:{session:l}}=i;if(r)throw r;const{options:c,provider:h,token:g,access_token:p,nonce:v}=e,S=await me(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(o=l==null?void 0:l.access_token)!==null&&o!==void 0?o:void 0,body:{provider:h,id_token:g,access_token:p,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:xn}),{data:b,error:x}=S;return x?this._returnResult({data:{user:null,session:null},error:x}):!b||!b.session||!b.user?this._returnResult({data:{user:null,session:null},error:new vo}):(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("USER_UPDATED",b.session)),this._returnResult({data:b,error:x}))}catch(r){if(await Ct(this.storage,`${this.storageKey}-code-verifier`),ue(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}async unlinkIdentity(e){try{return await this._useSession(async i=>{var o,r;const{data:l,error:c}=i;if(c)throw c;return await me(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(r=(o=l.session)===null||o===void 0?void 0:o.access_token)!==null&&r!==void 0?r:void 0})})}catch(i){if(ue(i))return this._returnResult({data:null,error:i});throw i}}async _refreshAccessToken(e){const i=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{const o=Date.now();return await gI(async r=>(r>0&&await mI(200*Math.pow(2,r-1)),this._debug(i,"refreshing attempt",r),await me(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:xn})),(r,l)=>{const c=200*Math.pow(2,r);return l&&Vd(l)&&Date.now()+c-o<xo})}catch(o){if(this._debug(i,"error",o),ue(o))return this._returnResult({data:{session:null,user:null},error:o});throw o}finally{this._debug(i,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,i){const o=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",i,"url",o),Nt()&&!i.skipBrowserRedirect&&window.location.assign(o),{data:{provider:e,url:o},error:null}}async _recoverAndRefresh(){var e,i;const o="#_recoverAndRefresh()";this._debug(o,"begin");try{const r=await Ss(this.storage,this.storageKey);if(r&&this.userStorage){let c=await Ss(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:r.user},await wo(this.userStorage,this.storageKey+"-user",c)),r.user=(e=c==null?void 0:c.user)!==null&&e!==void 0?e:Fd()}else if(r&&!r.user&&!r.user){const c=await Ss(this.storage,this.storageKey+"-user");c&&(c!=null&&c.user)?(r.user=c.user,await Ct(this.storage,this.storageKey+"-user"),await wo(this.storage,this.storageKey,r)):r.user=Fd()}if(this._debug(o,"session from storage",r),!this._isValidSession(r)){this._debug(o,"session is not valid"),r!==null&&await this._removeSession();return}const l=((i=r.expires_at)!==null&&i!==void 0?i:1/0)*1e3-Date.now()<zd;if(this._debug(o,`session has${l?"":" not"} expired with margin of ${zd}s`),l){if(this.autoRefreshToken&&r.refresh_token){const{error:c}=await this._callRefreshToken(r.refresh_token);c&&(console.error(c),Vd(c)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(r.user&&r.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:h}=await this._getUser(r.access_token);!h&&(c!=null&&c.user)?(r.user=c.user,await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(o,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(o,"error",r),console.error(r);return}finally{this._debug(o,"end")}}async _callRefreshToken(e){var i,o;if(!e)throw new sn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new mu;const{data:l,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!l.session)throw new sn;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const h={data:l.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(l){if(this._debug(r,"error",l),ue(l)){const c={data:null,error:l};return Vd(l)||await this._removeSession(),(i=this.refreshingDeferred)===null||i===void 0||i.resolve(c),c}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(l),l}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,i,o=!0){const r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",i,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:e,session:i});const l=[],c=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(e,i)}catch(g){l.push(g)}});if(await Promise.all(c),l.length>0){for(let h=0;h<l.length;h+=1)console.error(l[h]);throw l[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Ct(this.storage,`${this.storageKey}-code-verifier`);const i=Object.assign({},e),o=i.user&&i.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&i.user&&await wo(this.userStorage,this.storageKey+"-user",{user:i.user});const r=Object.assign({},i);delete r.user;const l=Oy(r);await wo(this.storage,this.storageKey,l)}else{const r=Oy(i);await wo(this.storage,this.storageKey,r)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Ct(this.storage,this.storageKey),await Ct(this.storage,this.storageKey+"-code-verifier"),await Ct(this.storage,this.storageKey+"-user"),this.userStorage&&await Ct(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Nt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(i){console.error("removing visibilitychange callback failed",i)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),xo);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const i=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=i,i&&typeof i=="object"&&typeof i.unref=="function"?i.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(i)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const i=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,i&&clearTimeout(i)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async i=>{const{data:{session:o}}=i;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const r=Math.floor((o.expires_at*1e3-e)/xo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts ${xo}ms, refresh threshold is ${mf} ticks`),r<=mf&&await this._callRefreshToken(o.refresh_token)})}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof i_)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Nt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(e){this._debug("#visibilityChangedCallback","error",e)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const i=`#_onVisibilityChanged(${e})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,i,o){const r=[`provider=${encodeURIComponent(i)}`];if(o!=null&&o.redirectTo&&r.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o!=null&&o.scopes&&r.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const[l,c]=await _o(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(c)}`});r.push(h.toString())}if(o!=null&&o.queryParams){const l=new URLSearchParams(o.queryParams);r.push(l.toString())}return o!=null&&o.skipBrowserRedirect&&r.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${e}?${r.join("&")}`}async _unenroll(e){try{return await this._useSession(async i=>{var o;const{data:r,error:l}=i;return l?this._returnResult({data:null,error:l}):await me(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(o=r==null?void 0:r.session)===null||o===void 0?void 0:o.access_token})})}catch(i){if(ue(i))return this._returnResult({data:null,error:i});throw i}}async _enroll(e){try{return await this._useSession(async i=>{var o,r;const{data:l,error:c}=i;if(c)return this._returnResult({data:null,error:c});const h=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:g,error:p}=await me(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(o=l==null?void 0:l.session)===null||o===void 0?void 0:o.access_token});return p?this._returnResult({data:null,error:p}):(e.factorType==="totp"&&g.type==="totp"&&(!((r=g==null?void 0:g.totp)===null||r===void 0)&&r.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),this._returnResult({data:g,error:null}))})}catch(i){if(ue(i))return this._returnResult({data:null,error:i});throw i}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async i=>{var o;const{data:r,error:l}=i;if(l)return this._returnResult({data:null,error:l});const c=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?jI(e.webauthn.credential_response):JI(e.webauthn.credential_response)})}:{code:e.code}),{data:h,error:g}=await me(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:c,headers:this.headers,jwt:(o=r==null?void 0:r.session)===null||o===void 0?void 0:o.access_token});return g?this._returnResult({data:null,error:g}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),this._returnResult({data:h,error:g}))})}catch(i){if(ue(i))return this._returnResult({data:null,error:i});throw i}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async i=>{var o;const{data:r,error:l}=i;if(l)return this._returnResult({data:null,error:l});const c=await me(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(o=r==null?void 0:r.session)===null||o===void 0?void 0:o.access_token});if(c.error)return c;const{data:h}=c;if(h.type!=="webauthn")return{data:h,error:null};switch(h.webauthn.type){case"create":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:FI(h.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:$I(h.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(i){if(ue(i))return this._returnResult({data:null,error:i});throw i}})}async _challengeAndVerify(e){const{data:i,error:o}=await this._challenge({factorId:e.factorId});return o?this._returnResult({data:null,error:o}):await this._verify({factorId:e.factorId,challengeId:i.id,code:e.code})}async _listFactors(){var e;const{data:{user:i},error:o}=await this.getUser();if(o)return{data:null,error:o};const r={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=i==null?void 0:i.factors)!==null&&e!==void 0?e:[])r.all.push(l),l.status==="verified"&&r[l.factor_type].push(l);return{data:r,error:null}}async _getAuthenticatorAssuranceLevel(e){var i,o,r,l;if(e)try{const{payload:x}=Jl(e);let A=null;x.aal&&(A=x.aal);let C=A;const{data:{user:R},error:k}=await this.getUser(e);if(k)return this._returnResult({data:null,error:k});((o=(i=R==null?void 0:R.factors)===null||i===void 0?void 0:i.filter(H=>H.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(C="aal2");const U=x.amr||[];return{data:{currentLevel:A,nextLevel:C,currentAuthenticationMethods:U},error:null}}catch(x){if(ue(x))return this._returnResult({data:null,error:x});throw x}const{data:{session:c},error:h}=await this.getSession();if(h)return this._returnResult({data:null,error:h});if(!c)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:g}=Jl(c.access_token);let p=null;g.aal&&(p=g.aal);let v=p;((l=(r=c.user.factors)===null||r===void 0?void 0:r.filter(x=>x.status==="verified"))!==null&&l!==void 0?l:[]).length>0&&(v="aal2");const b=g.amr||[];return{data:{currentLevel:p,nextLevel:v,currentAuthenticationMethods:b},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async i=>{const{data:{session:o},error:r}=i;return r?this._returnResult({data:null,error:r}):o?await me(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:o.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new sn})})}catch(i){if(ue(i))return this._returnResult({data:null,error:i});throw i}}async _approveAuthorization(e,i){try{return await this._useSession(async o=>{const{data:{session:r},error:l}=o;if(l)return this._returnResult({data:null,error:l});if(!r)return this._returnResult({data:null,error:new sn});const c=await me(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:r.access_token,body:{action:"approve"},xform:h=>({data:h,error:null})});return c.data&&c.data.redirect_url&&Nt()&&!(i!=null&&i.skipBrowserRedirect)&&window.location.assign(c.data.redirect_url),c})}catch(o){if(ue(o))return this._returnResult({data:null,error:o});throw o}}async _denyAuthorization(e,i){try{return await this._useSession(async o=>{const{data:{session:r},error:l}=o;if(l)return this._returnResult({data:null,error:l});if(!r)return this._returnResult({data:null,error:new sn});const c=await me(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:r.access_token,body:{action:"deny"},xform:h=>({data:h,error:null})});return c.data&&c.data.redirect_url&&Nt()&&!(i!=null&&i.skipBrowserRedirect)&&window.location.assign(c.data.redirect_url),c})}catch(o){if(ue(o))return this._returnResult({data:null,error:o});throw o}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:i},error:o}=e;return o?this._returnResult({data:null,error:o}):i?await me(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,xform:r=>({data:r,error:null})}):this._returnResult({data:null,error:new sn})})}catch(e){if(ue(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async i=>{const{data:{session:o},error:r}=i;return r?this._returnResult({data:null,error:r}):o?(await me(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:o.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new sn})})}catch(i){if(ue(i))return this._returnResult({data:null,error:i});throw i}}async fetchJwk(e,i={keys:[]}){let o=i.keys.find(h=>h.kid===e);if(o)return o;const r=Date.now();if(o=this.jwks.keys.find(h=>h.kid===e),o&&this.jwks_cached_at+tI>r)return o;const{data:l,error:c}=await me(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=r,o=l.keys.find(h=>h.kid===e),!o)?null:o}async getClaims(e,i={}){try{let o=e;if(!o){const{data:x,error:A}=await this.getSession();if(A||!x.session)return this._returnResult({data:null,error:A});o=x.session.access_token}const{header:r,payload:l,signature:c,raw:{header:h,payload:g}}=Jl(o);i!=null&&i.allowExpired||TI(l.exp);const p=!r.alg||r.alg.startsWith("HS")||!r.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(r.kid,i!=null&&i.keys?{keys:i.keys}:i==null?void 0:i.jwks);if(!p){const{error:x}=await this.getUser(o);if(x)throw x;return{data:{claims:l,header:r,signature:c},error:null}}const v=xI(r.alg),S=await crypto.subtle.importKey("jwk",p,v,!0,["verify"]);if(!await crypto.subtle.verify(v,S,c,cI(`${h}.${g}`)))throw new vf("Invalid JWT signature");return{data:{claims:l,header:r,signature:c},error:null}}catch(o){if(ue(o))return this._returnResult({data:null,error:o});throw o}}}sa.nextInstanceID={};class nM extends sa{constructor(e){super(e)}}var iM=function(t,e,i,o){function r(l){return l instanceof i?l:new i(function(c){c(l)})}return new(i||(i=Promise))(function(l,c){function h(v){try{p(o.next(v))}catch(S){c(S)}}function g(v){try{p(o.throw(v))}catch(S){c(S)}}function p(v){v.done?l(v.value):r(v.value).then(h,g)}p((o=o.apply(t,e||[])).next())})};const sM={headers:F2},oM={schema:"public"},rM={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},aM={};class lM{constructor(e,i,o){var r,l,c,h,g,p,v,S;if(this.supabaseUrl=e,this.supabaseKey=i,!e)throw new Error("supabaseUrl is required.");if(!i)throw new Error("supabaseKey is required.");const b=Y2(e);this.realtimeUrl=`${b}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${b}/auth/v1`,this.storageUrl=`${b}/storage/v1`,this.functionsUrl=`${b}/functions/v1`;const x=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,A={db:oM,realtime:aM,auth:Object.assign(Object.assign({},rM),{storageKey:x}),global:sM},C=X2(o??{},A);this.storageKey=(l=(r=C.auth)===null||r===void 0?void 0:r.storageKey)!==null&&l!==void 0?l:"",this.headers=(h=(c=C.global)===null||c===void 0?void 0:c.headers)!==null&&h!==void 0?h:{},this.auth=this._initSupabaseAuthClient((g=C.auth)!==null&&g!==void 0?g:{},this.headers,(p=C.global)===null||p===void 0?void 0:p.fetch),this.fetch=K2(i,this._getAccessToken.bind(this),(v=C.global)===null||v===void 0?void 0:v.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},C.realtime)),this.rest=new YR(`${b}/rest/v1`,{headers:this.headers,schema:(S=C.db)===null||S===void 0?void 0:S.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new qR(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new H2(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,i={},o){return this.rest.rpc(e,i,o)}channel(e,i={config:{}}){return this.realtime.channel(e,i)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,i;return iM(this,void 0,void 0,function*(){const{data:o}=yield this.auth.getSession();return(i=(e=o.session)===null||e===void 0?void 0:e.access_token)!==null&&i!==void 0?i:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:i,detectSessionInUrl:o,storage:r,storageKey:l,flowType:c,debug:h},g,p){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new nM({url:this.authUrl,headers:Object.assign(Object.assign({},v),g),storageKey:l,autoRefreshToken:e,persistSession:i,detectSessionInUrl:o,storage:r,flowType:c,debug:h,fetch:p})}_initRealtimeClient(e){return new f2(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((i,o)=>{this._handleTokenChanged(i,"CLIENT",o==null?void 0:o.access_token)})}_handleTokenChanged(e,i,o){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==o?(this.realtime.setAuth(o??null),this.changedAccessToken=o):e==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),i=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const uM=(t,e,i)=>new lM(t,e,i);var r_={};const _f=r_.NEXT_PUBLIC_SUPABASE_URL||localStorage.getItem("erp_supabase_url")||"",cM=r_.NEXT_PUBLIC_SUPABASE_ANON_KEY||localStorage.getItem("erp_supabase_key")||"";let ou;const dM=_f&&_f.startsWith("http");if(dM)try{ou=uM(_f,cM)}catch(t){console.warn("Supabase client init failed",t)}ou||(console.warn("Supabase credentials missing. App running in offline/demo mode."),ou={from:t=>({select:()=>Promise.resolve({data:[],error:null}),insert:()=>Promise.resolve({data:null,error:null}),update:()=>Promise.resolve({data:null,error:null}),delete:()=>Promise.resolve({data:null,error:null})})});const Dt=ou,Hy=(t,e)=>{if(!t||t.length===0)return;const i=Object.keys(t[0]).join(","),o=t.map(g=>Object.values(g).map(p=>`"${String(p).replace(/"/g,'""')}"`).join(",")),r=[i,...o].join(`
`),l=new Blob([r],{type:"text/csv;charset=utf-8;"}),c=URL.createObjectURL(l),h=document.createElement("a");h.setAttribute("href",c),h.setAttribute("download",`${e}.csv`),h.style.visibility="hidden",document.body.appendChild(h),h.click(),document.body.removeChild(h)},fM=[{id:"B-25-101",product:"Esomeprazole EC Pellets 22.5%",quantity:5e3,actualYield:99.2,expectedYield:100,status:"In-Progress",timestamp:"2025-11-20",dispatchDate:"2025-12-15"}],hM=[{id:"RM-001",name:"Omeprazole Powder",category:"API",stock:15,requiredForOrders:1105,balanceToPurchase:1090,safetyStock:200,unit:"kg"},{id:"RM-002",name:"Esomeprazole",category:"API",stock:55,requiredForOrders:1600,balanceToPurchase:1545,safetyStock:100,unit:"kg"},{id:"RM-026",name:"HPMC E-5",category:"Excipient",stock:8642,requiredForOrders:3e3,balanceToPurchase:-5642,safetyStock:1e3,unit:"kg"},{id:"RM-030",name:"Talcum",category:"Excipient",stock:500,requiredForOrders:1e3,balanceToPurchase:500,safetyStock:200,unit:"kg"},{id:"PM-001",name:"35 LIT HDPE DRUMS",category:"Packing",stock:300,requiredForOrders:2520,balanceToPurchase:2220,safetyStock:500,unit:"nos"},{id:"FG-101",name:"Omeprazole 20mg Capsules",category:"Finished",stock:5e4,safetyStock:1e4,unit:"packs"},{id:"FG-102",name:"Esomeprazole 40mg Tablets",category:"Finished",stock:25e3,safetyStock:5e3,unit:"packs"}],pM=[{id:"ORD-FER-01",customer:"FEROZSONS",product:"Esomeprazole EC Pellets 22.5%",quantity:5e3,amount:12e4,status:"Pending",indentDate:"2025-11-10"},{id:"ORD-INT-05",customer:"International Pharma",product:"Omeprazole 20%",quantity:2e3,amount:45e3,status:"Shipped",indentDate:"2025-10-22"}],mM=[{id:"EXP-001",description:"Monthly Electricity - Sohar Plant",category:"Utilities",amount:14500,status:"Pending",dueDate:"2025-12-05"},{id:"EXP-002",description:"Astra Biotech API Payment",category:"Raw Materials",amount:85e3,status:"Paid",dueDate:"2025-11-15"},{id:"EXP-003",description:"Logistics - MENA Export",category:"Logistics",amount:3200,status:"Pending",dueDate:"2025-12-10"}],gM=[{id:"EMP-001",name:"Dr. Sarah Ahmed",role:"Head of R&D",department:"R&D",salary:12e3,status:"Active",joinDate:"2023-05-12"},{id:"EMP-002",name:"John Doe",role:"Production Manager",department:"Production",salary:8500,status:"Active",joinDate:"2022-10-01"},{id:"EMP-003",name:"Alia Khan",role:"QC Chemist",department:"QC",salary:5500,status:"Active",joinDate:"2024-01-20"}],Vy=[{id:"RD-001",title:"Pantoprazole EC Pellets 20%",status:"Formulation",optimizationScore:84,lastUpdated:"2024-03-20",ingredients:[{name:"Pantoprazole Sodium",quantity:20,unit:"kg",role:"API"},{name:"Sugar Spheres",quantity:60,unit:"kg",role:"Filler"},{name:"HPMC",quantity:5,unit:"kg",role:"Binder"}]},{id:"RD-002",title:"Lansoprazole 30mg DR",status:"Stability",optimizationScore:92,lastUpdated:"2024-04-15",ingredients:[]}],yM=[{id:"V-001",name:"Astra Biotech API",category:"API",rating:4.8,status:"Verified",country:"Germany"},{id:"V-002",name:"Luzhou Chemicals",category:"Excipient",rating:4.2,status:"Audit Pending",country:"China"}],vM=[{id:"BD-01",targetMarket:"GCC - Kuwait",opportunity:"Public Tender Omeprazole",potentialValue:"$1.2M",status:"Negotiation",probability:75}],_M=[{id:"SMP-102",product:"Esomeprazole 40mg Pellets",destination:"Ministry of Health, UAE",quantity:"5kg",status:"QC Testing"}],SM=[{id:"M-01",name:"UAE",region:"GCC",status:"Active"},{id:"M-02",name:"Saudi Arabia",region:"GCC",status:"Active"}],jd=[{id:"stats_yield",label:"Yield Accuracy",category:"Production",type:"stat",default:!0},{id:"stats_orders",label:"Pending Orders",category:"Sales",type:"stat",default:!0},{id:"stats_markets",label:"Active Markets",category:"BD",type:"stat",default:!0},{id:"stats_pipeline",label:"Pipeline Value",category:"BD",type:"stat",default:!0},{id:"stats_inventory",label:"Critical Stock",category:"Inventory",type:"stat",default:!1},{id:"stats_vendors",label:"Active Vendors",category:"Procurement",type:"stat",default:!1},{id:"stats_expenses",label:"Total Expenses",category:"Accounting",type:"stat",default:!1},{id:"stats_liability",label:"Liabilities",category:"Accounting",type:"stat",default:!1},{id:"stats_staff",label:"Staff Count",category:"HR",type:"stat",default:!1},{id:"stats_rd",label:"Active R&D",category:"R&D",type:"stat",default:!1},{id:"stats_samples",label:"Sample Status",category:"Samples",type:"stat",default:!1},{id:"feed_ai",label:"AI Operations Feed",category:"AI Ops",type:"feed",default:!0},{id:"feed_batches",label:"Recent Batches",category:"Production",type:"feed",default:!0},{id:"feed_inventory",label:"Inventory Alerts",category:"Inventory",type:"feed",default:!1},{id:"feed_orders",label:"Recent Orders",category:"Sales",type:"feed",default:!1},{id:"feed_finance",label:"Expense Ledger",category:"Accounting",type:"feed",default:!1},{id:"feed_hr",label:"HR Updates",category:"HR",type:"feed",default:!1}],bM=()=>{const[t,e]=oe.useState("dashboard"),[i,o]=oe.useState(fM),[r,l]=oe.useState(hM),[c,h]=oe.useState(pM),[g,p]=oe.useState(mM),[v,S]=oe.useState(gM),[b]=oe.useState(yM),[x]=oe.useState(vM),[A]=oe.useState(_M),[C,R]=oe.useState(Vy),[k,z]=oe.useState(SM),[U,H]=oe.useState([]),[Y,B]=oe.useState(()=>{try{const w=localStorage.getItem("erp_dashboard_widgets");return w?JSON.parse(w):jd.filter(O=>O.default).map(O=>O.id)}catch{return jd.filter(O=>O.default).map(O=>O.id)}}),[K,fe]=oe.useState(!1),[te,be]=oe.useState(!1),[pe,ke]=oe.useState(()=>{try{const w=localStorage.getItem("erp_api_config"),O=localStorage.getItem("erp_supabase_url"),X=localStorage.getItem("erp_supabase_key"),ie=w?JSON.parse(w):{};return{claudeKey:ie.claudeKey||"",notebookLmSource:ie.notebookLmSource||"",supabaseUrl:O||"",supabaseKey:X||""}}catch{return{claudeKey:"",notebookLmSource:"",supabaseUrl:"",supabaseKey:""}}}),[He,Ge]=oe.useState("Gemini"),[ze,V]=oe.useState(Vy[0]),[Q,le]=oe.useState([]),[Te,_e]=oe.useState(!1),[M,J]=oe.useState("disconnected"),[Z,se]=oe.useState(!1),[ye,we]=oe.useState(!1),Ue=oe.useRef(null),[Xe,Oe]=oe.useState({isUploading:!1,fileName:"",progress:0,status:"uploading",message:""}),[In,fi]=oe.useState(""),[hi,Lo]=oe.useState(()=>{try{const w=localStorage.getItem("erp_chat_history");return w?JSON.parse(w):[]}catch{return[]}}),[vn,Gn]=oe.useState(()=>{try{const w=localStorage.getItem("erp_industrial_chat");return w?JSON.parse(w):[{id:"1",role:"model",text:"Welcome to the Industrial Design Studio. I can assist with facility layouts, machine design, and packaging concepts. How can I help?",timestamp:Date.now()}]}catch{return[{id:"1",role:"model",text:"Welcome to the Industrial Design Studio. I can assist with facility layouts, machine design, and packaging concepts. How can I help?",timestamp:Date.now()}]}}),[pi,ra]=oe.useState(""),[Cs,qo]=oe.useState("16:9"),[Zi,Bo]=oe.useState("1K"),[zn,Go]=oe.useState(null),[Ut,zo]=oe.useState(null),[Mn,es]=oe.useState(()=>{try{const w=localStorage.getItem("erp_brainstorm_sessions");return w?JSON.parse(w):[]}catch{return[]}}),[Ot,aa]=oe.useState(null),[mi,la]=oe.useState(""),[Dn,gi]=oe.useState("raw"),[bt,kn]=oe.useState(""),[Bt,gu]=oe.useState([]),[yu,Ns]=oe.useState(!1),[rn,Rs]=oe.useState("view"),[tt,Un]=oe.useState({}),[lt,ts]=oe.useState(""),[Is,ua]=oe.useState(null),Ms=oe.useRef(null),yi=oe.useRef(null),ca=oe.useRef(null),Ho=oe.useRef(null),Vo=oe.useRef(null),Fo=oe.useRef(null),[Rt,vi]=oe.useState({isOpen:!1,type:"add",itemType:"",itemName:"",onConfirm:()=>{},onCancel:()=>{}}),da=async()=>{try{const{data:w}=await Dt.from("production_yields").select("*");w&&w.length>0&&o(w.map(W=>({...W,actualYield:W.actual_yield,expectedYield:W.expected_yield})));const{data:O}=await Dt.from("orders").select("*");O&&O.length>0&&h(O.map(W=>({...W,piNumber:W.pi_number,indentDate:W.indent_date})));const{data:X}=await Dt.from("markets").select("*");X&&X.length>0&&z(X);const{data:ie}=await Dt.from("audit_logs").select("*").order("timestamp",{ascending:!1}).limit(50);ie&&ie.length>0&&H(ie),J("connected")}catch(w){console.warn("Supabase fetch error, using local/mock data",w),J("disconnected")}};oe.useEffect(()=>{da()},[]);const _i=(w,O)=>{try{localStorage.setItem(w,JSON.stringify(O))}catch{console.warn(`LocalStorage quota exceeded for ${w}. Data not saved.`)}};oe.useEffect(()=>{_i("erp_dashboard_widgets",Y)},[Y]),oe.useEffect(()=>{_i("erp_industrial_chat",vn)},[vn]),oe.useEffect(()=>{_i("erp_brainstorm_sessions",Mn)},[Mn]),oe.useEffect(()=>{_i("erp_chat_history",hi)},[hi]),oe.useEffect(()=>{_i("erp_api_config",pe)},[pe]),oe.useEffect(()=>{(async()=>{t==="industrial"&&typeof window<"u"&&window.aistudio&&(await window.aistudio.hasSelectedApiKey()||await window.aistudio.openSelectKey())})()},[t]);const _n=oe.useCallback(async()=>{_e(!0);try{const w=await AR(i,r,c,g,v);le(w)}catch(w){console.error(w)}finally{_e(!1)}},[i,r,c,g,v]);oe.useEffect(()=>{_n()},[_n]);const nt=(w,O,X)=>{const ie=document.createElement("a");if(X==="image")ie.href=w;else{const W=new Blob([w],{type:"text/plain"});ie.href=URL.createObjectURL(W)}ie.download=O,ie.click()},It=()=>{const w=JSON.stringify({batches:i,inventory:r,orders:c,expenses:g,employees:v,vendors:b,bdLeads:x},null,2);nt(w,"erp_data_export.json","text")},Si=async()=>{try{const w=await navigator.mediaDevices.getUserMedia({audio:!0}),O=new MediaRecorder(w);Ue.current=O;const X=[];O.ondataavailable=ie=>X.push(ie.data),O.onstop=async()=>{const ie=new Blob(X,{type:"audio/mp3"}),W=new FileReader;W.readAsDataURL(ie),W.onloadend=async()=>{const Ve=W.result.split(",")[1];_e(!0);const ee=await UR(Ve,"audio/mp3");fi(Ae=>Ae+" "+ee),_e(!1)}},O.start(),we(!0)}catch(w){console.error("Mic error",w)}},$o=()=>{var w;(w=Ue.current)==null||w.stop(),we(!1)},vu=async()=>{_e(!0);const w=`Pending Orders: ${c.filter(X=>X.status==="Pending").length}, Batches Active: ${i.filter(X=>X.status==="In-Progress").length}`,O=await CR(w);alert(` Quick Insight: ${O}`),_e(!1)},On=async(w,O)=>{const X={action:w,user:"Admin",details:O,timestamp:new Date().toISOString()};try{await Dt.from("audit_logs").insert(X),H(ie=>[X,...ie])}catch(ie){console.error("Failed to log action:",ie)}},jo=(w,O,X,ie)=>{vi({isOpen:!0,type:w,itemType:O,itemName:X,onConfirm:ie,onCancel:()=>vi(W=>({...W,isOpen:!1}))})},an=(w,O,X)=>{jo("delete",w,X,async()=>{switch(w){case"inventory":l(W=>W.filter(Ce=>Ce.id!==O)),await On("DELETE",`Deleted inventory item: ${X}`);break;case"production":o(W=>W.filter(Ce=>Ce.id!==O)),await On("DELETE",`Deleted batch: ${X}`),await Dt.from("production_yields").delete().eq("id",O);break;case"sales":h(W=>W.filter(Ce=>Ce.id!==O)),await On("DELETE",`Deleted order: ${X}`),await Dt.from("orders").delete().eq("id",O);break;case"procurement":await On("DELETE",`Deleted vendor: ${X}`);break;case"accounting":p(W=>W.filter(Ce=>Ce.id!==O)),await On("DELETE",`Deleted expense: ${X}`);break;case"hr":S(W=>W.filter(Ce=>Ce.id!==O)),await On("DELETE",`Deleted employee: ${X}`);break;case"rd":R(W=>W.filter(Ce=>Ce.id!==O)),await On("DELETE",`Deleted R&D project: ${X}`);break}vi(W=>({...W,isOpen:!1}));const{data:ie}=await Dt.from("audit_logs").select("*").order("timestamp",{ascending:!1}).limit(50);ie&&H(ie)})},Jo=w=>{B(O=>O.includes(w)?O.filter(X=>X!==w):[...O,w])},bi=()=>{var w;return(w=Ms.current)==null?void 0:w.click()},Yt=async(w,O="global")=>{var W;const X=(W=w.target.files)==null?void 0:W[0];if(!X)return;Oe({isUploading:!0,fileName:X.name,progress:0,status:"uploading",message:"Uploading file..."});const ie=new FileReader;ie.onprogress=Ce=>{if(Ce.lengthComputable){const Ve=Ce.loaded/Ce.total*50;Oe(ee=>({...ee,progress:Ve,message:`Uploading: ${Math.round(Ve)}%`}))}},ie.onload=async()=>{const Ce=ie.result,Ve=Ce.split(",")[1],ee=X.type;if(Oe(Ae=>({...Ae,progress:50,status:"processing",message:"Processing file..."})),O==="industrial"){Go(Ce),zo(ee),Oe({isUploading:!1,fileName:"",progress:0,status:"complete",message:""});return}if(O==="brainstorm"&&Ot){const Ae=Mn.find(Et=>Et.id===Ot);if(Ae){const Et={id:Date.now().toString(),role:"user",text:`Uploaded reference: ${X.name}`,timestamp:Date.now()},ct={...Ae,messages:[...Ae.messages,Et]};es(ns=>ns.map(Ht=>Ht.id===Ot?ct:Ht))}Oe({isUploading:!1,fileName:"",progress:0,status:"complete",message:""});return}_e(!0);try{let Ae="Analyze this file.";O==="procurement"&&(Ae="Analyze this Purchase Order/Indent file. Extract Item Names, Quantities, and Vendor details."),O==="rd"&&(Ae="Analyze this formulation document. Identify active ingredients, excipients, and suggest optimization."),O==="bd"&&(Ae="Import this business data. Extract leads, market info, and opportunities."),Oe(ct=>({...ct,progress:75,message:"Analyzing content..."}));const Et=await IR(Ve,ee,Ae);if(Oe(ct=>({...ct,progress:100,status:"complete",message:"Analysis complete!"})),Et&&Et.includes("{"))try{const ct=JSON.parse(Et.substring(Et.indexOf("{"),Et.lastIndexOf("}")+1));if(O==="procurement"&&ct.items){const ns=ct.items.map(Ht=>({id:`AI-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,name:Ht.name||"Unknown Item",category:Ht.category||"API",stock:0,requiredForOrders:Ht.quantity||0,balanceToPurchase:Ht.quantity||0,safetyStock:100,unit:Ht.unit||"kg"}));l(Ht=>[...Ht,...ns]),await On("IMPORT",`AI imported ${ns.length} items from ${X.name}`)}O==="bd"&&ct.leads}catch(ct){console.warn("Could not parse AI response as JSON for state update",ct)}gu(ct=>[{fileName:X.name,analysis:Et||"Analysis complete.",timestamp:new Date().toLocaleTimeString()},...ct]),setTimeout(()=>{Oe({isUploading:!1,fileName:"",progress:0,status:"complete",message:""})},2e3)}catch(Ae){console.error("File error",Ae),Oe({isUploading:!1,fileName:X.name,progress:0,status:"error",message:"Upload failed. Please try again."}),setTimeout(()=>{Oe({isUploading:!1,fileName:"",progress:0,status:"complete",message:""})},3e3)}finally{_e(!1)}},ie.readAsDataURL(X)},Ei=async()=>{if(!pi.trim()&&!zn)return;const w=pi,O=zn,X=Ut;ra(""),Go(null),zo(null);const ie={id:Date.now().toString(),role:"user",text:w||(O?"Reference Image Uploaded":""),image:O||void 0,timestamp:Date.now()};Gn(W=>[...W,ie]),_e(!0);try{if(O&&w){const W=await kR(O.split(",")[1],X,w);Gn(W?Ce=>[...Ce,{id:Date.now().toString(),role:"model",text:"Edited image based on your prompt.",image:W,timestamp:Date.now()}]:Ce=>[...Ce,{id:Date.now().toString(),role:"model",text:"Could not process edit.",timestamp:Date.now()}])}else if(w.toLowerCase().includes("generate")||w.toLowerCase().includes("design")||w.toLowerCase().includes("draw")||!0){const Ce=await DR(w,"schematic",Cs,Zi);Gn(Ce?Ve=>[...Ve,{id:Date.now().toString(),role:"model",text:`Generated design (${Cs}, ${Zi}).`,image:Ce,timestamp:Date.now()}]:Ve=>[...Ve,{id:Date.now().toString(),role:"model",text:"Generation failed.",timestamp:Date.now()}])}}catch(W){console.error(W)}finally{_e(!1)}},Hn=()=>{const w={id:Date.now().toString(),topic:"New Session",date:new Date().toLocaleDateString(),messages:[{id:"1",role:"model",text:"Ready to brainstorm. What is the topic?",timestamp:Date.now()}]};es(O=>[w,...O]),aa(w.id)},ot=async()=>{if(!mi.trim()||!Ot)return;const w=Mn.find(ie=>ie.id===Ot);if(!w)return;const O={id:Date.now().toString(),role:"user",text:mi,timestamp:Date.now()},X={...w,topic:w.messages.length<=1?mi:w.topic,messages:[...w.messages,O]};es(ie=>ie.map(W=>W.id===Ot?X:W)),la(""),_e(!0);try{const ie=await MR(O.text,"logic"),W={id:Date.now().toString(),role:"model",text:ie||"No response.",timestamp:Date.now()};es(Ce=>Ce.map(Ve=>Ve.id===Ot?{...Ve,messages:[...X.messages,W]}:Ve))}catch(ie){console.error(ie)}finally{_e(!1)}},Ko=async()=>{if(!In.trim())return;const w=In;fi(""),Lo(O=>[...O,{role:"user",text:w}]),_e(!0);try{const O=await RR(w,hi);Lo(X=>[...X,{role:"model",text:O||"Protocol error."}])}catch(O){console.error("Chat Error",O)}_e(!1)},fa=async()=>{if(ze){_e(!0);try{const w=await NR(ze);if(w.optimizedIngredients&&w.optimizedIngredients.length>0){const O={...ze,ingredients:w.optimizedIngredients,optimizationScore:98};R(X=>X.map(ie=>ie.id===O.id?O:ie)),V(O)}}catch(w){console.error(w)}finally{_e(!1)}}},ut=(w,O,X)=>{Rs(w),ts(O),Un(X||{}),Ns(!0)},Ti=async()=>{if(rn==="add"){const w=tt.name||tt.product||tt.title||tt.customer||"Item";jo("add",lt,w,async()=>{await ha(),vi(O=>({...O,isOpen:!1}))})}else await ha()},ha=async()=>{let w={...tt};const O=`${lt.substring(0,3).toUpperCase()}-${Math.floor(Math.random()*1e3)}`;if(rn==="add"){if(w.id=w.id||O,lt==="production"){const ie={id:w.id,product:w.product,quantity:Number(w.quantity),actual_yield:Number(w.actualYield),expected_yield:Number(w.expectedYield),status:w.status,timestamp:new Date().toISOString()};o([...i,w]),await Dt.from("production_yields").insert(ie),await Dt.from("audit_logs").insert({action:"CREATE_BATCH",user:"Admin",details:`Created ${w.id}`,timestamp:new Date().toISOString()})}if(lt==="sales"){const ie={id:w.id,customer:w.customer,product:w.product,quantity:Number(w.quantity),amount:Number(w.amount||0),status:w.status,indent_date:new Date().toISOString()};h([...c,w]),await Dt.from("orders").insert(ie),await Dt.from("audit_logs").insert({action:"CREATE_ORDER",user:"Admin",details:`Created ${w.id}`,timestamp:new Date().toISOString()})}lt==="inventory"&&(l([...r,w]),await Dt.from("audit_logs").insert({action:"CREATE_ITEM",user:"Admin",details:`Added ${w.name}`,timestamp:new Date().toISOString()})),lt==="accounting"&&(p([...g,w]),await Dt.from("audit_logs").insert({action:"CREATE_EXPENSE",user:"Admin",details:`Added ${w.description}`,timestamp:new Date().toISOString()})),lt==="hr"&&(S([...v,w]),await Dt.from("audit_logs").insert({action:"CREATE_EMPLOYEE",user:"Admin",details:`Added ${w.name}`,timestamp:new Date().toISOString()}))}else rn==="edit"&&(lt==="production"&&o(i.map(ie=>ie.id===tt.id?tt:ie)),lt==="inventory"&&l(r.map(ie=>ie.id===tt.id?tt:ie)),lt==="sales"&&h(c.map(ie=>ie.id===tt.id?tt:ie)),lt==="accounting"&&p(g.map(ie=>ie.id===tt.id?tt:ie)),lt==="hr"&&S(v.map(ie=>ie.id===tt.id?tt:ie)));const{data:X}=await Dt.from("audit_logs").select("*").order("timestamp",{ascending:!1}).limit(50);X&&H(X),Ns(!1)},pa=w=>{ua(Is===w?null:w)},ma=()=>!Xe.isUploading&&Xe.status!=="error"?null:_.jsxs("div",{className:"fixed bottom-4 right-4 bg-slate-900/95 backdrop-blur-sm border border-[#D4AF37]/30 rounded-lg p-4 shadow-2xl z-50 min-w-[300px] max-w-[400px] animate-fadeIn",children:[_.jsx("div",{className:"flex items-center justify-between mb-2",children:_.jsxs("div",{className:"flex items-center gap-2",children:[Xe.status==="uploading"&&_.jsx(Fr,{className:"text-[#F4C430] animate-pulse",size:18}),Xe.status==="processing"&&_.jsx(Dl,{className:"text-[#F4C430] animate-spin",size:18}),Xe.status==="complete"&&_.jsx(Md,{className:"text-green-400",size:18}),Xe.status==="error"&&_.jsx(zr,{className:"text-red-400",size:18}),_.jsx("span",{className:"text-sm font-medium text-white",children:Xe.message})]})}),_.jsx("div",{className:"text-xs text-slate-400 mb-2 truncate",children:Xe.fileName}),Xe.status!=="error"&&_.jsx("div",{className:"w-full bg-slate-800 rounded-full h-2 overflow-hidden",children:_.jsx("div",{className:"h-full luxury-gradient transition-all duration-300 ease-out",style:{width:`${Xe.progress}%`}})})]}),_u=()=>Rt.isOpen?_.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-[90] p-4 animate-fadeIn",children:_.jsxs("div",{className:"bg-slate-900 border-2 border-[#D4AF37] rounded-2xl max-w-md w-full p-6 shadow-2xl gold-glow",children:[_.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[_.jsx("div",{className:`p-3 rounded-xl ${Rt.type==="delete"?"bg-red-500/20":"bg-green-500/20"}`,children:Rt.type==="delete"?_.jsx(kl,{className:"text-red-500",size:24}):_.jsx(Md,{className:"text-green-500",size:24})}),_.jsxs("div",{className:"flex-1",children:[_.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:Rt.type==="delete"?"Confirm Deletion":"Confirm Addition"}),_.jsx("p",{className:"text-slate-300 text-sm",children:Rt.type==="delete"?`Are you sure you want to delete "${Rt.itemName}"? This action cannot be undone.`:`Are you sure you want to add "${Rt.itemName}" to ${Rt.itemType}?`})]})]}),_.jsxs("div",{className:"flex gap-3",children:[_.jsx("button",{onClick:Rt.onCancel,className:"flex-1 px-4 py-2.5 bg-slate-800 hover:bg-slate-700 text-white rounded-lg font-bold transition-all",children:"Cancel"}),_.jsx("button",{onClick:Rt.onConfirm,className:`flex-1 px-4 py-2.5 rounded-lg font-bold transition-all ${Rt.type==="delete"?"bg-red-500 hover:bg-red-600 text-white":"bg-green-500 hover:bg-green-600 text-white"}`,children:Rt.type==="delete"?"Delete":"Confirm"})]})]})}):null,Ds=()=>{localStorage.setItem("erp_api_config",JSON.stringify({claudeKey:pe.claudeKey,notebookLmSource:pe.notebookLmSource})),pe.supabaseUrl&&localStorage.setItem("erp_supabase_url",pe.supabaseUrl),pe.supabaseKey&&localStorage.setItem("erp_supabase_key",pe.supabaseKey),be(!1),pe.supabaseUrl&&pe.supabaseKey&&confirm("Settings saved. Reload to apply new Database connection?")&&window.location.reload()},ks=()=>te?_.jsx("div",{className:"fixed inset-0 z-[80] flex items-center justify-center bg-black/80 backdrop-blur-sm p-4 animate-fadeIn",children:_.jsxs("div",{className:"bg-slate-900 border border-[#D4AF37] rounded-xl w-full max-w-lg shadow-2xl gold-glow flex flex-col max-h-[85vh]",children:[_.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-center bg-[#D4AF37]/10",children:[_.jsxs("h3",{className:"text-xl font-bold text-white uppercase tracking-widest flex items-center gap-2",children:[_.jsx(kg,{size:20})," System Configuration"]}),_.jsx("button",{onClick:()=>be(!1),className:"text-slate-400 hover:text-white",children:_.jsx($r,{size:24})})]}),_.jsxs("div",{className:"p-6 overflow-y-auto custom-scrollbar space-y-6",children:[_.jsxs("div",{className:"space-y-3 pb-4 border-b border-white/5",children:[_.jsxs("h4",{className:"text-sm font-bold text-white flex items-center gap-2",children:[_.jsx(Kb,{size:16})," Backend Connection (Supabase)"]}),_.jsxs("div",{className:"space-y-2",children:[_.jsx("input",{type:"text",value:pe.supabaseUrl,onChange:w=>ke({...pe,supabaseUrl:w.target.value}),placeholder:"https://xyz.supabase.co",className:"w-full bg-slate-950 border border-white/10 rounded-lg px-4 py-2 text-xs text-white focus:border-[#D4AF37] focus:outline-none"}),_.jsx("input",{type:"password",value:pe.supabaseKey,onChange:w=>ke({...pe,supabaseKey:w.target.value}),placeholder:"public-anon-key",className:"w-full bg-slate-950 border border-white/10 rounded-lg px-4 py-2 text-xs text-white focus:border-[#D4AF37] focus:outline-none"})]}),_.jsxs("p",{className:"text-[10px] text-slate-500",children:["Leave blank if using system Environment Variables (NEXT_PUBLIC_...).",_.jsx("br",{}),"Enter manually to override or connect from a new device."]})]}),_.jsxs("div",{className:"space-y-2 pb-4 border-b border-white/5",children:[_.jsxs("h4",{className:"text-sm font-bold text-[#D4AF37] flex items-center gap-2",children:[_.jsx(Ug,{size:16})," Google Gemini (Primary)"]}),_.jsxs("div",{className:"flex items-center gap-2 p-3 bg-green-500/10 border border-green-500/20 rounded-lg",children:[_.jsx(qE,{size:16,className:"text-green-500"}),_.jsxs("div",{className:"flex-1",children:[_.jsx("div",{className:"text-xs font-bold text-green-400",children:"System Connected"}),_.jsx("div",{className:"text-[10px] text-slate-400",children:"Secure Environment Key Active"})]})]})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsxs("h4",{className:"text-sm font-bold text-white flex items-center gap-2",children:[_.jsx(Eu,{})," Anthropic Claude"]}),_.jsxs("div",{className:"relative",children:[_.jsx(fE,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500"}),_.jsx("input",{type:"password",value:pe.claudeKey,onChange:w=>ke({...pe,claudeKey:w.target.value}),placeholder:"sk-ant-...",className:"w-full bg-slate-950 border border-white/10 rounded-lg pl-9 pr-4 py-2 text-xs text-white focus:border-[#D4AF37] focus:outline-none"})]}),_.jsx("p",{className:"text-[10px] text-slate-500",children:"Enter API Key to enable Claude 3.5 Sonnet integration."})]}),_.jsxs("div",{className:"space-y-2 pt-4 border-t border-white/5",children:[_.jsxs("h4",{className:"text-sm font-bold text-white flex items-center gap-2",children:[_.jsx(Xb,{size:16})," NotebookLM (RAG)"]}),_.jsxs("div",{className:"relative",children:[_.jsx(mE,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-500"}),_.jsx("input",{type:"text",value:pe.notebookLmSource,onChange:w=>ke({...pe,notebookLmSource:w.target.value}),placeholder:"Source ID / Knowledge Graph ID",className:"w-full bg-slate-950 border border-white/10 rounded-lg pl-9 pr-4 py-2 text-xs text-white focus:border-[#D4AF37] focus:outline-none"})]}),_.jsx("p",{className:"text-[10px] text-slate-500",children:"Connect to your custom NotebookLM knowledge source."})]})]}),_.jsx("div",{className:"p-6 border-t border-white/10 flex justify-end gap-3 bg-slate-950",children:_.jsx("button",{onClick:Ds,className:"luxury-gradient px-6 py-2 rounded-lg text-slate-950 font-bold text-sm",children:"Save & Close"})})]})}):null,Sn=()=>K?_.jsx("div",{className:"fixed inset-0 z-[80] flex items-center justify-center bg-black/80 backdrop-blur-sm p-4 animate-fadeIn",children:_.jsxs("div",{className:"bg-slate-900 border border-[#D4AF37] rounded-xl w-full max-w-2xl shadow-2xl gold-glow flex flex-col max-h-[85vh]",children:[_.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-center bg-[#D4AF37]/10",children:[_.jsxs("h3",{className:"text-xl font-bold text-white uppercase tracking-widest flex items-center gap-2",children:[_.jsx(Dd,{size:20})," Customize Dashboard"]}),_.jsx("button",{onClick:()=>fe(!1),className:"text-slate-400 hover:text-white",children:_.jsx($r,{size:24})})]}),_.jsxs("div",{className:"p-6 overflow-y-auto custom-scrollbar",children:[_.jsx("p",{className:"text-sm text-slate-400 mb-6",children:"Select which widgets to display on your operational dashboard. Changes are saved automatically."}),_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:jd.map(w=>_.jsxs("div",{onClick:()=>Jo(w.id),className:`p-4 rounded-lg border cursor-pointer transition-all flex items-center justify-between group ${Y.includes(w.id)?"bg-[#D4AF37]/20 border-[#D4AF37]":"bg-slate-950 border-white/10 hover:border-white/30"}`,children:[_.jsxs("div",{children:[_.jsx("div",{className:`text-sm font-bold ${Y.includes(w.id)?"text-white":"text-slate-400"}`,children:w.label}),_.jsxs("div",{className:"text-[10px] text-slate-500 uppercase font-bold mt-1",children:[w.category,"  ",w.type]})]}),Y.includes(w.id)?_.jsx(GE,{className:"text-[#D4AF37]",size:20}):_.jsx(HE,{className:"text-slate-600 group-hover:text-slate-400",size:20})]},w.id))})]}),_.jsx("div",{className:"p-6 border-t border-white/10 flex justify-end gap-3 bg-slate-950",children:_.jsx("button",{onClick:()=>fe(!1),className:"luxury-gradient px-6 py-2 rounded-lg text-slate-950 font-bold text-sm",children:"Done"})})]})}):null,Gt=()=>yu?_.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/80 backdrop-blur-sm p-4 animate-fadeIn",children:_.jsxs("div",{className:"bg-slate-900 border border-[#D4AF37] rounded-xl w-full max-w-lg shadow-2xl gold-glow flex flex-col max-h-[90vh]",children:[_.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-center bg-[#D4AF37]/10",children:[_.jsxs("h3",{className:"text-xl font-bold text-white uppercase tracking-widest",children:[rn," ",lt]}),_.jsx("button",{onClick:()=>Ns(!1),className:"text-slate-400 hover:text-white",children:_.jsx($r,{size:24})})]}),_.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar space-y-4",children:Object.keys(tt).map(w=>w==="id"&&rn!=="add"?null:_.jsxs("div",{className:"space-y-1",children:[_.jsx("label",{className:"text-xs uppercase font-bold text-[#D4AF37]",children:w}),_.jsx("input",{type:"text",disabled:rn==="view",value:tt[w],onChange:O=>Un({...tt,[w]:O.target.value}),className:"w-full bg-slate-950 border border-white/10 rounded p-2 text-white focus:border-[#D4AF37] focus:outline-none"})]},w))}),_.jsxs("div",{className:"p-6 border-t border-white/10 flex justify-end gap-3 bg-slate-950",children:[_.jsx("button",{onClick:()=>Ns(!1),className:"px-4 py-2 text-slate-400 hover:text-white font-bold text-sm",children:"Close"}),rn!=="view"&&_.jsx("button",{onClick:Ti,className:"luxury-gradient px-6 py-2 rounded-lg text-slate-950 font-bold text-sm",children:lt==="production"?"Log Batch":lt==="sales"?"Update Orders":"Save Changes"})]})]})}):null,ga=()=>_.jsxs("div",{className:"space-y-6 animate-fadeIn",children:[_.jsxs("div",{className:"flex justify-between items-center",children:[_.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[_.jsx(Rg,{className:"text-[#F4C430]",size:20})," Audit History"]}),_.jsx("div",{className:"text-xs text-slate-500",children:"Permanent Record from Database"})]}),_.jsx("div",{className:"bg-slate-900/50 border border-[#D4AF37]/30 rounded-xl p-6 gold-glow",children:_.jsx("div",{className:"overflow-x-auto",children:_.jsxs("table",{className:"w-full text-left",children:[_.jsx("thead",{children:_.jsxs("tr",{className:"border-b border-white/5 text-slate-500 text-xs uppercase",children:[_.jsx("th",{className:"pb-4 px-4",children:"Timestamp"}),_.jsx("th",{className:"pb-4 px-4",children:"User"}),_.jsx("th",{className:"pb-4 px-4",children:"Action"}),_.jsx("th",{className:"pb-4 px-4",children:"Details"})]})}),_.jsx("tbody",{className:"divide-y divide-white/5",children:U.length===0?_.jsx("tr",{children:_.jsx("td",{colSpan:4,className:"p-4 text-center text-slate-500 text-sm",children:"No history logs found."})}):U.map((w,O)=>_.jsxs("tr",{className:"hover:bg-white/5",children:[_.jsx("td",{className:"py-3 px-4 text-slate-400 text-xs font-mono",children:new Date(w.timestamp).toLocaleString()}),_.jsx("td",{className:"py-3 px-4 text-white text-sm font-bold",children:w.user}),_.jsx("td",{className:"py-3 px-4",children:_.jsx("span",{className:"bg-slate-800 text-[#D4AF37] px-2 py-1 rounded text-[10px] uppercase font-bold border border-white/10",children:w.action})}),_.jsx("td",{className:"py-3 px-4 text-slate-300 text-sm",children:w.details})]},O))})]})})})]}),Su=()=>_.jsxs("div",{className:"space-y-6 animate-fadeIn",children:[_.jsxs("div",{className:"flex justify-between items-center",children:[_.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[_.jsx(Ng,{className:"text-[#F4C430]",size:20})," Manufacturing Operations"]}),_.jsxs("button",{onClick:()=>ut("add","production",{id:"",product:"",quantity:0,actualYield:0,expectedYield:100,status:"In-Progress"}),className:"bg-[#D4AF37]/10 hover:bg-[#D4AF37]/20 text-[#D4AF37] border border-[#D4AF37] px-4 py-2 rounded-lg flex items-center gap-2 text-sm font-bold transition-all",children:[_.jsx(Vr,{size:16})," Log New Batch"]})]}),_.jsx("div",{className:"bg-slate-900/50 border border-[#D4AF37]/30 rounded-xl p-6 gold-glow",children:_.jsx("div",{className:"overflow-x-auto",children:_.jsxs("table",{className:"w-full text-left",children:[_.jsx("thead",{children:_.jsxs("tr",{className:"border-b border-white/5 text-slate-500 text-xs uppercase",children:[_.jsx("th",{className:"pb-4 px-4 font-bold",children:"Batch ID"}),_.jsx("th",{className:"pb-4 px-4 font-bold",children:"Product"}),_.jsx("th",{className:"pb-4 px-4 font-bold",children:"Qty (Kg)"}),_.jsx("th",{className:"pb-4 px-4 font-bold",children:"Dispatch"}),_.jsx("th",{className:"pb-4 px-4 font-bold",children:"Yield"}),_.jsx("th",{className:"pb-4 px-4 font-bold",children:"Status"}),_.jsx("th",{className:"pb-4 px-4 font-bold text-right",children:"Actions"})]})}),_.jsx("tbody",{className:"divide-y divide-white/5",children:i.map(w=>_.jsxs(Fy.Fragment,{children:[_.jsxs("tr",{className:`hover:bg-white/5 transition-all duration-200 ${Is===w.id?"bg-white/5":""}`,children:[_.jsx("td",{className:"py-4 px-4 font-mono text-sm text-[#F4C430] cursor-pointer",onClick:()=>pa(w.id),children:_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx(Hb,{size:14,className:`transition-transform duration-200 ${Is===w.id?"rotate-180":""}`}),w.id]})}),_.jsx("td",{className:"py-4 px-4 text-white font-medium text-sm",children:w.product}),_.jsx("td",{className:"py-4 px-4 text-white font-mono text-sm",children:w.quantity.toLocaleString()}),_.jsx("td",{className:"py-4 px-4 text-slate-300 text-sm",children:w.dispatchDate||"-"}),_.jsx("td",{className:"py-4 px-4",children:_.jsxs("span",{className:`text-sm font-bold ${Math.abs(w.actualYield-w.expectedYield)>2?"text-red-400":"text-green-400"}`,children:[w.actualYield,"%"]})}),_.jsx("td",{className:"py-4 px-4",children:_.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded-full border ${w.status==="Completed"?"bg-green-500/10 text-green-500 border-green-500/20":w.status==="Scheduled"?"bg-slate-500/10 text-slate-400 border-slate-500/20":"bg-blue-500/10 text-blue-500 border-blue-500/20"}`,children:w.status})}),_.jsx("td",{className:"py-4 px-4 text-right",children:_.jsxs("div",{className:"flex justify-end gap-2",children:[_.jsx("button",{onClick:()=>ut("view","production",w),className:"p-1.5 rounded hover:bg-blue-500/20 text-blue-400",title:"View",children:_.jsx(eE,{size:14})}),_.jsx("button",{onClick:()=>ut("edit","production",w),className:"p-1.5 rounded hover:bg-yellow-500/20 text-[#F4C430]",title:"Edit",children:_.jsx(Hr,{size:14})}),_.jsx("button",{onClick:()=>an("production",w.id,w.product),className:"p-1.5 rounded hover:bg-red-500/20 text-red-500",title:"Delete",children:_.jsx(co,{size:14})})]})})]}),Is===w.id&&_.jsx("tr",{className:"bg-slate-950/40 border-l-2 border-[#D4AF37]",children:_.jsx("td",{colSpan:7,className:"p-0",children:_.jsx("div",{className:"p-6 grid grid-cols-1 md:grid-cols-3 gap-6 animate-fadeIn",children:_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("div",{className:"p-2 rounded bg-slate-900 border border-white/5 text-[#F4C430]",children:_.jsx(qb,{size:18})}),_.jsxs("div",{children:[_.jsx("p",{className:"text-[10px] text-slate-500 uppercase font-bold",children:"Yield Details"}),_.jsxs("p",{className:"text-sm text-white font-semibold",children:["Actual: ",w.actualYield,"% / Exp: ",w.expectedYield,"%"]})]})]})})})})]},w.id))})]})})})]}),Yo=()=>{const w=r.filter(W=>W.category!=="Finished"),O=r.filter(W=>W.category==="Finished"),X=Dn==="raw"?w:O,ie=X.filter(W=>W.balanceToPurchase&&W.balanceToPurchase>0||W.stock<=W.safetyStock*.2);return _.jsxs("div",{className:"space-y-6 animate-fadeIn",children:[_.jsxs("div",{className:"flex justify-between items-center",children:[_.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[_.jsx(wg,{className:"text-[#F4C430]",size:20})," Inventory Control"]}),_.jsxs("div",{className:"flex gap-2",children:[_.jsxs("button",{onClick:()=>Hy(r,"inventory_report"),className:"bg-slate-800 hover:bg-slate-700 text-slate-300 px-4 py-2 rounded-lg text-sm font-bold flex items-center gap-2",children:[_.jsx(Il,{size:14})," Export"]}),_.jsxs("button",{onClick:()=>ut("add","inventory",{id:"",name:"",category:"API",stock:0,safetyStock:0,unit:"kg"}),className:"bg-[#D4AF37]/10 hover:bg-[#D4AF37]/20 text-[#D4AF37] border border-[#D4AF37] px-4 py-2 rounded-lg flex items-center gap-2 text-sm font-bold transition-all",children:[_.jsx(Vr,{size:16})," Add Material"]})]})]}),_.jsxs("div",{className:"flex gap-4 border-b border-white/5",children:[_.jsx("button",{onClick:()=>gi("raw"),className:`pb-2 px-4 text-sm font-bold transition-all ${Dn==="raw"?"text-[#F4C430] border-b-2 border-[#F4C430]":"text-slate-500 hover:text-white"}`,children:"Raw Materials"}),_.jsx("button",{onClick:()=>gi("finished"),className:`pb-2 px-4 text-sm font-bold transition-all ${Dn==="finished"?"text-[#F4C430] border-b-2 border-[#F4C430]":"text-slate-500 hover:text-white"}`,children:"Finished Goods"})]}),ie.length>0&&_.jsxs("div",{className:"bg-red-500/10 border border-red-500/50 p-4 rounded-xl flex items-center gap-4 animate-pulse",children:[_.jsx(zr,{className:"text-red-500",size:24}),_.jsxs("div",{className:"flex-1",children:[_.jsx("h3",{className:"text-red-500 font-bold text-lg",children:"CRITICAL PROCUREMENT REQUIRED"}),_.jsxs("p",{className:"text-red-400 text-sm",children:["Action: ",ie.length," items have procurement deficits."]})]}),_.jsx("button",{onClick:()=>e("procurement"),className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg text-sm font-bold",children:"Go to Procurement"})]}),_.jsx("div",{className:"bg-slate-900/50 border border-[#D4AF37]/30 rounded-xl p-6 gold-glow",children:_.jsx("div",{className:"overflow-x-auto",children:_.jsxs("table",{className:"w-full text-left",children:[_.jsx("thead",{children:_.jsxs("tr",{className:"border-b border-white/5 text-slate-500 text-xs uppercase",children:[_.jsx("th",{className:"pb-4 px-4 font-bold",children:"Material Name"}),_.jsx("th",{className:"pb-4 px-4 font-bold",children:"Category"}),_.jsx("th",{className:"pb-4 px-4 font-bold",children:"Current Stock"}),Dn==="raw"&&_.jsx("th",{className:"pb-4 px-4 font-bold",children:"Required"}),Dn==="raw"&&_.jsx("th",{className:"pb-4 px-4 font-bold",children:"Balance"}),_.jsx("th",{className:"pb-4 px-4 font-bold",children:"Min Stock"}),_.jsx("th",{className:"pb-4 px-4 font-bold",children:"Status"}),_.jsx("th",{className:"pb-4 px-4 font-bold text-right",children:"Actions"})]})}),_.jsx("tbody",{className:"divide-y divide-white/5",children:X.length===0?_.jsx("tr",{children:_.jsx("td",{colSpan:Dn==="raw"?8:6,className:"p-4 text-center text-slate-500 text-sm",children:"No items found."})}):X.map(W=>{var Ve,ee;const Ce=W.balanceToPurchase&&W.balanceToPurchase>0||W.stock<W.safetyStock;return _.jsxs("tr",{className:"hover:bg-white/5 transition-all",children:[_.jsx("td",{className:"py-3 px-4 text-white font-bold text-sm",children:W.name}),_.jsx("td",{className:"py-3 px-4",children:_.jsx("span",{className:"text-[10px] uppercase bg-slate-700 text-slate-300 px-2 py-1 rounded font-bold",children:W.category})}),_.jsxs("td",{className:"py-3 px-4 text-white font-mono font-bold",children:[W.stock.toLocaleString()," ",_.jsx("span",{className:"text-xs text-slate-500",children:W.unit})]}),Dn==="raw"&&_.jsxs("td",{className:"py-3 px-4 text-slate-300 font-mono",children:[((Ve=W.requiredForOrders)==null?void 0:Ve.toLocaleString())||"-"," ",_.jsx("span",{className:"text-xs text-slate-500",children:W.unit})]}),Dn==="raw"&&_.jsx("td",{className:"py-3 px-4",children:_.jsxs("span",{className:`font-mono font-bold ${W.balanceToPurchase&&W.balanceToPurchase>0?"text-red-400":"text-green-400"}`,children:[((ee=W.balanceToPurchase)==null?void 0:ee.toLocaleString())||"-"," ",_.jsx("span",{className:"text-xs",children:W.unit})]})}),_.jsxs("td",{className:"py-3 px-4 text-slate-300 font-mono",children:[W.safetyStock.toLocaleString()," ",_.jsx("span",{className:"text-xs text-slate-500",children:W.unit})]}),_.jsx("td",{className:"py-3 px-4",children:_.jsx("span",{className:`text-[10px] px-2 py-1 rounded font-bold uppercase ${Ce?"bg-red-500/20 text-red-500 border border-red-500/30":"bg-green-500/20 text-green-500 border border-green-500/30"}`,children:Ce?"SHORTAGE":"GOOD"})}),_.jsx("td",{className:"py-3 px-4 text-right",children:_.jsxs("div",{className:"flex justify-end gap-2",children:[_.jsx("button",{onClick:()=>ut("edit","inventory",W),className:"p-1.5 rounded hover:bg-yellow-500/20 text-[#F4C430]",title:"Edit",children:_.jsx(Hr,{size:14})}),_.jsx("button",{onClick:()=>an("inventory",W.id,W.name),className:"p-1.5 rounded hover:bg-red-500/20 text-red-500",title:"Delete",children:_.jsx(co,{size:14})})]})})]},W.id)})})]})})})]})},ya=()=>_.jsxs("div",{className:"space-y-6 animate-fadeIn",children:[_.jsxs("div",{className:"flex justify-between items-center",children:[_.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[_.jsx(Rd,{className:"text-[#F4C430]",size:20})," Sales & Orders"]}),_.jsxs("div",{className:"flex gap-2",children:[_.jsxs("button",{onClick:()=>Hy(c,"sales_report"),className:"bg-slate-800 hover:bg-slate-700 text-slate-300 px-4 py-2 rounded-lg text-sm font-bold flex items-center gap-2",children:[_.jsx(Il,{size:14})," Export"]}),_.jsxs("button",{onClick:()=>ut("add","sales",{id:"",customer:"",product:"",quantity:0,status:"Pending"}),className:"bg-[#D4AF37]/10 hover:bg-[#D4AF37]/20 text-[#D4AF37] border border-[#D4AF37] px-4 py-2 rounded-lg flex items-center gap-2 text-sm font-bold transition-all",children:[_.jsx(Vr,{size:16})," Update Orders"]})]})]}),_.jsx("div",{className:"bg-slate-900/50 border border-[#D4AF37]/30 rounded-xl p-6 gold-glow",children:_.jsxs("table",{className:"w-full text-left",children:[_.jsx("thead",{children:_.jsxs("tr",{className:"border-b border-white/5 text-slate-500 text-xs uppercase",children:[_.jsx("th",{className:"pb-4 px-4 font-bold",children:"Customer"}),_.jsx("th",{className:"pb-4 px-4 font-bold",children:"Product"}),_.jsx("th",{className:"pb-4 px-4 font-bold",children:"Qty"}),_.jsx("th",{className:"pb-4 px-4 font-bold",children:"Status"}),_.jsx("th",{className:"pb-4 px-4 font-bold text-right",children:"Action"})]})}),_.jsx("tbody",{className:"divide-y divide-white/5",children:c.map(w=>_.jsxs("tr",{className:"hover:bg-white/5",children:[_.jsx("td",{className:"p-4 font-bold text-white",children:w.customer}),_.jsx("td",{className:"p-4 text-sm text-slate-300",children:w.product}),_.jsx("td",{className:"p-4 font-bold text-white font-mono",children:w.quantity.toLocaleString()}),_.jsx("td",{className:"p-4",children:_.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded font-bold uppercase ${w.status==="Shipped"?"bg-blue-500/10 text-blue-500":"bg-yellow-500/10 text-yellow-500"}`,children:w.status})}),_.jsx("td",{className:"p-4 text-right",children:_.jsxs("div",{className:"flex gap-2 justify-end",children:[_.jsx("button",{onClick:()=>ut("edit","sales",w),className:"p-1.5 rounded hover:bg-yellow-500/20 text-[#F4C430]",title:"Edit",children:_.jsx(Hr,{size:14})}),_.jsx("button",{onClick:()=>an("sales",w.id,w.customer),className:"p-1.5 rounded hover:bg-red-500/20 text-red-500",title:"Delete",children:_.jsx(co,{size:14})})]})})]},w.id))})]})})]}),Us=()=>{const w=r.filter(O=>O.balanceToPurchase&&O.balanceToPurchase>0);return _.jsxs("div",{className:"space-y-6 animate-fadeIn",children:[_.jsxs("div",{className:"flex justify-between items-center",children:[_.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[_.jsx(Ud,{className:"text-[#F4C430]",size:20})," Procurement & Supply Chain"]}),_.jsxs("div",{className:"flex gap-2",children:[_.jsxs("button",{onClick:()=>{var O;return(O=yi.current)==null?void 0:O.click()},className:"bg-slate-800 hover:bg-slate-700 text-slate-300 px-4 py-2 rounded-lg text-sm font-bold flex items-center gap-2",children:[_.jsx(Fr,{size:14})," Upload PO/Indent"]}),_.jsx("input",{type:"file",ref:yi,className:"hidden",onChange:O=>Yt(O,"procurement")}),_.jsxs("button",{onClick:()=>ut("add","procurement",{id:"",name:"",category:"API",rating:5,status:"Verified",country:""}),className:"bg-[#D4AF37]/10 hover:bg-[#D4AF37]/20 text-[#D4AF37] border border-[#D4AF37] px-4 py-2 rounded-lg flex items-center gap-2 text-sm font-bold transition-all",children:[_.jsx(Vr,{size:16})," Add Vendor"]})]})]}),_.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[_.jsxs("div",{className:"bg-slate-900/50 border border-[#D4AF37]/30 rounded-xl p-6 gold-glow",children:[_.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[_.jsx(kl,{className:"text-red-400",size:18})," Material Shortages"]}),_.jsx("div",{className:"space-y-3",children:w.length===0?_.jsx("p",{className:"text-slate-500 text-sm",children:"No critical shortages."}):w.map(O=>_.jsxs("div",{className:"p-4 bg-red-500/10 rounded border border-red-500/20 flex justify-between items-center",children:[_.jsxs("div",{children:[_.jsx("h4",{className:"text-white font-bold text-sm",children:O.name}),_.jsxs("p",{className:"text-[10px] text-red-300",children:["Required: ",O.balanceToPurchase," ",O.unit]})]}),_.jsx("button",{className:"text-xs bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded font-bold",children:"Generate PO"})]},O.id))})]}),_.jsxs("div",{className:"bg-slate-900/50 border border-[#D4AF37]/30 rounded-xl p-6 gold-glow",children:[_.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[_.jsx(Ml,{className:"text-[#F4C430]",size:18})," Active Vendors"]}),_.jsx("div",{className:"space-y-3",children:b.map(O=>_.jsxs("div",{className:"p-4 bg-slate-800/30 rounded border border-white/5 flex justify-between items-center group hover:border-[#D4AF37]/30 transition-all",children:[_.jsxs("div",{children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("h4",{className:"text-white font-bold text-sm",children:O.name}),_.jsx("span",{className:`text-[9px] px-1.5 py-0.5 rounded border uppercase ${O.status==="Verified"?"text-green-500 border-green-500/20 bg-green-500/10":"text-yellow-500 border-yellow-500/20 bg-yellow-500/10"}`,children:O.status})]}),_.jsxs("p",{className:"text-[10px] text-slate-500",children:[O.country,"  ",O.category]})]}),_.jsx("div",{className:"flex items-center gap-2",children:_.jsxs("div",{className:"flex items-center text-[#D4AF37] text-xs font-bold gap-1",children:[_.jsx(FE,{size:10,fill:"#D4AF37"})," ",O.rating]})})]},O.id))})]})]})]})},bu=()=>{const w=i.length>0?(i.reduce((ee,Ae)=>ee+Ae.actualYield,0)/i.length).toFixed(1)+"%":"0%",O=(c.reduce((ee,Ae)=>ee+Ae.quantity,0)/1e3).toFixed(1)+" MT",X=k.length.toString(),ie={stats_yield:{title:"Yield Accuracy",icon:xg,value:w,color:"text-[#F4C430]"},stats_orders:{title:"Order Volume",icon:AE,value:O,color:"text-[#F4C430]"},stats_markets:{title:"Active Markets",icon:Ml,value:X,color:"text-[#F4C430]"},stats_pipeline:{title:"Pipeline Value",icon:Gb,value:"$4.8M",color:"text-[#F4C430]"},stats_inventory:{title:"Critical Stock",icon:kl,value:r.filter(ee=>ee.balanceToPurchase&&ee.balanceToPurchase>0).length.toString(),color:"text-red-400"},stats_vendors:{title:"Active Vendors",icon:Ud,value:b.length.toString(),color:"text-[#F4C430]"},stats_expenses:{title:"Total Expenses",icon:Od,value:`$${g.reduce((ee,Ae)=>ee+Ae.amount,0).toLocaleString()}`,color:"text-[#F4C430]"},stats_liability:{title:"Liabilities",icon:zr,value:`$${g.filter(ee=>ee.status==="Pending").reduce((ee,Ae)=>ee+Ae.amount,0).toLocaleString()}`,color:"text-red-400"},stats_staff:{title:"Staff Count",icon:Ul,value:v.length.toString(),color:"text-[#F4C430]"},stats_rd:{title:"R&D Projects",icon:Id,value:C.length.toString(),color:"text-[#F4C430]"},stats_samples:{title:"Active Samples",icon:kd,value:A.length.toString(),color:"text-[#F4C430]"}},W={feed_ai:{title:"Operations Feed",span:"col-span-2",render:()=>_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{className:"flex justify-between items-center mb-2",children:[_.jsx("span",{className:"text-[10px] text-slate-500 uppercase tracking-widest font-bold",children:"LIVE INSIGHTS"}),_.jsxs("button",{onClick:vu,className:"text-xs flex items-center gap-1 text-[#F4C430] hover:text-white transition-colors bg-[#F4C430]/10 px-2 py-1 rounded border border-[#F4C430]/20",children:[_.jsx(Mb,{size:12})," Fast AI Scan"]})]}),Q.map((ee,Ae)=>_.jsxs("div",{className:`p-4 rounded-lg border flex gap-3 ${ee.severity==="critical"?"bg-red-500/10 border-red-500/20":"bg-slate-800/50 border-white/5"}`,children:[_.jsx(kl,{className:ee.severity==="critical"?"text-red-400":"text-[#F4C430]",size:20}),_.jsxs("div",{children:[_.jsx("h4",{className:"text-xs font-bold text-white uppercase mb-1",children:ee.type}),_.jsx("p",{className:"text-xs text-slate-300",children:ee.message})]})]},Ae)),Q.length===0&&_.jsx("div",{className:"text-center text-slate-500 text-sm py-4",children:"No critical alerts. Operations normal."})]})},feed_batches:{title:"Recent Batches",span:"col-span-1",render:()=>_.jsx("div",{className:"space-y-3",children:i.slice(0,3).map(ee=>_.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-800/30 rounded border border-white/5",children:[_.jsxs("div",{children:[_.jsx("p",{className:"text-[#D4AF37] text-xs font-mono",children:ee.id}),_.jsx("p",{className:"text-white text-sm font-bold",children:ee.product})]}),_.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded-full border ${ee.status==="Completed"?"text-green-500 border-green-500/20":"text-blue-500 border-blue-500/20"}`,children:ee.status})]},ee.id))})},feed_orders:{title:"Recent Sales",span:"col-span-1",render:()=>_.jsx("div",{className:"space-y-3",children:c.slice(0,3).map(ee=>_.jsxs("div",{className:"p-3 bg-slate-800/30 rounded border border-white/5",children:[_.jsxs("div",{className:"flex justify-between",children:[_.jsx("span",{className:"text-[#D4AF37] text-xs font-bold",children:ee.customer}),_.jsx("span",{className:"text-xs text-slate-400",children:ee.status})]}),_.jsx("p",{className:"text-white text-sm mt-1",children:ee.product})]},ee.id))})},feed_inventory:{title:"Inventory Alerts",span:"col-span-1",render:()=>{const ee=r.filter(Ae=>Ae.balanceToPurchase&&Ae.balanceToPurchase>0||Ae.stock<=Ae.safetyStock);return _.jsx("div",{className:"space-y-3",children:ee.length===0?_.jsx("div",{className:"text-slate-500 text-sm",children:"Stock levels healthy."}):ee.slice(0,3).map(Ae=>_.jsxs("div",{className:"flex items-center gap-3 p-3 bg-red-500/10 rounded border border-red-500/20",children:[_.jsx(zr,{className:"text-red-400",size:16}),_.jsxs("div",{children:[_.jsx("p",{className:"text-white text-sm font-bold",children:Ae.name}),_.jsxs("p",{className:"text-[10px] text-red-300",children:["Shortage: ",Ae.balanceToPurchase," ",Ae.unit]})]})]},Ae.id))})}},feed_hr:{title:"HR Updates",span:"col-span-1",render:()=>_.jsx("div",{className:"space-y-3",children:v.slice(0,3).map(ee=>_.jsxs("div",{className:"flex items-center gap-3 p-3 bg-slate-800/30 rounded border border-white/5",children:[_.jsx("div",{className:"w-8 h-8 rounded-full bg-[#D4AF37]/10 flex items-center justify-center text-[#D4AF37] font-bold text-xs",children:ee.name.charAt(0)}),_.jsxs("div",{children:[_.jsx("p",{className:"text-white text-sm font-bold",children:ee.name}),_.jsx("p",{className:"text-[10px] text-slate-500",children:ee.role})]})]},ee.id))})},feed_finance:{title:"Expense Ledger",span:"col-span-1",render:()=>_.jsx("div",{className:"space-y-3",children:g.slice(0,3).map(ee=>_.jsxs("div",{className:"flex justify-between items-center p-3 bg-slate-800/30 rounded border border-white/5",children:[_.jsxs("div",{children:[_.jsx("p",{className:"text-white text-xs font-bold",children:ee.description}),_.jsx("p",{className:"text-[10px] text-slate-500",children:ee.dueDate})]}),_.jsxs("div",{className:"text-right",children:[_.jsxs("p",{className:"text-[#D4AF37] text-sm font-mono",children:["$",ee.amount.toLocaleString()]}),_.jsx("span",{className:`text-[8px] uppercase ${ee.status==="Paid"?"text-green-500":"text-yellow-500"}`,children:ee.status})]})]},ee.id))})}},Ce=Y.filter(ee=>ee.startsWith("stats_")).map(ee=>ie[ee]).filter(Boolean),Ve=Y.filter(ee=>ee.startsWith("feed_")).map(ee=>({id:ee,...W[ee]})).filter(Boolean);return _.jsxs("div",{className:"space-y-6 animate-fadeIn",children:[_.jsxs("div",{className:"flex justify-between items-center",children:[_.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[_.jsx(Dd,{className:"text-[#F4C430]",size:20})," Executive Overview"]}),_.jsxs("button",{onClick:()=>fe(!0),className:"flex items-center gap-2 px-4 py-2 bg-slate-800 hover:bg-slate-700 text-slate-300 hover:text-white rounded-lg border border-white/10 text-sm font-bold transition-all",children:[_.jsx(lE,{size:16})," Customize"]})]}),_.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6",children:Ce.map((ee,Ae)=>_.jsxs("div",{className:"bg-slate-900/50 border border-[#D4AF37]/30 p-4 sm:p-6 rounded-xl gold-glow flex flex-col justify-between h-28 sm:h-32",children:[_.jsx(ee.icon,{className:`${ee.color} mb-2`,size:20}),_.jsxs("div",{children:[_.jsx("h3",{className:"text-slate-400 text-[10px] sm:text-xs mb-1 uppercase tracking-widest font-bold",children:ee.title}),_.jsx("p",{className:"text-xl sm:text-2xl font-bold text-white",children:ee.value})]})]},Ae))}),_.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4 sm:gap-6",children:Ve.map(ee=>_.jsxs("div",{className:`${ee.span||"col-span-1"} bg-slate-900/50 border border-[#D4AF37]/30 rounded-xl p-6 gold-glow`,children:[_.jsx("h2",{className:"text-xl font-bold text-white flex items-center gap-2 mb-6",children:ee.title}),ee.render()]},ee.id))})]})},zt=()=>{const w=g.reduce((X,ie)=>X+ie.amount,0),O=g.filter(X=>X.status==="Pending").reduce((X,ie)=>X+ie.amount,0);return _.jsxs("div",{className:"space-y-6 animate-fadeIn",children:[_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[_.jsxs("div",{className:"bg-slate-900/50 border border-[#D4AF37]/30 p-6 rounded-xl gold-glow",children:[_.jsx(Od,{className:"text-[#F4C430] mb-4",size:24}),_.jsx("h3",{className:"text-slate-400 text-xs mb-1 uppercase tracking-widest font-bold",children:"Total Expenses"}),_.jsxs("p",{className:"text-3xl font-bold text-white",children:["$",w.toLocaleString()]})]}),_.jsxs("div",{className:"bg-slate-900/50 border border-red-500/30 p-6 rounded-xl gold-glow",children:[_.jsx(zr,{className:"text-red-400 mb-4",size:24}),_.jsx("h3",{className:"text-slate-400 text-xs mb-1 uppercase tracking-widest font-bold",children:"Outstanding Liability"}),_.jsxs("p",{className:"text-3xl font-bold text-red-400",children:["$",O.toLocaleString()]})]}),_.jsxs("div",{className:"bg-slate-900/50 border border-green-500/30 p-6 rounded-xl gold-glow",children:[_.jsx(Ag,{className:"text-green-400 mb-4",size:24}),_.jsx("h3",{className:"text-slate-400 text-xs mb-1 uppercase tracking-widest font-bold",children:"Burn Rate"}),_.jsx("p",{className:"text-3xl font-bold text-white",children:"LOW"})]})]}),_.jsxs("div",{className:"bg-slate-900/50 border border-[#D4AF37]/30 rounded-xl p-6 gold-glow",children:[_.jsxs("div",{className:"flex justify-between items-center mb-6",children:[_.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[_.jsx(Ag,{className:"text-[#F4C430]",size:20})," Ledger Overview"]}),_.jsx("button",{onClick:()=>ut("add","accounting",{id:"",description:"",category:"Utilities",amount:0,status:"Pending",dueDate:""}),className:"luxury-gradient px-4 py-2 rounded-lg text-slate-950 font-bold text-sm",children:"Add Transaction"})]}),_.jsxs("table",{className:"w-full text-left",children:[_.jsx("thead",{children:_.jsxs("tr",{className:"border-b border-white/5 text-slate-500 text-xs uppercase",children:[_.jsx("th",{className:"pb-4",children:"Description"}),_.jsx("th",{className:"pb-4",children:"Category"}),_.jsx("th",{className:"pb-4",children:"Amount"}),_.jsx("th",{className:"pb-4",children:"Due Date"}),_.jsx("th",{className:"pb-4",children:"Status"}),_.jsx("th",{className:"pb-4 text-right",children:"Action"})]})}),_.jsx("tbody",{className:"divide-y divide-white/5",children:g.map(X=>_.jsxs("tr",{className:"hover:bg-white/5",children:[_.jsx("td",{className:"py-4 text-white text-sm font-medium",children:X.description}),_.jsx("td",{className:"py-4 text-slate-400 text-xs uppercase",children:X.category}),_.jsxs("td",{className:"py-4 text-white font-mono",children:["$",X.amount.toLocaleString()]}),_.jsx("td",{className:"py-4 text-slate-500 text-xs",children:X.dueDate}),_.jsx("td",{className:"py-4",children:_.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold uppercase ${X.status==="Paid"?"bg-green-500/10 text-green-500 border border-green-500/20":"bg-yellow-500/10 text-yellow-500 border border-yellow-500/20"}`,children:X.status})}),_.jsx("td",{className:"py-4 text-right",children:_.jsxs("div",{className:"flex gap-2 justify-end",children:[_.jsx("button",{onClick:()=>ut("edit","accounting",X),className:"p-1.5 rounded hover:bg-yellow-500/20 text-[#D4AF37]",title:"Edit",children:_.jsx(Hr,{size:14})}),_.jsx("button",{onClick:()=>an("accounting",X.id,X.description),className:"p-1.5 rounded hover:bg-red-500/20 text-red-500",title:"Delete",children:_.jsx(co,{size:14})})]})})]},X.id))})]})]})]})},Xo=()=>_.jsxs("div",{className:"space-y-6 animate-fadeIn",children:[_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[_.jsxs("div",{className:"bg-slate-900/50 border border-[#D4AF37]/30 p-4 rounded-xl",children:[_.jsx(Ul,{className:"text-[#F4C430] mb-2",size:20}),_.jsx("h3",{className:"text-slate-500 text-[10px] uppercase font-bold",children:"Staff Count"}),_.jsx("p",{className:"text-2xl font-bold text-white",children:v.length})]}),_.jsxs("div",{className:"bg-slate-900/50 border border-[#D4AF37]/30 p-4 rounded-xl",children:[_.jsx(Ob,{className:"text-[#F4C430] mb-2",size:20}),_.jsx("h3",{className:"text-slate-500 text-[10px] uppercase font-bold",children:"Departments"}),_.jsx("p",{className:"text-2xl font-bold text-white",children:"5"})]}),_.jsxs("div",{className:"bg-slate-900/50 border border-[#D4AF37]/30 p-4 rounded-xl",children:[_.jsx(Md,{className:"text-[#F4C430] mb-2",size:20}),_.jsx("h3",{className:"text-slate-500 text-[10px] uppercase font-bold",children:"Attendance"}),_.jsx("p",{className:"text-2xl font-bold text-white",children:"98%"})]}),_.jsxs("div",{className:"bg-slate-900/50 border border-[#D4AF37]/30 p-4 rounded-xl",children:[_.jsx(Rd,{className:"text-[#F4C430] mb-2",size:20}),_.jsx("h3",{className:"text-slate-500 text-[10px] uppercase font-bold",children:"Monthly Payroll"}),_.jsxs("p",{className:"text-2xl font-bold text-white",children:["$",v.reduce((w,O)=>w+O.salary,0).toLocaleString()]})]})]}),_.jsxs("div",{className:"bg-slate-900/50 border border-[#D4AF37]/30 rounded-xl p-6 gold-glow",children:[_.jsxs("div",{className:"flex justify-between items-center mb-6",children:[_.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[_.jsx(Ul,{className:"text-[#F4C430]",size:20})," Employee Directory"]}),_.jsx("button",{onClick:()=>ut("add","hr",{id:"",name:"",role:"",department:"Production",salary:0,status:"Active"}),className:"luxury-gradient px-4 py-2 rounded-lg text-slate-950 font-bold text-sm",children:"Add Employee"})]}),_.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:v.map(w=>_.jsxs("div",{className:"p-4 bg-slate-800/30 rounded-lg border border-white/5 flex justify-between items-center group hover:border-[#D4AF37]/40 transition-all",children:[_.jsxs("div",{className:"flex gap-4 items-center",children:[_.jsx("div",{className:"w-10 h-10 rounded-full bg-[#D4AF37]/20 flex items-center justify-center text-[#D4AF37] font-bold",children:w.name.charAt(0)}),_.jsxs("div",{children:[_.jsx("h4",{className:"text-white font-bold text-sm",children:w.name}),_.jsxs("p",{className:"text-[10px] text-slate-500 uppercase",children:[w.role,"  ",w.department]})]})]}),_.jsxs("div",{className:"text-right flex flex-col items-end",children:[_.jsxs("div",{className:"text-xs font-mono text-white mb-1",children:["$",w.salary.toLocaleString()]}),_.jsx("span",{className:"px-2 py-0.5 rounded-full bg-green-500/10 text-green-500 text-[9px] font-bold uppercase border border-green-500/20 mb-1",children:w.status}),_.jsxs("div",{className:"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[_.jsx("button",{onClick:()=>ut("edit","hr",w),className:"p-1 rounded hover:bg-yellow-500/20 text-[#D4AF37]",title:"Edit",children:_.jsx(Hr,{size:12})}),_.jsx("button",{onClick:()=>an("hr",w.id,w.name),className:"p-1 rounded hover:bg-red-500/20 text-red-500",title:"Delete",children:_.jsx(co,{size:12})})]})]})]},w.id))})]})]}),va=()=>_.jsxs("div",{className:"space-y-6 animate-fadeIn flex flex-col pb-10",children:[_.jsxs("div",{className:"flex justify-between items-center shrink-0",children:[_.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[_.jsx(Mg,{className:"text-[#F4C430]",size:20})," AI Operational Assistant"]}),_.jsxs("div",{className:"flex items-center gap-2 bg-slate-900 border border-white/10 rounded-lg p-1",children:[_.jsx("span",{className:"text-[10px] text-slate-500 uppercase font-bold px-2",children:"Model:"}),_.jsxs("select",{value:He,onChange:w=>Ge(w.target.value),className:"bg-transparent text-xs text-[#D4AF37] font-bold focus:outline-none",children:[_.jsx("option",{value:"Gemini",children:"Gemini 3 Pro"}),_.jsx("option",{value:"Claude",children:"Claude 3.5 Sonnet"}),_.jsx("option",{value:"NotebookLM",children:"NotebookLM"})]})]})]}),_.jsxs("div",{className:"flex-1 bg-slate-900/50 border border-[#D4AF37]/30 rounded-xl p-4 gold-glow flex flex-col overflow-hidden",children:[_.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar space-y-4 mb-4 p-2",children:[hi.map((w,O)=>_.jsx("div",{className:`flex ${w.role==="user"?"justify-end":"justify-start"}`,children:_.jsx("div",{className:`max-w-[80%] p-4 rounded-xl text-sm ${w.role==="user"?"bg-[#D4AF37] text-slate-950 font-medium rounded-br-none":"bg-slate-800 text-slate-200 border border-white/10 rounded-bl-none"}`,children:w.text})},O)),Te&&_.jsx("div",{className:"flex justify-start",children:_.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl rounded-bl-none border border-white/10 flex items-center gap-2 text-slate-400 text-xs",children:[_.jsx(Dl,{className:"animate-spin",size:14})," Processing with ",He,"..."]})})]}),_.jsxs("div",{className:"shrink-0 flex gap-2",children:[_.jsx("button",{onClick:ye?$o:Si,className:`p-3 rounded-lg border transition-all ${ye?"bg-red-500/20 border-red-500 text-red-500 animate-pulse":"bg-slate-950 border-white/10 text-slate-400 hover:text-white"}`,children:ye?_.jsx(bE,{size:20}):_.jsx(TE,{size:20})}),_.jsx("input",{type:"text",value:In,onChange:w=>fi(w.target.value),onKeyDown:w=>w.key==="Enter"&&Ko(),placeholder:`Query ${He}...`,className:"flex-1 bg-slate-950 border border-white/10 rounded-lg px-4 py-3 text-sm text-white focus:border-[#D4AF37] focus:outline-none"}),_.jsx("button",{onClick:Ko,disabled:!In.trim()||Te,className:"bg-[#D4AF37] hover:bg-[#c4a030] text-slate-950 p-3 rounded-lg transition-colors disabled:opacity-50",children:_.jsx(Dg,{size:20})})]})]})]}),Qo=()=>{const w=C.filter(O=>O.title.toLowerCase().includes(bt.toLowerCase())||O.id.toLowerCase().includes(bt.toLowerCase()));return _.jsxs("div",{className:"space-y-6 animate-fadeIn",children:[_.jsxs("div",{className:"flex justify-between items-center",children:[_.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[_.jsx(Id,{className:"text-[#F4C430]",size:20})," R&D Formulation Lab"]}),_.jsxs("div",{className:"flex gap-2",children:[_.jsxs("div",{className:"relative",children:[_.jsx(UE,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:14}),_.jsx("input",{type:"text",value:bt,onChange:O=>kn(O.target.value),placeholder:"Search formulations...",className:"bg-slate-900 border border-white/10 rounded-lg pl-9 pr-4 py-2 text-sm text-white focus:border-[#D4AF37] focus:outline-none"})]}),_.jsxs("button",{onClick:()=>{var O;return(O=Vo.current)==null?void 0:O.click()},className:"bg-slate-800 hover:bg-slate-700 text-slate-300 px-4 py-2 rounded-lg text-sm font-bold flex items-center gap-2",children:[_.jsx(Fr,{size:14})," Upload Formula"]}),_.jsx("input",{type:"file",ref:Vo,className:"hidden",onChange:O=>Yt(O,"rd")})]})]}),_.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[_.jsxs("div",{className:"bg-slate-900/50 border border-[#D4AF37]/30 rounded-xl p-6 gold-glow",children:[_.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Current Projects"}),_.jsx("div",{className:"space-y-3 max-h-[400px] overflow-y-auto custom-scrollbar",children:w.length===0?_.jsx("p",{className:"text-slate-500 text-sm",children:"No formulations found."}):w.map(O=>_.jsxs("div",{className:`p-4 rounded border transition-all group relative ${(ze==null?void 0:ze.id)===O.id?"bg-[#D4AF37]/10 border-[#D4AF37]":"bg-slate-800/30 border-white/5 hover:bg-slate-800/50"}`,children:[_.jsx("div",{className:"absolute top-2 right-2 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:_.jsx("button",{onClick:X=>{X.stopPropagation(),an("rd",O.id,O.title)},className:"p-1 rounded bg-slate-900 text-red-500 hover:bg-red-900",title:"Delete",children:_.jsx(co,{size:12})})}),_.jsxs("div",{className:"flex justify-between items-start cursor-pointer",onClick:()=>V(O),children:[_.jsx("h4",{className:"font-bold text-white",children:O.title}),_.jsx("span",{className:"text-[10px] bg-slate-950 text-slate-300 px-2 py-0.5 rounded",children:O.status})]}),_.jsxs("p",{className:"text-[10px] text-slate-500 mt-1 cursor-pointer",onClick:()=>V(O),children:["ID: ",O.id,"  Score: ",O.optimizationScore]})]},O.id))})]}),_.jsx("div",{className:"bg-slate-900/50 border border-[#D4AF37]/30 rounded-xl p-6 gold-glow relative min-h-[400px]",children:ze?_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"flex justify-between items-start mb-4",children:[_.jsxs("div",{children:[_.jsx("h3",{className:"text-lg font-bold text-white",children:"Formulation Analysis"}),_.jsx("p",{className:"text-xs text-slate-500",children:ze.title})]}),_.jsxs("button",{onClick:fa,disabled:Te,className:"flex items-center gap-2 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-500 hover:to-purple-500 text-white px-4 py-2 rounded-lg text-xs font-bold transition-all",children:[Te?_.jsx(Dl,{className:"animate-spin",size:14}):_.jsx(Ug,{size:14})," AI OPTIMIZE"]})]}),_.jsx("div",{className:"space-y-2 mb-6",children:ze.ingredients.length===0?_.jsx("p",{className:"text-sm text-slate-500 italic",children:"No ingredients listed."}):ze.ingredients.map((O,X)=>_.jsxs("div",{className:"flex justify-between text-sm py-1 border-b border-white/5",children:[_.jsxs("span",{className:"text-slate-300",children:[O.name," ",_.jsxs("span",{className:"text-[10px] text-slate-500",children:["(",O.role,")"]})]}),_.jsxs("span",{className:"font-mono text-[#D4AF37]",children:[O.quantity," ",O.unit]})]},X))}),_.jsxs("div",{className:"p-4 bg-slate-800/30 rounded border border-white/5",children:[_.jsx("h4",{className:"text-xs font-bold text-[#D4AF37] mb-2 uppercase",children:"AI Optimization Report"}),_.jsx("p",{className:"text-sm text-slate-300 leading-relaxed",children:ze.optimizationScore>90?"Formulation meets bioequivalence standards. No critical interactions detected between API and excipients.":"Optimization Required: Binder concentration may affect dissolution profile. Recommend adjusting HPMC levels."})]})]}):_.jsx("div",{className:"flex items-center justify-center h-full text-slate-500",children:"Select a project"})})]})]})},xi=()=>_.jsxs("div",{className:"space-y-6 animate-fadeIn flex flex-col pb-10",children:[_.jsxs("div",{className:"flex justify-between items-center shrink-0",children:[_.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[_.jsx(Cg,{className:"text-[#F4C430]",size:20})," Industrial Design Chat"]}),_.jsxs("div",{className:"flex items-center gap-2 bg-slate-900 border border-white/10 rounded-lg p-1",children:[_.jsx("span",{className:"text-[10px] text-slate-500 uppercase font-bold px-2",children:"Provider:"}),_.jsxs("select",{value:He,onChange:w=>Ge(w.target.value),className:"bg-transparent text-xs text-[#D4AF37] font-bold focus:outline-none",children:[_.jsx("option",{value:"Gemini",children:"Gemini 3 Pro"}),_.jsx("option",{value:"Claude",children:"Claude 3.5"})]})]})]}),_.jsxs("div",{className:"flex-1 bg-slate-900/50 border border-[#D4AF37]/30 rounded-xl p-0 gold-glow flex flex-col overflow-hidden relative",children:[_.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-6 space-y-6",children:[vn.map(w=>_.jsx("div",{className:`flex ${w.role==="user"?"justify-end":"justify-start"}`,children:_.jsxs("div",{className:`max-w-[85%] ${w.role==="user"?"items-end":"items-start"} flex flex-col`,children:[_.jsx("div",{className:`p-4 rounded-xl text-sm ${w.role==="user"?"bg-[#D4AF37] text-slate-950 font-medium rounded-br-none":"bg-slate-800 text-slate-200 border border-white/10 rounded-bl-none"}`,children:w.text}),w.image&&_.jsxs("div",{className:"mt-2 relative group rounded-lg overflow-hidden border border-white/10 max-w-md",children:[_.jsx("img",{src:w.image,alt:"Generated Design",className:"w-full h-auto"}),_.jsxs("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center gap-4 opacity-0 group-hover:opacity-100 transition-opacity",children:[_.jsx("button",{onClick:()=>nt(w.image,`design-${w.timestamp}.png`,"image"),className:"p-2 bg-white text-black rounded-full hover:bg-[#D4AF37] transition-colors",title:"Download",children:_.jsx(iE,{size:20})}),_.jsx("button",{onClick:()=>nt(w.image,`design-${w.timestamp}.png`,"image"),className:"p-2 bg-white text-black rounded-full hover:bg-[#D4AF37] transition-colors",title:"Save to Gallery",children:_.jsx(DE,{size:20})})]})]}),_.jsx("span",{className:"text-[10px] text-slate-500 mt-1",children:new Date(w.timestamp).toLocaleTimeString()})]})},w.id)),Te&&_.jsx("div",{className:"flex justify-start",children:_.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl rounded-bl-none border border-white/10 flex items-center gap-2 text-slate-400 text-xs",children:[_.jsx(Dl,{className:"animate-spin",size:14})," Generating Design Concept..."]})})]}),_.jsxs("div",{className:"shrink-0 p-4 bg-slate-950 border-t border-white/10 flex flex-col gap-2",children:[zn&&_.jsxs("div",{className:"flex items-center gap-2 p-2 bg-slate-900 border border-white/10 rounded-lg w-fit",children:[_.jsx(Ig,{size:14,className:"text-[#D4AF37]"}),_.jsx("span",{className:"text-xs text-white",children:"Image Attached for Editing"}),_.jsx("button",{onClick:()=>{Go(null),zo(null)},children:_.jsx($r,{size:14,className:"text-slate-500 hover:text-white"})})]}),_.jsxs("div",{className:"flex gap-2 items-center",children:[_.jsx("button",{onClick:()=>{var w;return(w=ca.current)==null?void 0:w.click()},className:"p-3 text-slate-400 hover:text-white bg-slate-900 rounded-lg border border-white/10 h-12 w-12 flex items-center justify-center",children:_.jsx(NE,{size:20})}),_.jsx("input",{type:"file",ref:ca,className:"hidden",onChange:w=>Yt(w,"industrial")}),_.jsxs("select",{value:Cs,onChange:w=>qo(w.target.value),className:"bg-slate-900 border border-white/10 rounded-lg px-2 h-12 text-xs text-white focus:outline-none",children:[_.jsx("option",{value:"1:1",children:"1:1"}),_.jsx("option",{value:"16:9",children:"16:9"}),_.jsx("option",{value:"9:16",children:"9:16"}),_.jsx("option",{value:"4:3",children:"4:3"}),_.jsx("option",{value:"3:4",children:"3:4"})]}),_.jsxs("select",{value:Zi,onChange:w=>Bo(w.target.value),className:"bg-slate-900 border border-white/10 rounded-lg px-2 h-12 text-xs text-white focus:outline-none",children:[_.jsx("option",{value:"1K",children:"1K"}),_.jsx("option",{value:"2K",children:"2K"}),_.jsx("option",{value:"4K",children:"4K"})]}),_.jsx("input",{type:"text",value:pi,onChange:w=>ra(w.target.value),onKeyDown:w=>w.key==="Enter"&&Ei(),placeholder:zn?"How should I edit this image?":"Describe facility layout...",className:"flex-1 bg-slate-900 border border-white/10 rounded-lg px-4 h-12 text-sm text-white focus:border-[#D4AF37] focus:outline-none"}),_.jsxs("button",{onClick:Ei,disabled:!pi.trim()&&!zn||Te,className:"bg-[#D4AF37] hover:bg-[#c4a030] text-slate-950 px-6 h-12 rounded-lg font-bold transition-colors disabled:opacity-50 flex items-center gap-2",children:[zn?_.jsx(WE,{size:16}):_.jsx(Ig,{size:16}),zn?"EDIT":"GENERATE"]})]})]})]})]}),_a=()=>{const w=Mn.find(O=>O.id===Ot);return _.jsxs("div",{className:"space-y-6 animate-fadeIn flex flex-col pb-10",children:[_.jsxs("div",{className:"flex justify-between items-center shrink-0",children:[_.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[_.jsx(Rl,{className:"text-[#F4C430]",size:20})," Strategic Brainstorming"]}),_.jsxs("div",{className:"flex items-center gap-2 bg-slate-900 border border-white/10 rounded-lg p-1",children:[_.jsx("span",{className:"text-[10px] text-slate-500 uppercase font-bold px-2",children:"Knowledge:"}),_.jsxs("select",{value:He,onChange:O=>Ge(O.target.value),className:"bg-transparent text-xs text-[#D4AF37] font-bold focus:outline-none",children:[_.jsx("option",{value:"Gemini",children:"Gemini 3 Pro"}),_.jsx("option",{value:"NotebookLM",children:"NotebookLM"})]})]})]}),_.jsxs("div",{className:"flex-1 grid grid-cols-1 lg:grid-cols-4 gap-6 overflow-hidden",children:[_.jsxs("div",{className:"bg-slate-900/50 border border-[#D4AF37]/30 rounded-xl p-4 gold-glow flex flex-col",children:[_.jsxs("button",{onClick:Hn,className:"w-full mb-4 py-2 bg-[#D4AF37]/10 border border-[#D4AF37] text-[#D4AF37] rounded-lg text-sm font-bold flex items-center justify-center gap-2 hover:bg-[#D4AF37]/20 transition-all",children:[_.jsx(Vr,{size:16})," New Session"]}),_.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar space-y-2",children:[Mn.map(O=>_.jsxs("div",{onClick:()=>aa(O.id),className:`p-3 rounded-lg cursor-pointer border transition-all ${Ot===O.id?"bg-slate-800 border-[#D4AF37]/50 text-white":"bg-transparent border-transparent hover:bg-slate-800/50 text-slate-400"}`,children:[_.jsx("div",{className:"text-sm font-bold truncate",children:O.topic}),_.jsx("div",{className:"text-[10px] opacity-60",children:O.date})]},O.id)),Mn.length===0&&_.jsx("p",{className:"text-center text-xs text-slate-500 mt-4",children:"No history."})]})]}),_.jsx("div",{className:"lg:col-span-3 bg-slate-900/50 border border-[#D4AF37]/30 rounded-xl flex flex-col gold-glow overflow-hidden relative",children:Ot?_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"p-4 border-b border-white/5 flex justify-between items-center bg-slate-950/50",children:[_.jsxs("div",{children:[_.jsx("h3",{className:"text-sm font-bold text-white",children:w==null?void 0:w.topic}),_.jsx("p",{className:"text-[10px] text-slate-500",children:"Strategic Session"})]}),_.jsxs("button",{onClick:()=>nt(JSON.stringify(w==null?void 0:w.messages,null,2),"transcript.json","text"),className:"text-slate-400 hover:text-[#D4AF37] flex items-center gap-2 text-xs font-bold",children:[_.jsx(Il,{size:14})," Transcript"]})]}),_.jsxs("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-6 space-y-6",children:[w==null?void 0:w.messages.map(O=>_.jsx("div",{className:`flex ${O.role==="user"?"justify-end":"justify-start"}`,children:_.jsxs("div",{className:`max-w-[85%] p-4 rounded-xl text-sm ${O.role==="user"?"bg-slate-800 border border-white/20 text-white rounded-br-none":"bg-black/40 border border-[#D4AF37]/20 text-slate-300 rounded-bl-none"}`,children:[_.jsx("div",{className:"whitespace-pre-wrap leading-relaxed",children:O.text}),_.jsx("span",{className:"text-[10px] opacity-40 block mt-2",children:new Date(O.timestamp).toLocaleTimeString()})]})},O.id)),Te&&_.jsx("div",{className:"flex justify-start",children:_.jsxs("div",{className:"bg-black/40 p-4 rounded-xl border border-[#D4AF37]/20 flex items-center gap-2 text-slate-400 text-xs",children:[_.jsx(Rl,{className:"animate-pulse",size:14})," Analyzing Strategy..."]})})]}),_.jsxs("div",{className:"p-4 bg-slate-950 border-t border-white/10 flex gap-2",children:[_.jsx("button",{onClick:()=>{var O;return(O=Ho.current)==null?void 0:O.click()},className:"p-3 text-slate-400 hover:text-white bg-slate-900 rounded-lg border border-white/10",children:_.jsx(oE,{size:20})}),_.jsx("input",{type:"file",ref:Ho,className:"hidden",onChange:O=>Yt(O,"brainstorm")}),_.jsx("input",{type:"text",value:mi,onChange:O=>la(O.target.value),onKeyDown:O=>O.key==="Enter"&&ot(),placeholder:"Type your strategic input...",className:"flex-1 bg-slate-900 border border-white/10 rounded-lg px-4 py-3 text-sm text-white focus:border-[#D4AF37] focus:outline-none"}),_.jsx("button",{onClick:ot,disabled:!mi.trim()||Te,className:"bg-[#D4AF37] hover:bg-[#c4a030] text-slate-950 p-3 rounded-lg transition-colors disabled:opacity-50",children:_.jsx(Dg,{size:20})})]})]}):_.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-slate-500",children:[_.jsx(Rl,{size:48,className:"mb-4 opacity-20"}),_.jsx("p",{children:"Select a session or start a new one."}),_.jsx("button",{onClick:Hn,className:"mt-4 px-6 py-2 bg-[#D4AF37] text-slate-950 rounded-lg font-bold text-sm",children:"Start New Session"})]})})]})]})},Sa=()=>_.jsxs("div",{className:"space-y-6 animate-fadeIn",children:[_.jsxs("div",{className:"flex justify-between items-center",children:[_.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[_.jsx(Ml,{className:"text-[#F4C430]",size:20})," Business Development"]}),_.jsxs("div",{className:"flex gap-2",children:[_.jsxs("button",{onClick:()=>{var w;return(w=Fo.current)==null?void 0:w.click()},className:"bg-slate-800 hover:bg-slate-700 text-slate-300 px-4 py-2 rounded-lg text-sm font-bold flex items-center gap-2",children:[_.jsx(Fr,{size:14})," Import Data"]}),_.jsx("input",{type:"file",ref:Fo,className:"hidden",onChange:w=>Yt(w,"bd")}),_.jsxs("button",{onClick:It,className:"bg-[#D4AF37]/10 hover:bg-[#D4AF37]/20 text-[#D4AF37] border border-[#D4AF37] px-4 py-2 rounded-lg text-sm font-bold flex items-center gap-2",children:[_.jsx(Il,{size:14})," Export Report"]})]})]}),_.jsx("div",{className:"bg-slate-900/50 border border-[#D4AF37]/30 rounded-xl p-6 gold-glow",children:_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:x.map(w=>_.jsxs("div",{className:"p-4 bg-slate-800/30 rounded border border-white/5 flex justify-between items-center",children:[_.jsxs("div",{children:[_.jsx("p",{className:"text-[#D4AF37] text-xs font-bold uppercase",children:w.targetMarket}),_.jsx("h3",{className:"text-white font-bold",children:w.opportunity})]}),_.jsx("div",{className:"text-right",children:_.jsxs("div",{className:"text-lg font-bold text-white",children:[w.probability,"%"]})})]},w.id))})})]}),wi=()=>_.jsxs("div",{className:"space-y-6 animate-fadeIn",children:[_.jsx("div",{className:"flex justify-between items-center",children:_.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[_.jsx(kd,{className:"text-[#F4C430]",size:20})," Sample Tracking"]})}),_.jsx("div",{className:"bg-slate-900/50 border border-[#D4AF37]/30 rounded-xl p-6 gold-glow",children:_.jsxs("table",{className:"w-full text-left",children:[_.jsx("thead",{children:_.jsxs("tr",{className:"border-b border-white/5 text-slate-500 text-xs uppercase",children:[_.jsx("th",{className:"pb-2",children:"Sample ID"}),_.jsx("th",{className:"pb-2",children:"Product"}),_.jsx("th",{className:"pb-2",children:"Status"})]})}),_.jsx("tbody",{className:"divide-y divide-white/5",children:A.map(w=>_.jsxs("tr",{children:[_.jsx("td",{className:"py-3 text-sm text-[#D4AF37] font-mono",children:w.id}),_.jsx("td",{className:"py-3 text-sm text-white",children:w.product}),_.jsx("td",{className:"py-3",children:_.jsx("span",{className:"text-[10px] uppercase bg-purple-500/10 text-purple-400 px-2 py-0.5 rounded border border-purple-500/20",children:w.status})})]},w.id))})]})})]}),Eu=()=>_.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[_.jsx("path",{d:"M12 2a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2 2 2 0 0 1-2-2V4a2 2 0 0 1 2-2z"}),_.jsx("path",{d:"M12 22a2 2 0 0 1-2-2v-2a2 2 0 0 1 2-2 2 2 0 0 1 2 2v2a2 2 0 0 1-2 2z"}),_.jsx("path",{d:"M22 12a2 2 0 0 1-2 2h-2a2 2 0 0 1-2-2 2 2 0 0 1 2-2h2a2 2 0 0 1 2 2z"}),_.jsx("path",{d:"M6 12a2 2 0 0 1-2-2H2a2 2 0 0 1-2 2 2 2 0 0 1 2 2h2a2 2 0 0 1 2-2z"}),_.jsx("rect",{x:"7",y:"7",width:"10",height:"10",rx:"3"})]});return _.jsxs("div",{className:"h-screen w-full flex bg-[#020617] text-slate-200 overflow-hidden font-inter",children:[Gt(),Sn(),ks(),_u(),ma(),_.jsx("aside",{className:`fixed inset-y-0 left-0 z-50 w-64 sm:w-72 bg-slate-950 border-r border-[#D4AF37]/20 flex flex-col transition-transform duration-300 md:relative md:translate-x-0 ${Z?"translate-x-0":"-translate-x-full"}`,children:_.jsxs("div",{className:"p-4 sm:p-8 h-full flex flex-col",children:[_.jsxs("div",{className:"flex justify-between items-center mb-6 sm:mb-10",children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("div",{className:"luxury-gradient w-10 h-10 rounded-lg flex items-center justify-center shadow-lg shadow-[#D4AF37]/20",children:_.jsx(xg,{className:"text-slate-950",size:24})}),_.jsxs("div",{children:[_.jsx("h1",{className:"text-lg sm:text-xl font-bold text-white tracking-tight leading-none",children:"ALWAJAR"}),_.jsx("span",{className:"text-[9px] sm:text-[10px] font-bold text-[#D4AF37] tracking-[0.2em] uppercase",children:"Pharma ERP"})]})]}),_.jsx("button",{onClick:()=>se(!1),className:"md:hidden text-slate-500 hover:text-white",children:_.jsx($r,{size:20})})]}),_.jsx("nav",{className:"space-y-1 overflow-y-auto custom-scrollbar flex-1 pr-2",children:[{id:"dashboard",label:"Dashboard",icon:Dd},{id:"production",label:"Manufacturing",icon:Ng},{id:"inventory",label:"Inventory",icon:wg},{id:"sales",label:"Sales Orders",icon:Rd},{id:"procurement",label:"Procurement",icon:Ud},{id:"accounting",label:"Accounting",icon:Od},{id:"hr",label:"HR & Admin",icon:Ul},{id:"rd",label:"R&D Lab",icon:Id},{id:"industrial",label:"Industrial Studio",icon:Cg},{id:"bd",label:"Business Dev",icon:Ml},{id:"samples",label:"Sample Status",icon:kd},{id:"ai",label:"AI Operations",icon:Mg},{id:"brainstorm",label:"Brainstorming",icon:Rl},{id:"history",label:"Audit History",icon:Rg}].map(w=>_.jsxs("button",{onClick:()=>{e(w.id),se(!1)},className:`w-full flex items-center gap-2 sm:gap-3 px-3 sm:px-4 py-2.5 sm:py-3 rounded-xl transition-all duration-200 ${t===w.id?"bg-[#D4AF37] text-slate-950 font-bold shadow-lg":"text-slate-500 hover:bg-white/5 hover:text-white"}`,children:[_.jsx(w.icon,{size:18}),_.jsx("span",{className:"text-xs sm:text-sm",children:w.label}),t===w.id&&_.jsx(Fb,{size:14,className:"ml-auto"})]},w.id))}),_.jsx("div",{className:"pt-4 mt-4 border-t border-white/10",children:_.jsxs("button",{onClick:()=>be(!0),className:"w-full flex items-center gap-2 sm:gap-3 px-3 sm:px-4 py-2.5 sm:py-3 rounded-xl text-slate-400 hover:text-white hover:bg-white/5 transition-all",children:[_.jsx(kg,{size:18}),_.jsx("span",{className:"text-xs sm:text-sm font-bold",children:"Settings & API"})]})})]})}),_.jsxs("main",{className:"flex-1 overflow-y-auto custom-scrollbar flex flex-col bg-[#020617] h-screen",children:[_.jsxs("header",{className:"sticky top-0 h-16 sm:h-20 bg-slate-950/80 backdrop-blur-md border-b border-white/5 px-4 sm:px-8 flex items-center justify-between z-10 shrink-0",children:[_.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 flex-1 min-w-0",children:[_.jsx("button",{onClick:()=>se(!Z),className:"md:hidden p-2 text-slate-400 hover:text-white -ml-2",children:_.jsx(vE,{size:24})}),_.jsx("h1",{className:"text-lg sm:text-2xl font-bold text-white tracking-tight truncate",children:t==="history"?"AUDIT HISTORY":t.toUpperCase()+" HUB"})]}),_.jsxs("button",{onClick:bi,className:"luxury-gradient px-3 sm:px-4 py-1.5 sm:py-2 rounded-lg text-slate-950 text-xs sm:text-sm font-bold flex items-center gap-1.5 sm:gap-2 shrink-0 ml-2",children:[_.jsx(Fr,{size:16,className:"sm:w-[18px] sm:h-[18px]"}),_.jsx("span",{className:"hidden sm:inline",children:"GLOBAL SYNC"}),_.jsx("span",{className:"sm:hidden",children:"SYNC"})]}),_.jsx("input",{type:"file",ref:Ms,className:"hidden",onChange:w=>Yt(w,"global")})]}),_.jsxs("div",{className:"p-4 sm:p-6 lg:p-8",children:[t==="dashboard"&&bu(),t==="production"&&Su(),t==="inventory"&&Yo(),t==="sales"&&ya(),t==="procurement"&&Us(),t==="accounting"&&zt(),t==="hr"&&Xo(),t==="rd"&&Qo(),t==="industrial"&&xi(),t==="ai"&&va(),t==="brainstorm"&&_a(),t==="bd"&&Sa(),t==="samples"&&wi(),t==="history"&&ga()]})]}),Z&&_.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 md:hidden",onClick:()=>se(!1)})]})},a_=document.getElementById("root");if(!a_)throw new Error("Could not find root element to mount to");const EM=bb.createRoot(a_);EM.render(_.jsx(Fy.StrictMode,{children:_.jsx(bM,{})}));
